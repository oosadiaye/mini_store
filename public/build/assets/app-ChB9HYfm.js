const ed=(t,e)=>e.some(r=>t instanceof r);let C1,E1;function Ob(){return C1||(C1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kb(){return E1||(E1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const td=new WeakMap,xf=new WeakMap,rc=new WeakMap;function Nb(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(Oo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return rc.set(e,t),e}function Rb(t){if(td.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});td.set(t,e)}let rd={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return td.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Oo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ev(t){rd=t(rd)}function Pb(t){return kb().includes(t)?function(...e){return t.apply(nd(this),e),Oo(this.request)}:function(...e){return Oo(t.apply(nd(this),e))}}function Db(t){return typeof t=="function"?Pb(t):(t instanceof IDBTransaction&&Rb(t),ed(t,Ob())?new Proxy(t,rd):t)}function Oo(t){if(t instanceof IDBRequest)return Nb(t);if(xf.has(t))return xf.get(t);const e=Db(t);return e!==t&&(xf.set(t,e),rc.set(e,t)),e}const nd=t=>rc.get(t);function Mb(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Oo(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Oo(s.result),l.oldVersion,l.newVersion,Oo(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Bb=["get","getKey","getAll","getAllKeys","count"],Fb=["put","add","delete","clear"],bf=new Map;function S1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Fb.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Bb.includes(r)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),i&&l.done]))[0]};return bf.set(e,o),o}ev(t=>({...t,get:(e,r,n)=>S1(e,r)||t.get(e,r,n),has:(e,r)=>!!S1(e,r)||t.has(e,r)}));const Lb=["continue","continuePrimaryKey","advance"],I1={},id=new WeakMap,tv=new WeakMap,$b={get(t,e){if(!Lb.includes(e))return t[e];let r=I1[e];return r||(r=I1[e]=function(...n){id.set(this,tv.get(this)[e](...n))}),r}};async function*Ub(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const r=new Proxy(e,$b);for(tv.set(r,e),rc.set(r,nd(e));e;)yield r,e=await(id.get(r)||e.continue()),id.delete(r)}function T1(t,e){return e===Symbol.asyncIterator&&ed(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&ed(t,[IDBIndex,IDBObjectStore])}ev(t=>({...t,get(e,r,n){return T1(e,r)?Ub:t.get(e,r,n)},has(e,r){return T1(e,r)||t.has(e,r)}}));const Vb="mini-store-db",ls="sync-queue",_f=Mb(Vb,1,{upgrade(t){t.createObjectStore(ls,{keyPath:"id",autoIncrement:!0})}}),rv={async queueRequest(t,e={}){const r=await _f;let n=e.body,i=n instanceof FormData,o=n;if(i){o=[];for(const[a,l]of n.entries())o.push({key:a,value:l})}const s={url:t,method:e.method||"POST",headers:e.headers?Array.from(new Headers(e.headers).entries()):[],body:o,isFormData:i,timestamp:Date.now()};await r.add(ls,s),console.log("ðŸ”Œ Request queued for offline sync:",s.url),window.dispatchEvent(new CustomEvent("offline-queue-updated"))},async processQueue(){const t=await _f,e=await t.getAll(ls);if(e.length!==0){console.log(`ðŸ”„ Processing ${e.length} offline requests...`);for(const r of e)try{let n=r.body;const i=new Headers(r.headers);i.set("X-Offline-Sync","true"),r.isFormData&&(n=new FormData,r.body.forEach(s=>{n.append(s.key,s.value)}),i.delete("Content-Type"));const o=await fetch(r.url,{method:r.method,headers:i,body:n});o.ok?(console.log("âœ… Synced:",r.url),await t.delete(ls,r.id)):(console.error("âŒ Sync failed for:",r.url,o.status),o.status===422&&await t.delete(ls,r.id))}catch(n){console.error("âŒ Sync network error:",n);break}window.dispatchEvent(new CustomEvent("offline-queue-updated"))}},async getQueueCount(){return await(await _f).count(ls)}};window.addEventListener("online",()=>{console.log("ðŸŒ Online - Attempting sync..."),rv.processQueue()});var od=!1,sd=!1,ko=[],ad=-1;function jb(t){Hb(t)}function Hb(t){ko.includes(t)||ko.push(t),Kb()}function Wb(t){let e=ko.indexOf(t);e!==-1&&e>ad&&ko.splice(e,1)}function Kb(){!sd&&!od&&(od=!0,queueMicrotask(qb))}function qb(){od=!1,sd=!0;for(let t=0;t<ko.length;t++)ko[t](),ad=t;ko.length=0,ad=-1,sd=!1}var Fs,zo,Ls,nv,ld=!0;function Gb(t){ld=!1,t(),ld=!0}function zb(t){Fs=t.reactive,Ls=t.release,zo=e=>t.effect(e,{scheduler:r=>{ld?jb(r):r()}}),nv=t.raw}function O1(t){zo=t}function Xb(t){let e=()=>{};return[n=>{let i=zo(n);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(o=>o())}),t._x_effects.add(i),e=()=>{i!==void 0&&(t._x_effects.delete(i),Ls(i))},i},()=>{e()}]}function iv(t,e){let r=!0,n,i=zo(()=>{let o=t();JSON.stringify(o),r?n=o:queueMicrotask(()=>{e(o,n),n=o}),r=!1});return()=>Ls(i)}var ov=[],sv=[],av=[];function Yb(t){av.push(t)}function v0(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,sv.push(e))}function lv(t){ov.push(t)}function uv(t,e,r){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(r)}function cv(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([r,n])=>{(e===void 0||e.includes(r))&&(n.forEach(i=>i()),delete t._x_attributeCleanups[r])})}function Zb(t){for(t._x_effects?.forEach(Wb);t._x_cleanups?.length;)t._x_cleanups.pop()()}var y0=new MutationObserver(_0),m0=!1;function x0(){y0.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),m0=!0}function fv(){Jb(),y0.disconnect(),m0=!1}var na=[];function Jb(){let t=y0.takeRecords();na.push(()=>t.length>0&&_0(t));let e=na.length;queueMicrotask(()=>{if(na.length===e)for(;na.length>0;)na.shift()()})}function Ut(t){if(!m0)return t();fv();let e=t();return x0(),e}var b0=!1,Cu=[];function Qb(){b0=!0}function e_(){b0=!1,_0(Cu),Cu=[]}function _0(t){if(b0){Cu=Cu.concat(t);return}let e=[],r=new Set,n=new Map,i=new Map;for(let o=0;o<t.length;o++)if(!t[o].target._x_ignoreMutationObserver&&(t[o].type==="childList"&&(t[o].removedNodes.forEach(s=>{s.nodeType===1&&s._x_marker&&r.add(s)}),t[o].addedNodes.forEach(s=>{if(s.nodeType===1){if(r.has(s)){r.delete(s);return}s._x_marker||e.push(s)}})),t[o].type==="attributes")){let s=t[o].target,a=t[o].attributeName,l=t[o].oldValue,u=()=>{n.has(s)||n.set(s,[]),n.get(s).push({name:a,value:s.getAttribute(a)})},f=()=>{i.has(s)||i.set(s,[]),i.get(s).push(a)};s.hasAttribute(a)&&l===null?u():s.hasAttribute(a)?(f(),u()):f()}i.forEach((o,s)=>{cv(s,o)}),n.forEach((o,s)=>{ov.forEach(a=>a(s,o))});for(let o of r)e.some(s=>s.contains(o))||sv.forEach(s=>s(o));for(let o of e)o.isConnected&&av.forEach(s=>s(o));e=null,r=null,n=null,i=null}function dv(t){return Ya(_s(t))}function Xa(t,e,r){return t._x_dataStack=[e,..._s(r||t)],()=>{t._x_dataStack=t._x_dataStack.filter(n=>n!==e)}}function _s(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?_s(t.host):t.parentNode?_s(t.parentNode):[]}function Ya(t){return new Proxy({objects:t},t_)}var t_={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(e=>Object.keys(e))))},has({objects:t},e){return e==Symbol.unscopables?!1:t.some(r=>Object.prototype.hasOwnProperty.call(r,e)||Reflect.has(r,e))},get({objects:t},e,r){return e=="toJSON"?r_:Reflect.get(t.find(n=>Reflect.has(n,e))||{},e,r)},set({objects:t},e,r,n){const i=t.find(s=>Object.prototype.hasOwnProperty.call(s,e))||t[t.length-1],o=Object.getOwnPropertyDescriptor(i,e);return o?.set&&o?.get?o.set.call(n,r)||!0:Reflect.set(i,e,r)}};function r_(){return Reflect.ownKeys(this).reduce((e,r)=>(e[r]=Reflect.get(this,r),e),{})}function hv(t){let e=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,r=(n,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([o,{value:s,enumerable:a}])=>{if(a===!1||s===void 0||typeof s=="object"&&s!==null&&s.__v_skip)return;let l=i===""?o:`${i}.${o}`;typeof s=="object"&&s!==null&&s._x_interceptor?n[o]=s.initialize(t,l,o):e(s)&&s!==n&&!(s instanceof Element)&&r(s,l)})};return r(t)}function pv(t,e=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(n,i,o){return t(this.initialValue,()=>n_(n,i),s=>ud(n,i,s),i,o)}};return e(r),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let i=r.initialize.bind(r);r.initialize=(o,s,a)=>{let l=n.initialize(o,s,a);return r.initialValue=l,i(o,s,a)}}else r.initialValue=n;return r}}function n_(t,e){return e.split(".").reduce((r,n)=>r[n],t)}function ud(t,e,r){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=r;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),ud(t[e[0]],e.slice(1),r)}}var gv={};function Kn(t,e){gv[t]=e}function cd(t,e){let r=i_(e);return Object.entries(gv).forEach(([n,i])=>{Object.defineProperty(t,`$${n}`,{get(){return i(e,r)},enumerable:!1})}),t}function i_(t){let[e,r]=wv(t),n={interceptor:pv,...e};return v0(t,r),n}function o_(t,e,r,...n){try{return r(...n)}catch(i){Pa(i,t,e)}}function Pa(...t){return vv(...t)}var vv=a_;function s_(t){vv=t}function a_(t,e,r=void 0){t=Object.assign(t??{message:"No error message given."},{el:e,expression:r}),console.warn(`Alpine Expression Error: ${t.message}

${r?'Expression: "'+r+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var su=!0;function yv(t){let e=su;su=!1;let r=t();return su=e,r}function No(t,e,r={}){let n;return zr(t,e)(i=>n=i,r),n}function zr(...t){return mv(...t)}var mv=xv;function l_(t){mv=t}function xv(t,e){let r={};cd(r,t);let n=[r,..._s(t)],i=typeof e=="function"?u_(n,e):f_(n,e,t);return o_.bind(null,t,e,i)}function u_(t,e){return(r=()=>{},{scope:n={},params:i=[],context:o}={})=>{let s=e.apply(Ya([n,...t]),i);Eu(r,s)}}var wf={};function c_(t,e){if(wf[t])return wf[t];let r=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,o=(()=>{try{let s=new r(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`);return Object.defineProperty(s,"name",{value:`[Alpine] ${t}`}),s}catch(s){return Pa(s,e,t),Promise.resolve()}})();return wf[t]=o,o}function f_(t,e,r){let n=c_(e,r);return(i=()=>{},{scope:o={},params:s=[],context:a}={})=>{n.result=void 0,n.finished=!1;let l=Ya([o,...t]);if(typeof n=="function"){let u=n.call(a,n,l).catch(f=>Pa(f,r,e));n.finished?(Eu(i,n.result,l,s,r),n.result=void 0):u.then(f=>{Eu(i,f,l,s,r)}).catch(f=>Pa(f,r,e)).finally(()=>n.result=void 0)}}}function Eu(t,e,r,n,i){if(su&&typeof e=="function"){let o=e.apply(r,n);o instanceof Promise?o.then(s=>Eu(t,s,r,n)).catch(s=>Pa(s,i,e)):t(o)}else typeof e=="object"&&e instanceof Promise?e.then(o=>t(o)):t(e)}var w0="x-";function $s(t=""){return w0+t}function d_(t){w0=t}var Su={};function er(t,e){return Su[t]=e,{before(r){if(!Su[r]){console.warn(String.raw`Cannot find directive \`${r}\`. \`${t}\` will use the default order of execution`);return}const n=Co.indexOf(r);Co.splice(n>=0?n:Co.indexOf("DEFAULT"),0,t)}}}function h_(t){return Object.keys(Su).includes(t)}function A0(t,e,r){if(e=Array.from(e),t._x_virtualDirectives){let o=Object.entries(t._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),s=bv(o);o=o.map(a=>s.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(o)}let n={};return e.map(Ev((o,s)=>n[o]=s)).filter(Iv).map(v_(n,r)).sort(y_).map(o=>g_(t,o))}function bv(t){return Array.from(t).map(Ev()).filter(e=>!Iv(e))}var fd=!1,pa=new Map,_v=Symbol();function p_(t){fd=!0;let e=Symbol();_v=e,pa.set(e,[]);let r=()=>{for(;pa.get(e).length;)pa.get(e).shift()();pa.delete(e)},n=()=>{fd=!1,r()};t(r),n()}function wv(t){let e=[],r=a=>e.push(a),[n,i]=Xb(t);return e.push(i),[{Alpine:Za,effect:n,cleanup:r,evaluateLater:zr.bind(zr,t),evaluate:No.bind(No,t)},()=>e.forEach(a=>a())]}function g_(t,e){let r=()=>{},n=Su[e.type]||r,[i,o]=wv(t);uv(t,e.original,o);let s=()=>{t._x_ignore||t._x_ignoreSelf||(n.inline&&n.inline(t,e,i),n=n.bind(n,t,e,i),fd?pa.get(_v).push(n):n())};return s.runCleanups=o,s}var Av=(t,e)=>({name:r,value:n})=>(r.startsWith(t)&&(r=r.replace(t,e)),{name:r,value:n}),Cv=t=>t;function Ev(t=()=>{}){return({name:e,value:r})=>{let{name:n,value:i}=Sv.reduce((o,s)=>s(o),{name:e,value:r});return n!==e&&t(n,e),{name:n,value:i}}}var Sv=[];function C0(t){Sv.push(t)}function Iv({name:t}){return Tv().test(t)}var Tv=()=>new RegExp(`^${w0}([^:^.]+)\\b`);function v_(t,e){return({name:r,value:n})=>{let i=r.match(Tv()),o=r.match(/:([a-zA-Z0-9\-_:]+)/),s=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||t[r]||r;return{type:i?i[1]:null,value:o?o[1]:null,modifiers:s.map(l=>l.replace(".","")),expression:n,original:a}}}var dd="DEFAULT",Co=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",dd,"teleport"];function y_(t,e){let r=Co.indexOf(t.type)===-1?dd:t.type,n=Co.indexOf(e.type)===-1?dd:e.type;return Co.indexOf(r)-Co.indexOf(n)}function _a(t,e,r={}){t.dispatchEvent(new CustomEvent(e,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function jo(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(i=>jo(i,e));return}let r=!1;if(e(t,()=>r=!0),r)return;let n=t.firstElementChild;for(;n;)jo(n,e),n=n.nextElementSibling}function wn(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var k1=!1;function m_(){k1&&wn("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),k1=!0,document.body||wn("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),_a(document,"alpine:init"),_a(document,"alpine:initializing"),x0(),Yb(e=>wi(e,jo)),v0(e=>Vs(e)),lv((e,r)=>{A0(e,r).forEach(n=>n())});let t=e=>!nc(e.parentElement,!0);Array.from(document.querySelectorAll(Nv().join(","))).filter(t).forEach(e=>{wi(e)}),_a(document,"alpine:initialized"),setTimeout(()=>{w_()})}var E0=[],Ov=[];function kv(){return E0.map(t=>t())}function Nv(){return E0.concat(Ov).map(t=>t())}function Rv(t){E0.push(t)}function Pv(t){Ov.push(t)}function nc(t,e=!1){return Us(t,r=>{if((e?Nv():kv()).some(i=>r.matches(i)))return!0})}function Us(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Us(t.parentElement,e)}}function x_(t){return kv().some(e=>t.matches(e))}var Dv=[];function b_(t){Dv.push(t)}var __=1;function wi(t,e=jo,r=()=>{}){Us(t,n=>n._x_ignore)||p_(()=>{e(t,(n,i)=>{n._x_marker||(r(n,i),Dv.forEach(o=>o(n,i)),A0(n,n.attributes).forEach(o=>o()),n._x_ignore||(n._x_marker=__++),n._x_ignore&&i())})})}function Vs(t,e=jo){e(t,r=>{Zb(r),cv(r),delete r._x_marker})}function w_(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,r,n])=>{h_(r)||n.some(i=>{if(document.querySelector(i))return wn(`found "${i}", but missing ${e} plugin`),!0})})}var hd=[],S0=!1;function I0(t=()=>{}){return queueMicrotask(()=>{S0||setTimeout(()=>{pd()})}),new Promise(e=>{hd.push(()=>{t(),e()})})}function pd(){for(S0=!1;hd.length;)hd.shift()()}function A_(){S0=!0}function T0(t,e){return Array.isArray(e)?N1(t,e.join(" ")):typeof e=="object"&&e!==null?C_(t,e):typeof e=="function"?T0(t,e()):N1(t,e)}function N1(t,e){let r=i=>i.split(" ").filter(o=>!t.classList.contains(o)).filter(Boolean),n=i=>(t.classList.add(...i),()=>{t.classList.remove(...i)});return e=e===!0?e="":e||"",n(r(e))}function C_(t,e){let r=a=>a.split(" ").filter(Boolean),n=Object.entries(e).flatMap(([a,l])=>l?r(a):!1).filter(Boolean),i=Object.entries(e).flatMap(([a,l])=>l?!1:r(a)).filter(Boolean),o=[],s=[];return i.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),s.push(a))}),n.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),o.push(a))}),()=>{s.forEach(a=>t.classList.add(a)),o.forEach(a=>t.classList.remove(a))}}function ic(t,e){return typeof e=="object"&&e!==null?E_(t,e):S_(t,e)}function E_(t,e){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=t.style[n],n.startsWith("--")||(n=I_(n)),t.style.setProperty(n,i)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{ic(t,r)}}function S_(t,e){let r=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",r||"")}}function I_(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gd(t,e=()=>{}){let r=!1;return function(){r?e.apply(this,arguments):(r=!0,t.apply(this,arguments))}}er("transition",(t,{value:e,modifiers:r,expression:n},{evaluate:i})=>{typeof n=="function"&&(n=i(n)),n!==!1&&(!n||typeof n=="boolean"?O_(t,r,e):T_(t,n,e))});function T_(t,e,r){Mv(t,T0,""),{enter:i=>{t._x_transition.enter.during=i},"enter-start":i=>{t._x_transition.enter.start=i},"enter-end":i=>{t._x_transition.enter.end=i},leave:i=>{t._x_transition.leave.during=i},"leave-start":i=>{t._x_transition.leave.start=i},"leave-end":i=>{t._x_transition.leave.end=i}}[r](e)}function O_(t,e,r){Mv(t,ic);let n=!e.includes("in")&&!e.includes("out")&&!r,i=n||e.includes("in")||["enter"].includes(r),o=n||e.includes("out")||["leave"].includes(r);e.includes("in")&&!n&&(e=e.filter((w,C)=>C<e.indexOf("out"))),e.includes("out")&&!n&&(e=e.filter((w,C)=>C>e.indexOf("out")));let s=!e.includes("opacity")&&!e.includes("scale"),a=s||e.includes("opacity"),l=s||e.includes("scale"),u=a?0:1,f=l?ia(e,"scale",95)/100:1,d=ia(e,"delay",0)/1e3,p=ia(e,"origin","center"),v="opacity, transform",y=ia(e,"duration",150)/1e3,b=ia(e,"duration",75)/1e3,x="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(t._x_transition.enter.during={transformOrigin:p,transitionDelay:`${d}s`,transitionProperty:v,transitionDuration:`${y}s`,transitionTimingFunction:x},t._x_transition.enter.start={opacity:u,transform:`scale(${f})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(t._x_transition.leave.during={transformOrigin:p,transitionDelay:`${d}s`,transitionProperty:v,transitionDuration:`${b}s`,transitionTimingFunction:x},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:u,transform:`scale(${f})`})}function Mv(t,e,r={}){t._x_transition||(t._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(n=()=>{},i=()=>{}){vd(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,i)},out(n=()=>{},i=()=>{}){vd(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,r,n){const i=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let o=()=>i(r);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(r):o():t._x_transition?t._x_transition.in(r):o();return}t._x_hidePromise=t._x_transition?new Promise((s,a)=>{t._x_transition.out(()=>{},()=>s(n)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let s=Bv(t);s?(s._x_hideChildren||(s._x_hideChildren=[]),s._x_hideChildren.push(t)):i(()=>{let a=l=>{let u=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([f])=>f?.());return delete l._x_hidePromise,delete l._x_hideChildren,u};a(t).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function Bv(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:Bv(e)}function vd(t,e,{during:r,start:n,end:i}={},o=()=>{},s=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(n).length===0&&Object.keys(i).length===0){o(),s();return}let a,l,u;k_(t,{start(){a=e(t,n)},during(){l=e(t,r)},before:o,end(){a(),u=e(t,i)},after:s,cleanup(){l(),u()}})}function k_(t,e){let r,n,i,o=gd(()=>{Ut(()=>{r=!0,n||e.before(),i||(e.end(),pd()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(s){this.beforeCancels.push(s)},cancel:gd(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},Ut(()=>{e.start(),e.during()}),A_(),requestAnimationFrame(()=>{if(r)return;let s=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;s===0&&(s=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),Ut(()=>{e.before()}),n=!0,requestAnimationFrame(()=>{r||(Ut(()=>{e.end()}),pd(),setTimeout(t._x_transitioning.finish,s+a),i=!0)})})}function ia(t,e,r){if(t.indexOf(e)===-1)return r;const n=t[t.indexOf(e)+1];if(!n||e==="scale"&&isNaN(n))return r;if(e==="duration"||e==="delay"){let i=n.match(/([0-9]+)ms/);if(i)return i[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[n,t[t.indexOf(e)+2]].join(" "):n}var eo=!1;function oo(t,e=()=>{}){return(...r)=>eo?e(...r):t(...r)}function N_(t){return(...e)=>eo&&t(...e)}var Fv=[];function oc(t){Fv.push(t)}function R_(t,e){Fv.forEach(r=>r(t,e)),eo=!0,Lv(()=>{wi(e,(r,n)=>{n(r,()=>{})})}),eo=!1}var yd=!1;function P_(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),eo=!0,yd=!0,Lv(()=>{D_(e)}),eo=!1,yd=!1}function D_(t){let e=!1;wi(t,(n,i)=>{jo(n,(o,s)=>{if(e&&x_(o))return s();e=!0,i(o,s)})})}function Lv(t){let e=zo;O1((r,n)=>{let i=e(r);return Ls(i),()=>{}}),t(),O1(e)}function $v(t,e,r,n=[]){switch(t._x_bindings||(t._x_bindings=Fs({})),t._x_bindings[e]=r,e=n.includes("camel")?j_(e):e,e){case"value":M_(t,r);break;case"style":F_(t,r);break;case"class":B_(t,r);break;case"selected":case"checked":L_(t,e,r);break;default:Uv(t,e,r);break}}function M_(t,e){if(Hv(t))t.attributes.value===void 0&&(t.value=e),window.fromModel&&(typeof e=="boolean"?t.checked=au(t.value)===e:t.checked=R1(t.value,e));else if(O0(t))Number.isInteger(e)?t.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(r=>R1(r,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")V_(t,e);else{if(t.value===e)return;t.value=e===void 0?"":e}}function B_(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=T0(t,e)}function F_(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=ic(t,e)}function L_(t,e,r){Uv(t,e,r),U_(t,e,r)}function Uv(t,e,r){[null,void 0,!1].includes(r)&&W_(e)?t.removeAttribute(e):(Vv(e)&&(r=e),$_(t,e,r))}function $_(t,e,r){t.getAttribute(e)!=r&&t.setAttribute(e,r)}function U_(t,e,r){t[e]!==r&&(t[e]=r)}function V_(t,e){const r=[].concat(e).map(n=>n+"");Array.from(t.options).forEach(n=>{n.selected=r.includes(n.value)})}function j_(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function R1(t,e){return t==e}function au(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}var H_=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Vv(t){return H_.has(t)}function W_(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function K_(t,e,r){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:jv(t,e,r)}function q_(t,e,r,n=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let i=t._x_inlineBindings[e];return i.extract=n,yv(()=>No(t,i.expression))}return jv(t,e,r)}function jv(t,e,r){let n=t.getAttribute(e);return n===null?typeof r=="function"?r():r:n===""?!0:Vv(e)?!![e,"true"].includes(n):n}function O0(t){return t.type==="checkbox"||t.localName==="ui-checkbox"||t.localName==="ui-switch"}function Hv(t){return t.type==="radio"||t.localName==="ui-radio"}function Wv(t,e){let r;return function(){const n=this,i=arguments,o=function(){r=null,t.apply(n,i)};clearTimeout(r),r=setTimeout(o,e)}}function Kv(t,e){let r;return function(){let n=this,i=arguments;r||(t.apply(n,i),r=!0,setTimeout(()=>r=!1,e))}}function qv({get:t,set:e},{get:r,set:n}){let i=!0,o,s=zo(()=>{let a=t(),l=r();if(i)n(Af(a)),i=!1;else{let u=JSON.stringify(a),f=JSON.stringify(l);u!==o?n(Af(a)):u!==f&&e(Af(l))}o=JSON.stringify(t()),JSON.stringify(r())});return()=>{Ls(s)}}function Af(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function G_(t){(Array.isArray(t)?t:[t]).forEach(r=>r(Za))}var _o={},P1=!1;function z_(t,e){if(P1||(_o=Fs(_o),P1=!0),e===void 0)return _o[t];_o[t]=e,hv(_o[t]),typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&_o[t].init()}function X_(){return _o}var Gv={};function Y_(t,e){let r=typeof e!="function"?()=>e:e;return t instanceof Element?zv(t,r()):(Gv[t]=r,()=>{})}function Z_(t){return Object.entries(Gv).forEach(([e,r])=>{Object.defineProperty(t,e,{get(){return(...n)=>r(...n)}})}),t}function zv(t,e,r){let n=[];for(;n.length;)n.pop()();let i=Object.entries(e).map(([s,a])=>({name:s,value:a})),o=bv(i);return i=i.map(s=>o.find(a=>a.name===s.name)?{name:`x-bind:${s.name}`,value:`"${s.value}"`}:s),A0(t,i,r).map(s=>{n.push(s.runCleanups),s()}),()=>{for(;n.length;)n.pop()()}}var Xv={};function J_(t,e){Xv[t]=e}function Q_(t,e){return Object.entries(Xv).forEach(([r,n])=>{Object.defineProperty(t,r,{get(){return(...i)=>n.bind(e)(...i)},enumerable:!1})}),t}var ew={get reactive(){return Fs},get release(){return Ls},get effect(){return zo},get raw(){return nv},version:"3.15.2",flushAndStopDeferringMutations:e_,dontAutoEvaluateFunctions:yv,disableEffectScheduling:Gb,startObservingMutations:x0,stopObservingMutations:fv,setReactivityEngine:zb,onAttributeRemoved:uv,onAttributesAdded:lv,closestDataStack:_s,skipDuringClone:oo,onlyDuringClone:N_,addRootSelector:Rv,addInitSelector:Pv,setErrorHandler:s_,interceptClone:oc,addScopeToNode:Xa,deferMutations:Qb,mapAttributes:C0,evaluateLater:zr,interceptInit:b_,setEvaluator:l_,mergeProxies:Ya,extractProp:q_,findClosest:Us,onElRemoved:v0,closestRoot:nc,destroyTree:Vs,interceptor:pv,transition:vd,setStyles:ic,mutateDom:Ut,directive:er,entangle:qv,throttle:Kv,debounce:Wv,evaluate:No,initTree:wi,nextTick:I0,prefixed:$s,prefix:d_,plugin:G_,magic:Kn,store:z_,start:m_,clone:P_,cloneNode:R_,bound:K_,$data:dv,watch:iv,walk:jo,data:J_,bind:Y_},Za=ew;function tw(t,e){const r=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return i=>!!r[i]}var rw=Object.freeze({}),nw=Object.prototype.hasOwnProperty,sc=(t,e)=>nw.call(t,e),Ro=Array.isArray,wa=t=>Yv(t)==="[object Map]",iw=t=>typeof t=="string",k0=t=>typeof t=="symbol",ac=t=>t!==null&&typeof t=="object",ow=Object.prototype.toString,Yv=t=>ow.call(t),Zv=t=>Yv(t).slice(8,-1),N0=t=>iw(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,sw=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},aw=sw(t=>t.charAt(0).toUpperCase()+t.slice(1)),Jv=(t,e)=>t!==e&&(t===t||e===e),md=new WeakMap,oa=[],ti,Po=Symbol("iterate"),xd=Symbol("Map key iterate");function lw(t){return t&&t._isEffect===!0}function uw(t,e=rw){lw(t)&&(t=t.raw);const r=dw(t,e);return e.lazy||r(),r}function cw(t){t.active&&(Qv(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var fw=0;function dw(t,e){const r=function(){if(!r.active)return t();if(!oa.includes(r)){Qv(r);try{return pw(),oa.push(r),ti=r,t()}finally{oa.pop(),ey(),ti=oa[oa.length-1]}}};return r.id=fw++,r.allowRecurse=!!e.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=t,r.deps=[],r.options=e,r}function Qv(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}var ws=!0,R0=[];function hw(){R0.push(ws),ws=!1}function pw(){R0.push(ws),ws=!0}function ey(){const t=R0.pop();ws=t===void 0?!0:t}function Hn(t,e,r){if(!ws||ti===void 0)return;let n=md.get(t);n||md.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=new Set),i.has(ti)||(i.add(ti),ti.deps.push(i),ti.options.onTrack&&ti.options.onTrack({effect:ti,target:t,type:e,key:r}))}function to(t,e,r,n,i,o){const s=md.get(t);if(!s)return;const a=new Set,l=f=>{f&&f.forEach(d=>{(d!==ti||d.allowRecurse)&&a.add(d)})};if(e==="clear")s.forEach(l);else if(r==="length"&&Ro(t))s.forEach((f,d)=>{(d==="length"||d>=n)&&l(f)});else switch(r!==void 0&&l(s.get(r)),e){case"add":Ro(t)?N0(r)&&l(s.get("length")):(l(s.get(Po)),wa(t)&&l(s.get(xd)));break;case"delete":Ro(t)||(l(s.get(Po)),wa(t)&&l(s.get(xd)));break;case"set":wa(t)&&l(s.get(Po));break}const u=f=>{f.options.onTrigger&&f.options.onTrigger({effect:f,target:t,key:r,type:e,newValue:n,oldValue:i,oldTarget:o}),f.options.scheduler?f.options.scheduler(f):f()};a.forEach(u)}var gw=tw("__proto__,__v_isRef,__isVue"),ty=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(k0)),vw=ry(),yw=ry(!0),D1=mw();function mw(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=Dt(this);for(let o=0,s=this.length;o<s;o++)Hn(n,"get",o+"");const i=n[e](...r);return i===-1||i===!1?n[e](...r.map(Dt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){hw();const n=Dt(this)[e].apply(this,r);return ey(),n}}),t}function ry(t=!1,e=!1){return function(n,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_raw"&&o===(t?e?Rw:sy:e?Nw:oy).get(n))return n;const s=Ro(n);if(!t&&s&&sc(D1,i))return Reflect.get(D1,i,o);const a=Reflect.get(n,i,o);return(k0(i)?ty.has(i):gw(i))||(t||Hn(n,"get",i),e)?a:bd(a)?!s||!N0(i)?a.value:a:ac(a)?t?ay(a):B0(a):a}}var xw=bw();function bw(t=!1){return function(r,n,i,o){let s=r[n];if(!t&&(i=Dt(i),s=Dt(s),!Ro(r)&&bd(s)&&!bd(i)))return s.value=i,!0;const a=Ro(r)&&N0(n)?Number(n)<r.length:sc(r,n),l=Reflect.set(r,n,i,o);return r===Dt(o)&&(a?Jv(i,s)&&to(r,"set",n,i,s):to(r,"add",n,i)),l}}function _w(t,e){const r=sc(t,e),n=t[e],i=Reflect.deleteProperty(t,e);return i&&r&&to(t,"delete",e,void 0,n),i}function ww(t,e){const r=Reflect.has(t,e);return(!k0(e)||!ty.has(e))&&Hn(t,"has",e),r}function Aw(t){return Hn(t,"iterate",Ro(t)?"length":Po),Reflect.ownKeys(t)}var Cw={get:vw,set:xw,deleteProperty:_w,has:ww,ownKeys:Aw},Ew={get:yw,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},P0=t=>ac(t)?B0(t):t,D0=t=>ac(t)?ay(t):t,M0=t=>t,lc=t=>Reflect.getPrototypeOf(t);function Ml(t,e,r=!1,n=!1){t=t.__v_raw;const i=Dt(t),o=Dt(e);e!==o&&!r&&Hn(i,"get",e),!r&&Hn(i,"get",o);const{has:s}=lc(i),a=n?M0:r?D0:P0;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function Bl(t,e=!1){const r=this.__v_raw,n=Dt(r),i=Dt(t);return t!==i&&!e&&Hn(n,"has",t),!e&&Hn(n,"has",i),t===i?r.has(t):r.has(t)||r.has(i)}function Fl(t,e=!1){return t=t.__v_raw,!e&&Hn(Dt(t),"iterate",Po),Reflect.get(t,"size",t)}function M1(t){t=Dt(t);const e=Dt(this);return lc(e).has.call(e,t)||(e.add(t),to(e,"add",t,t)),this}function B1(t,e){e=Dt(e);const r=Dt(this),{has:n,get:i}=lc(r);let o=n.call(r,t);o?iy(r,n,t):(t=Dt(t),o=n.call(r,t));const s=i.call(r,t);return r.set(t,e),o?Jv(e,s)&&to(r,"set",t,e,s):to(r,"add",t,e),this}function F1(t){const e=Dt(this),{has:r,get:n}=lc(e);let i=r.call(e,t);i?iy(e,r,t):(t=Dt(t),i=r.call(e,t));const o=n?n.call(e,t):void 0,s=e.delete(t);return i&&to(e,"delete",t,void 0,o),s}function L1(){const t=Dt(this),e=t.size!==0,r=wa(t)?new Map(t):new Set(t),n=t.clear();return e&&to(t,"clear",void 0,void 0,r),n}function Ll(t,e){return function(n,i){const o=this,s=o.__v_raw,a=Dt(s),l=e?M0:t?D0:P0;return!t&&Hn(a,"iterate",Po),s.forEach((u,f)=>n.call(i,l(u),l(f),o))}}function $l(t,e,r){return function(...n){const i=this.__v_raw,o=Dt(i),s=wa(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...n),f=r?M0:e?D0:P0;return!e&&Hn(o,"iterate",l?xd:Po),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function Di(t){return function(...e){{const r=e[0]?`on key "${e[0]}" `:"";console.warn(`${aw(t)} operation ${r}failed: target is readonly.`,Dt(this))}return t==="delete"?!1:this}}function Sw(){const t={get(o){return Ml(this,o)},get size(){return Fl(this)},has:Bl,add:M1,set:B1,delete:F1,clear:L1,forEach:Ll(!1,!1)},e={get(o){return Ml(this,o,!1,!0)},get size(){return Fl(this)},has:Bl,add:M1,set:B1,delete:F1,clear:L1,forEach:Ll(!1,!0)},r={get(o){return Ml(this,o,!0)},get size(){return Fl(this,!0)},has(o){return Bl.call(this,o,!0)},add:Di("add"),set:Di("set"),delete:Di("delete"),clear:Di("clear"),forEach:Ll(!0,!1)},n={get(o){return Ml(this,o,!0,!0)},get size(){return Fl(this,!0)},has(o){return Bl.call(this,o,!0)},add:Di("add"),set:Di("set"),delete:Di("delete"),clear:Di("clear"),forEach:Ll(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=$l(o,!1,!1),r[o]=$l(o,!0,!1),e[o]=$l(o,!1,!0),n[o]=$l(o,!0,!0)}),[t,r,e,n]}var[Iw,Tw]=Sw();function ny(t,e){const r=t?Tw:Iw;return(n,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(sc(r,i)&&i in n?r:n,i,o)}var Ow={get:ny(!1)},kw={get:ny(!0)};function iy(t,e,r){const n=Dt(r);if(n!==r&&e.call(t,n)){const i=Zv(t);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var oy=new WeakMap,Nw=new WeakMap,sy=new WeakMap,Rw=new WeakMap;function Pw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dw(t){return t.__v_skip||!Object.isExtensible(t)?0:Pw(Zv(t))}function B0(t){return t&&t.__v_isReadonly?t:ly(t,!1,Cw,Ow,oy)}function ay(t){return ly(t,!0,Ew,kw,sy)}function ly(t,e,r,n,i){if(!ac(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=Dw(t);if(s===0)return t;const a=new Proxy(t,s===2?n:r);return i.set(t,a),a}function Dt(t){return t&&Dt(t.__v_raw)||t}function bd(t){return!!(t&&t.__v_isRef===!0)}Kn("nextTick",()=>I0);Kn("dispatch",t=>_a.bind(_a,t));Kn("watch",(t,{evaluateLater:e,cleanup:r})=>(n,i)=>{let o=e(n),a=iv(()=>{let l;return o(u=>l=u),l},i);r(a)});Kn("store",X_);Kn("data",t=>dv(t));Kn("root",t=>nc(t));Kn("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=Ya(Mw(t))),t._x_refs_proxy));function Mw(t){let e=[];return Us(t,r=>{r._x_refs&&e.push(r._x_refs)}),e}var Cf={};function uy(t){return Cf[t]||(Cf[t]=0),++Cf[t]}function Bw(t,e){return Us(t,r=>{if(r._x_ids&&r._x_ids[e])return!0})}function Fw(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=uy(e))}Kn("id",(t,{cleanup:e})=>(r,n=null)=>{let i=`${r}${n?`-${n}`:""}`;return Lw(t,i,e,()=>{let o=Bw(t,r),s=o?o._x_ids[r]:uy(r);return n?`${r}-${s}-${n}`:`${r}-${s}`})});oc((t,e)=>{t._x_id&&(e._x_id=t._x_id)});function Lw(t,e,r,n){if(t._x_id||(t._x_id={}),t._x_id[e])return t._x_id[e];let i=n();return t._x_id[e]=i,r(()=>{delete t._x_id[e]}),i}Kn("el",t=>t);cy("Focus","focus","focus");cy("Persist","persist","persist");function cy(t,e,r){Kn(e,n=>wn(`You can't use [$${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}er("modelable",(t,{expression:e},{effect:r,evaluateLater:n,cleanup:i})=>{let o=n(e),s=()=>{let f;return o(d=>f=d),f},a=n(`${e} = __placeholder`),l=f=>a(()=>{},{scope:{__placeholder:f}}),u=s();l(u),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let f=t._x_model.get,d=t._x_model.set,p=qv({get(){return f()},set(v){d(v)}},{get(){return s()},set(v){l(v)}});i(p)})});er("teleport",(t,{modifiers:e,expression:r},{cleanup:n})=>{t.tagName.toLowerCase()!=="template"&&wn("x-teleport can only be used on a <template> tag",t);let i=$1(r),o=t.content.cloneNode(!0).firstElementChild;t._x_teleport=o,o._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),o.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(a=>{o.addEventListener(a,l=>{l.stopPropagation(),t.dispatchEvent(new l.constructor(l.type,l))})}),Xa(o,{},t);let s=(a,l,u)=>{u.includes("prepend")?l.parentNode.insertBefore(a,l):u.includes("append")?l.parentNode.insertBefore(a,l.nextSibling):l.appendChild(a)};Ut(()=>{s(o,i,e),oo(()=>{wi(o)})()}),t._x_teleportPutBack=()=>{let a=$1(r);Ut(()=>{s(t._x_teleport,a,e)})},n(()=>Ut(()=>{o.remove(),Vs(o)}))});var $w=document.createElement("div");function $1(t){let e=oo(()=>document.querySelector(t),()=>$w)();return e||wn(`Cannot find x-teleport element for selector: "${t}"`),e}var fy=()=>{};fy.inline=(t,{modifiers:e},{cleanup:r})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,r(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};er("ignore",fy);er("effect",oo((t,{expression:e},{effect:r})=>{r(zr(t,e))}));function _d(t,e,r,n){let i=t,o=l=>n(l),s={},a=(l,u)=>f=>u(l,f);if(r.includes("dot")&&(e=Uw(e)),r.includes("camel")&&(e=Vw(e)),r.includes("passive")&&(s.passive=!0),r.includes("capture")&&(s.capture=!0),r.includes("window")&&(i=window),r.includes("document")&&(i=document),r.includes("debounce")){let l=r[r.indexOf("debounce")+1]||"invalid-wait",u=Iu(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=Wv(o,u)}if(r.includes("throttle")){let l=r[r.indexOf("throttle")+1]||"invalid-wait",u=Iu(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=Kv(o,u)}return r.includes("prevent")&&(o=a(o,(l,u)=>{u.preventDefault(),l(u)})),r.includes("stop")&&(o=a(o,(l,u)=>{u.stopPropagation(),l(u)})),r.includes("once")&&(o=a(o,(l,u)=>{l(u),i.removeEventListener(e,o,s)})),(r.includes("away")||r.includes("outside"))&&(i=document,o=a(o,(l,u)=>{t.contains(u.target)||u.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&l(u))})),r.includes("self")&&(o=a(o,(l,u)=>{u.target===t&&l(u)})),(Hw(e)||dy(e))&&(o=a(o,(l,u)=>{Ww(u,r)||l(u)})),i.addEventListener(e,o,s),()=>{i.removeEventListener(e,o,s)}}function Uw(t){return t.replace(/-/g,".")}function Vw(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function Iu(t){return!Array.isArray(t)&&!isNaN(t)}function jw(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Hw(t){return["keydown","keyup"].includes(t)}function dy(t){return["contextmenu","click","mouse"].some(e=>t.includes(e))}function Ww(t,e){let r=e.filter(o=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll"].includes(o));if(r.includes("debounce")){let o=r.indexOf("debounce");r.splice(o,Iu((r[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let o=r.indexOf("throttle");r.splice(o,Iu((r[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&U1(t.key).includes(r[0]))return!1;const i=["ctrl","shift","alt","meta","cmd","super"].filter(o=>r.includes(o));return r=r.filter(o=>!i.includes(o)),!(i.length>0&&i.filter(s=>((s==="cmd"||s==="super")&&(s="meta"),t[`${s}Key`])).length===i.length&&(dy(t.type)||U1(t.key).includes(r[0])))}function U1(t){if(!t)return[];t=jw(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(r=>{if(e[r]===t)return r}).filter(r=>r)}er("model",(t,{modifiers:e,expression:r},{effect:n,cleanup:i})=>{let o=t;e.includes("parent")&&(o=t.parentNode);let s=zr(o,r),a;typeof r=="string"?a=zr(o,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?a=zr(o,`${r()} = __placeholder`):a=()=>{};let l=()=>{let p;return s(v=>p=v),V1(p)?p.get():p},u=p=>{let v;s(y=>v=y),V1(v)?v.set(p):a(()=>{},{scope:{__placeholder:p}})};typeof r=="string"&&t.type==="radio"&&Ut(()=>{t.hasAttribute("name")||t.setAttribute("name",r)});let f=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input",d=eo?()=>{}:_d(t,f,e,p=>{u(Ef(t,e,p,l()))});if(e.includes("fill")&&([void 0,null,""].includes(l())||O0(t)&&Array.isArray(l())||t.tagName.toLowerCase()==="select"&&t.multiple)&&u(Ef(t,e,{target:t},l())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=d,i(()=>t._x_removeModelListeners.default()),t.form){let p=_d(t.form,"reset",[],v=>{I0(()=>t._x_model&&t._x_model.set(Ef(t,e,{target:t},l())))});i(()=>p())}t._x_model={get(){return l()},set(p){u(p)}},t._x_forceModelUpdate=p=>{p===void 0&&typeof r=="string"&&r.match(/\./)&&(p=""),window.fromModel=!0,Ut(()=>$v(t,"value",p)),delete window.fromModel},n(()=>{let p=l();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(p)})});function Ef(t,e,r,n){return Ut(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail!==null&&r.detail!==void 0?r.detail:r.target.value;if(O0(t))if(Array.isArray(n)){let i=null;return e.includes("number")?i=Sf(r.target.value):e.includes("boolean")?i=au(r.target.value):i=r.target.value,r.target.checked?n.includes(i)?n:n.concat([i]):n.filter(o=>!Kw(o,i))}else return r.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(r.target.selectedOptions).map(i=>{let o=i.value||i.text;return Sf(o)}):e.includes("boolean")?Array.from(r.target.selectedOptions).map(i=>{let o=i.value||i.text;return au(o)}):Array.from(r.target.selectedOptions).map(i=>i.value||i.text);{let i;return Hv(t)?r.target.checked?i=r.target.value:i=n:i=r.target.value,e.includes("number")?Sf(i):e.includes("boolean")?au(i):e.includes("trim")?i.trim():i}}})}function Sf(t){let e=t?parseFloat(t):null;return qw(e)?e:t}function Kw(t,e){return t==e}function qw(t){return!Array.isArray(t)&&!isNaN(t)}function V1(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}er("cloak",t=>queueMicrotask(()=>Ut(()=>t.removeAttribute($s("cloak")))));Pv(()=>`[${$s("init")}]`);er("init",oo((t,{expression:e},{evaluate:r})=>typeof e=="string"?!!e.trim()&&r(e,{},!1):r(e,{},!1)));er("text",(t,{expression:e},{effect:r,evaluateLater:n})=>{let i=n(e);r(()=>{i(o=>{Ut(()=>{t.textContent=o})})})});er("html",(t,{expression:e},{effect:r,evaluateLater:n})=>{let i=n(e);r(()=>{i(o=>{Ut(()=>{t.innerHTML=o,t._x_ignoreSelf=!0,wi(t),delete t._x_ignoreSelf})})})});C0(Av(":",Cv($s("bind:"))));var hy=(t,{value:e,modifiers:r,expression:n,original:i},{effect:o,cleanup:s})=>{if(!e){let l={};Z_(l),zr(t,n)(f=>{zv(t,f,i)},{scope:l});return}if(e==="key")return Gw(t,n);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let a=zr(t,n);o(()=>a(l=>{l===void 0&&typeof n=="string"&&n.match(/\./)&&(l=""),Ut(()=>$v(t,e,l,r))})),s(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};hy.inline=(t,{value:e,modifiers:r,expression:n})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:n,extract:!1})};er("bind",hy);function Gw(t,e){t._x_keyExpression=e}Rv(()=>`[${$s("data")}]`);er("data",(t,{expression:e},{cleanup:r})=>{if(zw(t))return;e=e===""?"{}":e;let n={};cd(n,t);let i={};Q_(i,n);let o=No(t,e,{scope:i});(o===void 0||o===!0)&&(o={}),cd(o,t);let s=Fs(o);hv(s);let a=Xa(t,s);s.init&&No(t,s.init),r(()=>{s.destroy&&No(t,s.destroy),a()})});oc((t,e)=>{t._x_dataStack&&(e._x_dataStack=t._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function zw(t){return eo?yd?!0:t.hasAttribute("data-has-alpine-state"):!1}er("show",(t,{modifiers:e,expression:r},{effect:n})=>{let i=zr(t,r);t._x_doHide||(t._x_doHide=()=>{Ut(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{Ut(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let o=()=>{t._x_doHide(),t._x_isShown=!1},s=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(s),l=gd(d=>d?s():o(),d=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,d,s,o):d?a():o()}),u,f=!0;n(()=>i(d=>{!f&&d===u||(e.includes("immediate")&&(d?a():o()),l(d),u=d,f=!1)}))});er("for",(t,{expression:e},{effect:r,cleanup:n})=>{let i=Yw(e),o=zr(t,i.items),s=zr(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},r(()=>Xw(t,i,o,s)),n(()=>{Object.values(t._x_lookup).forEach(a=>Ut(()=>{Vs(a),a.remove()})),delete t._x_prevKeys,delete t._x_lookup})});function Xw(t,e,r,n){let i=s=>typeof s=="object"&&!Array.isArray(s),o=t;r(s=>{Zw(s)&&s>=0&&(s=Array.from(Array(s).keys(),x=>x+1)),s===void 0&&(s=[]);let a=t._x_lookup,l=t._x_prevKeys,u=[],f=[];if(i(s))s=Object.entries(s).map(([x,w])=>{let C=j1(e,w,x,s);n(_=>{f.includes(_)&&wn("Duplicate key on x-for",t),f.push(_)},{scope:{index:x,...C}}),u.push(C)});else for(let x=0;x<s.length;x++){let w=j1(e,s[x],x,s);n(C=>{f.includes(C)&&wn("Duplicate key on x-for",t),f.push(C)},{scope:{index:x,...w}}),u.push(w)}let d=[],p=[],v=[],y=[];for(let x=0;x<l.length;x++){let w=l[x];f.indexOf(w)===-1&&v.push(w)}l=l.filter(x=>!v.includes(x));let b="template";for(let x=0;x<f.length;x++){let w=f[x],C=l.indexOf(w);if(C===-1)l.splice(x,0,w),d.push([b,x]);else if(C!==x){let _=l.splice(x,1)[0],E=l.splice(C-1,1)[0];l.splice(x,0,E),l.splice(C,0,_),p.push([_,E])}else y.push(w);b=w}for(let x=0;x<v.length;x++){let w=v[x];w in a&&(Ut(()=>{Vs(a[w]),a[w].remove()}),delete a[w])}for(let x=0;x<p.length;x++){let[w,C]=p[x],_=a[w],E=a[C],N=document.createElement("div");Ut(()=>{E||wn('x-for ":key" is undefined or invalid',o,C,a),E.after(N),_.after(E),E._x_currentIfEl&&E.after(E._x_currentIfEl),N.before(_),_._x_currentIfEl&&_.after(_._x_currentIfEl),N.remove()}),E._x_refreshXForScope(u[f.indexOf(C)])}for(let x=0;x<d.length;x++){let[w,C]=d[x],_=w==="template"?o:a[w];_._x_currentIfEl&&(_=_._x_currentIfEl);let E=u[C],N=f[C],M=document.importNode(o.content,!0).firstElementChild,T=Fs(E);Xa(M,T,o),M._x_refreshXForScope=I=>{Object.entries(I).forEach(([k,V])=>{T[k]=V})},Ut(()=>{_.after(M),oo(()=>wi(M))()}),typeof N=="object"&&wn("x-for key cannot be an object, it must be a string or an integer",o),a[N]=M}for(let x=0;x<y.length;x++)a[y[x]]._x_refreshXForScope(u[f.indexOf(y[x])]);o._x_prevKeys=f})}function Yw(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=t.match(n);if(!i)return;let o={};o.items=i[2].trim();let s=i[1].replace(r,"").trim(),a=s.match(e);return a?(o.item=s.replace(e,"").trim(),o.index=a[1].trim(),a[2]&&(o.collection=a[2].trim())):o.item=s,o}function j1(t,e,r,n){let i={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(s=>s.trim()).forEach((s,a)=>{i[s]=e[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(s=>s.trim()).forEach(s=>{i[s]=e[s]}):i[t.item]=e,t.index&&(i[t.index]=r),t.collection&&(i[t.collection]=n),i}function Zw(t){return!Array.isArray(t)&&!isNaN(t)}function py(){}py.inline=(t,{expression:e},{cleanup:r})=>{let n=nc(t);n._x_refs||(n._x_refs={}),n._x_refs[e]=t,r(()=>delete n._x_refs[e])};er("ref",py);er("if",(t,{expression:e},{effect:r,cleanup:n})=>{t.tagName.toLowerCase()!=="template"&&wn("x-if can only be used on a <template> tag",t);let i=zr(t,e),o=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return Xa(a,{},t),Ut(()=>{t.after(a),oo(()=>wi(a))()}),t._x_currentIfEl=a,t._x_undoIf=()=>{Ut(()=>{Vs(a),a.remove()}),delete t._x_currentIfEl},a},s=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};r(()=>i(a=>{a?o():s()})),n(()=>t._x_undoIf&&t._x_undoIf())});er("id",(t,{expression:e},{evaluate:r})=>{r(e).forEach(i=>Fw(t,i))});oc((t,e)=>{t._x_ids&&(e._x_ids=t._x_ids)});C0(Av("@",Cv($s("on:"))));er("on",oo((t,{value:e,modifiers:r,expression:n},{cleanup:i})=>{let o=n?zr(t,n):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let s=_d(t,e,r,a=>{o(()=>{},{scope:{$event:a},params:[a]})});i(()=>s())}));uc("Collapse","collapse","collapse");uc("Intersect","intersect","intersect");uc("Focus","trap","focus");uc("Mask","mask","mask");function uc(t,e,r){er(e,n=>wn(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}Za.setEvaluator(xv);Za.setReactivityEngine({reactive:B0,effect:uw,release:cw,raw:Dt});var Jw=Za,cc=Jw;function F0(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const gt={},ps=[],$n=()=>{},gy=()=>!1,fc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),vy=t=>t.startsWith("onUpdate:"),Qt=Object.assign,L0=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Qw=Object.prototype.hasOwnProperty,_t=(t,e)=>Qw.call(t,e),qe=Array.isArray,gs=t=>Ja(t)==="[object Map]",yy=t=>Ja(t)==="[object Set]",e3=t=>Ja(t)==="[object RegExp]",Ge=t=>typeof t=="function",Xt=t=>typeof t=="string",so=t=>typeof t=="symbol",Ot=t=>t!==null&&typeof t=="object",$0=t=>(Ot(t)||Ge(t))&&Ge(t.then)&&Ge(t.catch),my=Object.prototype.toString,Ja=t=>my.call(t),t3=t=>Ja(t).slice(8,-1),xy=t=>Ja(t)==="[object Object]",dc=t=>Xt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vs=F0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hc=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},r3=/-\w/g,hn=hc(t=>t.replace(r3,e=>e.slice(1).toUpperCase())),n3=/\B([A-Z])/g,js=hc(t=>t.replace(n3,"-$1").toLowerCase()),pc=hc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Aa=hc(t=>t?`on${pc(t)}`:""),Kr=(t,e)=>!Object.is(t,e),Ca=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},by=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},i3=t=>{const e=parseFloat(t);return isNaN(e)?t:e},o3=t=>{const e=Xt(t)?Number(t):NaN;return isNaN(e)?t:e};let H1;const gc=()=>H1||(H1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),s3="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",a3=F0(s3);function Hs(t){if(qe(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Xt(n)?f3(n):Hs(n);if(i)for(const o in i)e[o]=i[o]}return e}else if(Xt(t)||Ot(t))return t}const l3=/;(?![^(]*\))/g,u3=/:([^]+)/,c3=/\/\*[^]*?\*\//g;function f3(t){const e={};return t.replace(c3,"").split(l3).forEach(r=>{if(r){const n=r.split(u3);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ue(t){let e="";if(Xt(t))e=t;else if(qe(t))for(let r=0;r<t.length;r++){const n=Ue(t[r]);n&&(e+=n+" ")}else if(Ot(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function d3(t){if(!t)return null;let{class:e,style:r}=t;return e&&!Xt(e)&&(t.class=Ue(e)),r&&(t.style=Hs(r)),t}const _y=t=>!!(t&&t.__v_isRef===!0),j=t=>Xt(t)?t:t==null?"":qe(t)||Ot(t)&&(t.toString===my||!Ge(t.toString))?_y(t)?j(t.value):JSON.stringify(t,wy,2):String(t),wy=(t,e)=>_y(e)?wy(t,e.value):gs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],o)=>(r[If(n,o)+" =>"]=i,r),{})}:yy(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>If(r))}:so(e)?If(e):Ot(e)&&!qe(e)&&!xy(e)?String(e):e,If=(t,e="")=>{var r;return so(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};let Rr;class U0{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rr,!e&&Rr&&(this.index=(Rr.scopes||(Rr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Rr;try{return Rr=this,e()}finally{Rr=r}}}on(){++this._on===1&&(this.prevScope=Rr,Rr=this)}off(){this._on>0&&--this._on===0&&(Rr=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function h3(t){return new U0(t)}function Ay(){return Rr}function p3(t,e=!1){Rr&&Rr.cleanups.push(t)}let It;const Tf=new WeakSet;class Da{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rr&&Rr.active&&Rr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Tf.has(this)&&(Tf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ey(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,W1(this),Sy(this);const e=It,r=Un;It=this,Un=!0;try{return this.fn()}finally{Iy(this),It=e,Un=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)H0(e);this.deps=this.depsTail=void 0,W1(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Tf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wd(this)&&this.run()}get dirty(){return wd(this)}}let Cy=0,Ea,Sa;function Ey(t,e=!1){if(t.flags|=8,e){t.next=Sa,Sa=t;return}t.next=Ea,Ea=t}function V0(){Cy++}function j0(){if(--Cy>0)return;if(Sa){let e=Sa;for(Sa=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Ea;){let e=Ea;for(Ea=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function Sy(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Iy(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),H0(n),g3(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function wd(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ty(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ty(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ma)||(t.globalVersion=Ma,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!wd(t))))return;t.flags|=2;const e=t.dep,r=It,n=Un;It=t,Un=!0;try{Sy(t);const i=t.fn(t._value);(e.version===0||Kr(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{It=r,Un=n,Iy(t),t.flags&=-3}}function H0(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)H0(o,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function g3(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}function v3(t,e){t.effect instanceof Da&&(t=t.effect.fn);const r=new Da(t);e&&Qt(r,e);try{r.run()}catch(i){throw r.stop(),i}const n=r.run.bind(r);return n.effect=r,n}function y3(t){t.effect.stop()}let Un=!0;const Oy=[];function Ai(){Oy.push(Un),Un=!1}function Ci(){const t=Oy.pop();Un=t===void 0?!0:t}function W1(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=It;It=void 0;try{e()}finally{It=r}}}let Ma=0;class m3{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!It||!Un||It===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==It)r=this.activeLink=new m3(It,this),It.deps?(r.prevDep=It.depsTail,It.depsTail.nextDep=r,It.depsTail=r):It.deps=It.depsTail=r,ky(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=It.depsTail,r.nextDep=void 0,It.depsTail.nextDep=r,It.depsTail=r,It.deps===r&&(It.deps=n)}return r}trigger(e){this.version++,Ma++,this.notify(e)}notify(e){V0();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{j0()}}}function ky(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)ky(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Tu=new WeakMap,Do=Symbol(""),Ad=Symbol(""),Ba=Symbol("");function Dr(t,e,r){if(Un&&It){let n=Tu.get(t);n||Tu.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new vc),i.map=n,i.key=r),i.track()}}function gi(t,e,r,n,i,o){const s=Tu.get(t);if(!s){Ma++;return}const a=l=>{l&&l.trigger()};if(V0(),e==="clear")s.forEach(a);else{const l=qe(t),u=l&&dc(r);if(l&&r==="length"){const f=Number(n);s.forEach((d,p)=>{(p==="length"||p===Ba||!so(p)&&p>=f)&&a(d)})}else switch((r!==void 0||s.has(void 0))&&a(s.get(r)),u&&a(s.get(Ba)),e){case"add":l?u&&a(s.get("length")):(a(s.get(Do)),gs(t)&&a(s.get(Ad)));break;case"delete":l||(a(s.get(Do)),gs(t)&&a(s.get(Ad)));break;case"set":gs(t)&&a(s.get(Do));break}}j0()}function x3(t,e){const r=Tu.get(t);return r&&r.get(e)}function is(t){const e=ct(t);return e===t?e:(Dr(e,"iterate",Ba),nn(t)?e:e.map(Wn))}function yc(t){return Dr(t=ct(t),"iterate",Ba),t}function Ui(t,e){return ii(t)?mi(t)?As(Wn(e)):As(e):Wn(e)}const b3={__proto__:null,[Symbol.iterator](){return Of(this,Symbol.iterator,t=>Ui(this,t))},concat(...t){return is(this).concat(...t.map(e=>qe(e)?is(e):e))},entries(){return Of(this,"entries",t=>(t[1]=Ui(this,t[1]),t))},every(t,e){return ci(this,"every",t,e,void 0,arguments)},filter(t,e){return ci(this,"filter",t,e,r=>r.map(n=>Ui(this,n)),arguments)},find(t,e){return ci(this,"find",t,e,r=>Ui(this,r),arguments)},findIndex(t,e){return ci(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ci(this,"findLast",t,e,r=>Ui(this,r),arguments)},findLastIndex(t,e){return ci(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ci(this,"forEach",t,e,void 0,arguments)},includes(...t){return kf(this,"includes",t)},indexOf(...t){return kf(this,"indexOf",t)},join(t){return is(this).join(t)},lastIndexOf(...t){return kf(this,"lastIndexOf",t)},map(t,e){return ci(this,"map",t,e,void 0,arguments)},pop(){return sa(this,"pop")},push(...t){return sa(this,"push",t)},reduce(t,...e){return K1(this,"reduce",t,e)},reduceRight(t,...e){return K1(this,"reduceRight",t,e)},shift(){return sa(this,"shift")},some(t,e){return ci(this,"some",t,e,void 0,arguments)},splice(...t){return sa(this,"splice",t)},toReversed(){return is(this).toReversed()},toSorted(t){return is(this).toSorted(t)},toSpliced(...t){return is(this).toSpliced(...t)},unshift(...t){return sa(this,"unshift",t)},values(){return Of(this,"values",t=>Ui(this,t))}};function Of(t,e,r){const n=yc(t),i=n[e]();return n!==t&&!nn(t)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.done||(o.value=r(o.value)),o}),i}const _3=Array.prototype;function ci(t,e,r,n,i,o){const s=yc(t),a=s!==t&&!nn(t),l=s[e];if(l!==_3[e]){const d=l.apply(t,o);return a?Wn(d):d}let u=r;s!==t&&(a?u=function(d,p){return r.call(this,Ui(t,d),p,t)}:r.length>2&&(u=function(d,p){return r.call(this,d,p,t)}));const f=l.call(s,u,n);return a&&i?i(f):f}function K1(t,e,r,n){const i=yc(t);let o=r;return i!==t&&(nn(t)?r.length>3&&(o=function(s,a,l){return r.call(this,s,a,l,t)}):o=function(s,a,l){return r.call(this,s,Ui(t,a),l,t)}),i[e](o,...n)}function kf(t,e,r){const n=ct(t);Dr(n,"iterate",Ba);const i=n[e](...r);return(i===-1||i===!1)&&Qa(r[0])?(r[0]=ct(r[0]),n[e](...r)):i}function sa(t,e,r=[]){Ai(),V0();const n=ct(t)[e].apply(t,r);return j0(),Ci(),n}const w3=F0("__proto__,__v_isRef,__isVue"),Ny=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(so));function A3(t){so(t)||(t=String(t));const e=ct(this);return Dr(e,"has",t),e.hasOwnProperty(t)}class Ry{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return o;if(r==="__v_raw")return n===(i?o?Ly:Fy:o?By:My).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=qe(e);if(!i){let l;if(s&&(l=b3[r]))return l;if(r==="hasOwnProperty")return A3}const a=Reflect.get(e,r,Jt(e)?e:n);if((so(r)?Ny.has(r):w3(r))||(i||Dr(e,"get",r),o))return a;if(Jt(a)){const l=s&&dc(r)?a:a.value;return i&&Ot(l)?Ou(l):l}return Ot(a)?i?Ou(a):yr(a):a}}class Py extends Ry{constructor(e=!1){super(!1,e)}set(e,r,n,i){let o=e[r];const s=qe(e)&&dc(r);if(!this._isShallow){const u=ii(o);if(!nn(n)&&!ii(n)&&(o=ct(o),n=ct(n)),!s&&Jt(o)&&!Jt(n))return u||(o.value=n),!0}const a=s?Number(r)<e.length:_t(e,r),l=Reflect.set(e,r,n,Jt(e)?e:i);return e===ct(i)&&(a?Kr(n,o)&&gi(e,"set",r,n):gi(e,"add",r,n)),l}deleteProperty(e,r){const n=_t(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&gi(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!so(r)||!Ny.has(r))&&Dr(e,"has",r),n}ownKeys(e){return Dr(e,"iterate",qe(e)?"length":Do),Reflect.ownKeys(e)}}class Dy extends Ry{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const C3=new Py,E3=new Dy,S3=new Py(!0),I3=new Dy(!0),Cd=t=>t,Ul=t=>Reflect.getPrototypeOf(t);function T3(t,e,r){return function(...n){const i=this.__v_raw,o=ct(i),s=gs(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...n),f=r?Cd:e?As:Wn;return!e&&Dr(o,"iterate",l?Ad:Do),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function Vl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function O3(t,e){const r={get(i){const o=this.__v_raw,s=ct(o),a=ct(i);t||(Kr(i,a)&&Dr(s,"get",i),Dr(s,"get",a));const{has:l}=Ul(s),u=e?Cd:t?As:Wn;if(l.call(s,i))return u(o.get(i));if(l.call(s,a))return u(o.get(a));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!t&&Dr(ct(i),"iterate",Do),i.size},has(i){const o=this.__v_raw,s=ct(o),a=ct(i);return t||(Kr(i,a)&&Dr(s,"has",i),Dr(s,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const s=this,a=s.__v_raw,l=ct(a),u=e?Cd:t?As:Wn;return!t&&Dr(l,"iterate",Do),a.forEach((f,d)=>i.call(o,u(f),u(d),s))}};return Qt(r,t?{add:Vl("add"),set:Vl("set"),delete:Vl("delete"),clear:Vl("clear")}:{add(i){!e&&!nn(i)&&!ii(i)&&(i=ct(i));const o=ct(this);return Ul(o).has.call(o,i)||(o.add(i),gi(o,"add",i,i)),this},set(i,o){!e&&!nn(o)&&!ii(o)&&(o=ct(o));const s=ct(this),{has:a,get:l}=Ul(s);let u=a.call(s,i);u||(i=ct(i),u=a.call(s,i));const f=l.call(s,i);return s.set(i,o),u?Kr(o,f)&&gi(s,"set",i,o):gi(s,"add",i,o),this},delete(i){const o=ct(this),{has:s,get:a}=Ul(o);let l=s.call(o,i);l||(i=ct(i),l=s.call(o,i)),a&&a.call(o,i);const u=o.delete(i);return l&&gi(o,"delete",i,void 0),u},clear(){const i=ct(this),o=i.size!==0,s=i.clear();return o&&gi(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=T3(i,t,e)}),r}function mc(t,e){const r=O3(t,e);return(n,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(_t(r,i)&&i in n?r:n,i,o)}const k3={get:mc(!1,!1)},N3={get:mc(!1,!0)},R3={get:mc(!0,!1)},P3={get:mc(!0,!0)},My=new WeakMap,By=new WeakMap,Fy=new WeakMap,Ly=new WeakMap;function D3(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function M3(t){return t.__v_skip||!Object.isExtensible(t)?0:D3(t3(t))}function yr(t){return ii(t)?t:xc(t,!1,C3,k3,My)}function $y(t){return xc(t,!1,S3,N3,By)}function Ou(t){return xc(t,!0,E3,R3,Fy)}function B3(t){return xc(t,!0,I3,P3,Ly)}function xc(t,e,r,n,i){if(!Ot(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=M3(t);if(o===0)return t;const s=i.get(t);if(s)return s;const a=new Proxy(t,o===2?n:r);return i.set(t,a),a}function mi(t){return ii(t)?mi(t.__v_raw):!!(t&&t.__v_isReactive)}function ii(t){return!!(t&&t.__v_isReadonly)}function nn(t){return!!(t&&t.__v_isShallow)}function Qa(t){return t?!!t.__v_raw:!1}function ct(t){const e=t&&t.__v_raw;return e?ct(e):t}function Uy(t){return!_t(t,"__v_skip")&&Object.isExtensible(t)&&by(t,"__v_skip",!0),t}const Wn=t=>Ot(t)?yr(t):t,As=t=>Ot(t)?Ou(t):t;function Jt(t){return t?t.__v_isRef===!0:!1}function ye(t){return jy(t,!1)}function Vy(t){return jy(t,!0)}function jy(t,e){return Jt(t)?t:new F3(t,e)}class F3{constructor(e,r){this.dep=new vc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:ct(e),this._value=r?e:Wn(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||nn(e)||ii(e);e=n?e:ct(e),Kr(e,r)&&(this._rawValue=e,this._value=n?e:Wn(e),this.dep.trigger())}}function L3(t){t.dep&&t.dep.trigger()}function En(t){return Jt(t)?t.value:t}function $3(t){return Ge(t)?t():En(t)}const U3={get:(t,e,r)=>e==="__v_raw"?t:En(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Jt(i)&&!Jt(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function W0(t){return mi(t)?t:new Proxy(t,U3)}class V3{constructor(e){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new vc,{get:n,set:i}=e(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Hy(t){return new V3(t)}function j3(t){const e=qe(t)?new Array(t.length):{};for(const r in t)e[r]=Wy(t,r);return e}class H3{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=ct(e);let i=!0,o=e;if(!qe(e)||!dc(String(r)))do i=!Qa(o)||nn(o);while(i&&(o=o.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=En(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&Jt(this._raw[this._key])){const r=this._object[this._key];if(Jt(r)){r.value=e;return}}this._object[this._key]=e}get dep(){return x3(this._raw,this._key)}}class W3{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function K3(t,e,r){return Jt(t)?t:Ge(t)?new W3(t):Ot(t)&&arguments.length>1?Wy(t,e,r):ye(t)}function Wy(t,e,r){return new H3(t,e,r)}class q3{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new vc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ma-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&It!==this)return Ey(this,!0),!0}get value(){const e=this.dep.track();return Ty(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function G3(t,e,r=!1){let n,i;return Ge(t)?n=t:(n=t.get,i=t.set),new q3(n,i,r)}const z3={GET:"get",HAS:"has",ITERATE:"iterate"},X3={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},jl={},ku=new WeakMap;let Vi;function Y3(){return Vi}function Ky(t,e=!1,r=Vi){if(r){let n=ku.get(r);n||ku.set(r,n=[]),n.push(t)}}function Z3(t,e,r=gt){const{immediate:n,deep:i,once:o,scheduler:s,augmentJob:a,call:l}=r,u=E=>i?E:nn(E)||i===!1||i===0?vi(E,1):vi(E);let f,d,p,v,y=!1,b=!1;if(Jt(t)?(d=()=>t.value,y=nn(t)):mi(t)?(d=()=>u(t),y=!0):qe(t)?(b=!0,y=t.some(E=>mi(E)||nn(E)),d=()=>t.map(E=>{if(Jt(E))return E.value;if(mi(E))return u(E);if(Ge(E))return l?l(E,2):E()})):Ge(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){Ai();try{p()}finally{Ci()}}const E=Vi;Vi=f;try{return l?l(t,3,[v]):t(v)}finally{Vi=E}}:d=$n,e&&i){const E=d,N=i===!0?1/0:i;d=()=>vi(E(),N)}const x=Ay(),w=()=>{f.stop(),x&&x.active&&L0(x.effects,f)};if(o&&e){const E=e;e=(...N)=>{E(...N),w()}}let C=b?new Array(t.length).fill(jl):jl;const _=E=>{if(!(!(f.flags&1)||!f.dirty&&!E))if(e){const N=f.run();if(i||y||(b?N.some((M,T)=>Kr(M,C[T])):Kr(N,C))){p&&p();const M=Vi;Vi=f;try{const T=[N,C===jl?void 0:b&&C[0]===jl?[]:C,v];C=N,l?l(e,3,T):e(...T)}finally{Vi=M}}}else f.run()};return a&&a(_),f=new Da(d),f.scheduler=s?()=>s(_,!1):_,v=E=>Ky(E,!1,f),p=f.onStop=()=>{const E=ku.get(f);if(E){if(l)l(E,4);else for(const N of E)N();ku.delete(f)}},e?n?_(!0):C=f.run():s?s(_.bind(null,!0),!0):f.run(),w.pause=f.pause.bind(f),w.resume=f.resume.bind(f),w.stop=w,w}function vi(t,e=1/0,r){if(e<=0||!Ot(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,Jt(t))vi(t.value,e,r);else if(qe(t))for(let n=0;n<t.length;n++)vi(t[n],e,r);else if(yy(t)||gs(t))t.forEach(n=>{vi(n,e,r)});else if(xy(t)){for(const n in t)vi(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&vi(t[n],e,r)}return t}const qy=[];function J3(t){qy.push(t)}function Q3(){qy.pop()}function e4(t,e){}const t4={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},r4={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ws(t,e,r,n){try{return n?t(...n):t()}catch(i){Xo(i,e,r)}}function On(t,e,r,n){if(Ge(t)){const i=Ws(t,e,r,n);return i&&$0(i)&&i.catch(o=>{Xo(o,e,r)}),i}if(qe(t)){const i=[];for(let o=0;o<t.length;o++)i.push(On(t[o],e,r,n));return i}}function Xo(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||gt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](t,l,u)===!1)return}a=a.parent}if(o){Ai(),Ws(o,null,10,[t,l,u]),Ci();return}}n4(t,r,i,n,s)}function n4(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}const qr=[];let ei=-1;const ys=[];let ji=null,us=0;const Gy=Promise.resolve();let Nu=null;function Cs(t){const e=Nu||Gy;return t?e.then(this?t.bind(this):t):e}function i4(t){let e=ei+1,r=qr.length;for(;e<r;){const n=e+r>>>1,i=qr[n],o=La(i);o<t||o===t&&i.flags&2?e=n+1:r=n}return e}function K0(t){if(!(t.flags&1)){const e=La(t),r=qr[qr.length-1];!r||!(t.flags&2)&&e>=La(r)?qr.push(t):qr.splice(i4(e),0,t),t.flags|=1,zy()}}function zy(){Nu||(Nu=Gy.then(Xy))}function Fa(t){qe(t)?ys.push(...t):ji&&t.id===-1?ji.splice(us+1,0,t):t.flags&1||(ys.push(t),t.flags|=1),zy()}function q1(t,e,r=ei+1){for(;r<qr.length;r++){const n=qr[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;qr.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ru(t){if(ys.length){const e=[...new Set(ys)].sort((r,n)=>La(r)-La(n));if(ys.length=0,ji){ji.push(...e);return}for(ji=e,us=0;us<ji.length;us++){const r=ji[us];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}ji=null,us=0}}const La=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Xy(t){try{for(ei=0;ei<qr.length;ei++){const e=qr[ei];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ws(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ei<qr.length;ei++){const e=qr[ei];e&&(e.flags&=-2)}ei=-1,qr.length=0,Ru(),Nu=null,(qr.length||ys.length)&&Xy()}}let cs,Hl=[];function Yy(t,e){var r,n;cs=t,cs?(cs.enabled=!0,Hl.forEach(({event:i,args:o})=>cs.emit(i,...o)),Hl=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{Yy(o,e)}),setTimeout(()=>{cs||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Hl=[])},3e3)):Hl=[]}let wr=null,bc=null;function $a(t){const e=wr;return wr=t,bc=t&&t.type.__scopeId||null,e}function o4(t){bc=t}function s4(){bc=null}const a4=t=>Cr;function Cr(t,e=wr,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&ja(-1);const o=$a(e);let s;try{s=t(...i)}finally{$a(o),n._d&&ja(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function le(t,e){if(wr===null)return t;const r=rl(wr),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,s,a,l=gt]=e[i];o&&(Ge(o)&&(o={mounted:o,updated:o}),o.deep&&vi(s),n.push({dir:o,instance:r,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function ri(t,e,r,n){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[n];l&&(Ai(),On(l,r,8,[t.el,a,t,e]),Ci())}}function Zy(t,e){if(_r){let r=_r.provides;const n=_r.parent&&_r.parent.provides;n===r&&(r=_r.provides=Object.create(n)),r[t]=e}}function Ia(t,e,r=!1){const n=an();if(n||Mo){let i=Mo?Mo._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&Ge(e)?e.call(n&&n.proxy):e}}function l4(){return!!(an()||Mo)}const Jy=Symbol.for("v-scx"),Qy=()=>Ia(Jy);function u4(t,e){return el(t,null,e)}function c4(t,e){return el(t,null,{flush:"post"})}function em(t,e){return el(t,null,{flush:"sync"})}function Vn(t,e,r){return el(t,e,r)}function el(t,e,r=gt){const{immediate:n,deep:i,flush:o,once:s}=r,a=Qt({},r),l=e&&n||!e&&o!=="post";let u;if(Is){if(o==="sync"){const v=Qy();u=v.__watcherHandles||(v.__watcherHandles=[])}else if(!l){const v=()=>{};return v.stop=$n,v.resume=$n,v.pause=$n,v}}const f=_r;a.call=(v,y,b)=>On(v,f,y,b);let d=!1;o==="post"?a.scheduler=v=>{Yt(v,f&&f.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(v,y)=>{y?v():K0(v)}),a.augmentJob=v=>{e&&(v.flags|=4),d&&(v.flags|=2,f&&(v.id=f.uid,v.i=f))};const p=Z3(t,e,a);return Is&&(u?u.push(p):l&&p()),p}function f4(t,e,r){const n=this.proxy,i=Xt(t)?t.includes(".")?tm(n,t):()=>n[t]:t.bind(n,n);let o;Ge(e)?o=e:(o=e.handler,r=e);const s=Wo(this),a=el(i,o.bind(n),r);return s(),a}function tm(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const rm=Symbol("_vte"),nm=t=>t.__isTeleport,Ta=t=>t&&(t.disabled||t.disabled===""),G1=t=>t&&(t.defer||t.defer===""),z1=t=>typeof SVGElement<"u"&&t instanceof SVGElement,X1=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Ed=(t,e)=>{const r=t&&t.to;return Xt(r)?e?e(r):null:r},im={name:"Teleport",__isTeleport:!0,process(t,e,r,n,i,o,s,a,l,u){const{mc:f,pc:d,pbc:p,o:{insert:v,querySelector:y,createText:b,createComment:x}}=u,w=Ta(e.props);let{shapeFlag:C,children:_,dynamicChildren:E}=e;if(t==null){const N=e.el=b(""),M=e.anchor=b("");v(N,r,n),v(M,r,n);const T=(k,V)=>{C&16&&f(_,k,V,i,o,s,a,l)},I=()=>{const k=e.target=Ed(e.props,y),V=sm(k,e,b,v);k&&(s!=="svg"&&z1(k)?s="svg":s!=="mathml"&&X1(k)&&(s="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(k),w||(T(k,V),lu(e,!1)))};w&&(T(r,M),lu(e,!0)),G1(e.props)?(e.el.__isMounted=!1,Yt(()=>{I(),delete e.el.__isMounted},o)):I()}else{if(G1(e.props)&&t.el.__isMounted===!1){Yt(()=>{im.process(t,e,r,n,i,o,s,a,l,u)},o);return}e.el=t.el,e.targetStart=t.targetStart;const N=e.anchor=t.anchor,M=e.target=t.target,T=e.targetAnchor=t.targetAnchor,I=Ta(t.props),k=I?r:M,V=I?N:T;if(s==="svg"||z1(M)?s="svg":(s==="mathml"||X1(M))&&(s="mathml"),E?(p(t.dynamicChildren,E,k,i,o,s,a),nh(t,e,!0)):l||d(t,e,k,V,i,o,s,a,!1),w)I?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Wl(e,r,N,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const ue=e.target=Ed(e.props,y);ue&&Wl(e,ue,null,u,0)}else I&&Wl(e,M,T,u,1);lu(e,w)}},remove(t,e,r,{um:n,o:{remove:i}},o){const{shapeFlag:s,children:a,anchor:l,targetStart:u,targetAnchor:f,target:d,props:p}=t;if(d&&(i(u),i(f)),o&&i(l),s&16){const v=o||!Ta(p);for(let y=0;y<a.length;y++){const b=a[y];n(b,e,r,v,!!b.dynamicChildren)}}},move:Wl,hydrate:d4};function Wl(t,e,r,{o:{insert:n},m:i},o=2){o===0&&n(t.targetAnchor,e,r);const{el:s,anchor:a,shapeFlag:l,children:u,props:f}=t,d=o===2;if(d&&n(s,e,r),(!d||Ta(f))&&l&16)for(let p=0;p<u.length;p++)i(u[p],e,r,2);d&&n(a,e,r)}function d4(t,e,r,n,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:u,createText:f}},d){function p(b,x,w,C){x.anchor=d(s(b),x,a(b),r,n,i,o),x.targetStart=w,x.targetAnchor=C}const v=e.target=Ed(e.props,l),y=Ta(e.props);if(v){const b=v._lpa||v.firstChild;if(e.shapeFlag&16)if(y)p(t,e,b,b&&s(b));else{e.anchor=s(t);let x=b;for(;x;){if(x&&x.nodeType===8){if(x.data==="teleport start anchor")e.targetStart=x;else if(x.data==="teleport anchor"){e.targetAnchor=x,v._lpa=e.targetAnchor&&s(e.targetAnchor);break}}x=s(x)}e.targetAnchor||sm(v,e,f,u),d(b&&s(b),e,v,r,n,i,o)}lu(e,y)}else y&&e.shapeFlag&16&&p(t,e,t,s(t));return e.anchor&&s(e.anchor)}const om=im;function lu(t,e){const r=t.ctx;if(r&&r.ut){let n,i;for(e?(n=t.el,i=t.anchor):(n=t.targetStart,i=t.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function sm(t,e,r,n){const i=e.targetStart=r(""),o=e.targetAnchor=r("");return i[rm]=o,t&&(n(i,t),n(o,t)),o}const pi=Symbol("_leaveCb"),Kl=Symbol("_enterCb");function q0(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kn(()=>{t.isMounted=!0}),Cc(()=>{t.isUnmounting=!0}),t}const xn=[Function,Array],G0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xn,onEnter:xn,onAfterEnter:xn,onEnterCancelled:xn,onBeforeLeave:xn,onLeave:xn,onAfterLeave:xn,onLeaveCancelled:xn,onBeforeAppear:xn,onAppear:xn,onAfterAppear:xn,onAppearCancelled:xn},am=t=>{const e=t.subTree;return e.component?am(e.component):e},h4={name:"BaseTransition",props:G0,setup(t,{slots:e}){const r=an(),n=q0();return()=>{const i=e.default&&_c(e.default(),!0);if(!i||!i.length)return;const o=lm(i),s=ct(t),{mode:a}=s;if(n.isLeaving)return Nf(o);const l=Y1(o);if(!l)return Nf(o);let u=Es(l,s,n,r,d=>u=d);l.type!==zt&&Ei(l,u);let f=r.subTree&&Y1(r.subTree);if(f&&f.type!==zt&&!Bn(f,l)&&am(r).type!==zt){let d=Es(f,s,n,r);if(Ei(f,d),a==="out-in"&&l.type!==zt)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,f=void 0},Nf(o);a==="in-out"&&l.type!==zt?d.delayLeave=(p,v,y)=>{const b=cm(n,f);b[String(f.key)]=f,p[pi]=()=>{v(),p[pi]=void 0,delete u.delayedLeave,f=void 0},u.delayedLeave=()=>{y(),delete u.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return o}}};function lm(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==zt){e=r;break}}return e}const um=h4;function cm(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Es(t,e,r,n,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:p,onLeave:v,onAfterLeave:y,onLeaveCancelled:b,onBeforeAppear:x,onAppear:w,onAfterAppear:C,onAppearCancelled:_}=e,E=String(t.key),N=cm(r,t),M=(k,V)=>{k&&On(k,n,9,V)},T=(k,V)=>{const ue=V[1];M(k,V),qe(k)?k.every(W=>W.length<=1)&&ue():k.length<=1&&ue()},I={mode:s,persisted:a,beforeEnter(k){let V=l;if(!r.isMounted)if(o)V=x||l;else return;k[pi]&&k[pi](!0);const ue=N[E];ue&&Bn(t,ue)&&ue.el[pi]&&ue.el[pi](),M(V,[k])},enter(k){let V=u,ue=f,W=d;if(!r.isMounted)if(o)V=w||u,ue=C||f,W=_||d;else return;let D=!1;const re=k[Kl]=De=>{D||(D=!0,De?M(W,[k]):M(ue,[k]),I.delayedLeave&&I.delayedLeave(),k[Kl]=void 0)};V?T(V,[k,re]):re()},leave(k,V){const ue=String(t.key);if(k[Kl]&&k[Kl](!0),r.isUnmounting)return V();M(p,[k]);let W=!1;const D=k[pi]=re=>{W||(W=!0,V(),re?M(b,[k]):M(y,[k]),k[pi]=void 0,N[ue]===t&&delete N[ue])};N[ue]=t,v?T(v,[k,D]):D()},clone(k){const V=Es(k,e,r,n,i);return i&&i(V),V}};return I}function Nf(t){if(tl(t))return t=oi(t),t.children=null,t}function Y1(t){if(!tl(t))return nm(t.type)&&t.children?lm(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&Ge(r.default))return r.default()}}function Ei(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ei(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _c(t,e=!1,r){let n=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=r==null?s.key:String(r)+String(s.key!=null?s.key:o);s.type===Re?(s.patchFlag&128&&i++,n=n.concat(_c(s.children,e,a))):(e||s.type!==zt)&&n.push(a!=null?oi(s,{key:a}):s)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function z0(t,e){return Ge(t)?Qt({name:t.name},e,{setup:t}):t}function p4(){const t=an();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function X0(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function g4(t){const e=an(),r=Vy(null);if(e){const i=e.refs===gt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>r.value,set:o=>r.value=o})}return r}const Pu=new WeakMap;function ms(t,e,r,n,i=!1){if(qe(t)){t.forEach((y,b)=>ms(y,e&&(qe(e)?e[b]:e),r,n,i));return}if(xi(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ms(t,e,r,n.component.subTree);return}const o=n.shapeFlag&4?rl(n.component):n.el,s=i?null:o,{i:a,r:l}=t,u=e&&e.r,f=a.refs===gt?a.refs={}:a.refs,d=a.setupState,p=ct(d),v=d===gt?gy:y=>_t(p,y);if(u!=null&&u!==l){if(Z1(e),Xt(u))f[u]=null,v(u)&&(d[u]=null);else if(Jt(u)){u.value=null;const y=e;y.k&&(f[y.k]=null)}}if(Ge(l))Ws(l,a,12,[s,f]);else{const y=Xt(l),b=Jt(l);if(y||b){const x=()=>{if(t.f){const w=y?v(l)?d[l]:f[l]:l.value;if(i)qe(w)&&L0(w,o);else if(qe(w))w.includes(o)||w.push(o);else if(y)f[l]=[o],v(l)&&(d[l]=f[l]);else{const C=[o];l.value=C,t.k&&(f[t.k]=C)}}else y?(f[l]=s,v(l)&&(d[l]=s)):b&&(l.value=s,t.k&&(f[t.k]=s))};if(s){const w=()=>{x(),Pu.delete(t)};w.id=-1,Pu.set(t,w),Yt(w,r)}else Z1(t),x()}}}function Z1(t){const e=Pu.get(t);e&&(e.flags|=8,Pu.delete(t))}let J1=!1;const os=()=>{J1||(console.error("Hydration completed but contains mismatches."),J1=!0)},v4=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",y4=t=>t.namespaceURI.includes("MathML"),ql=t=>{if(t.nodeType===1){if(v4(t))return"svg";if(y4(t))return"mathml"}},fs=t=>t.nodeType===8;function m4(t){const{mt:e,p:r,o:{patchProp:n,createText:i,nextSibling:o,parentNode:s,remove:a,insert:l,createComment:u}}=t,f=(_,E)=>{if(!E.hasChildNodes()){r(null,_,E),Ru(),E._vnode=_;return}d(E.firstChild,_,null,null,null),Ru(),E._vnode=_},d=(_,E,N,M,T,I=!1)=>{I=I||!!E.dynamicChildren;const k=fs(_)&&_.data==="[",V=()=>b(_,E,N,M,T,k),{type:ue,ref:W,shapeFlag:D,patchFlag:re}=E;let De=_.nodeType;E.el=_,re===-2&&(I=!1,E.dynamicChildren=null);let be=null;switch(ue){case zi:De!==3?E.children===""?(l(E.el=i(""),s(_),_),be=_):be=V():(_.data!==E.children&&(os(),_.data=E.children),be=o(_));break;case zt:C(_)?(be=o(_),w(E.el=_.content.firstChild,_,N)):De!==8||k?be=V():be=o(_);break;case Bo:if(k&&(_=o(_),De=_.nodeType),De===1||De===3){be=_;const Pe=!E.children.length;for(let me=0;me<E.staticCount;me++)Pe&&(E.children+=be.nodeType===1?be.outerHTML:be.data),me===E.staticCount-1&&(E.anchor=be),be=o(be);return k?o(be):be}else V();break;case Re:k?be=y(_,E,N,M,T,I):be=V();break;default:if(D&1)(De!==1||E.type.toLowerCase()!==_.tagName.toLowerCase())&&!C(_)?be=V():be=p(_,E,N,M,T,I);else if(D&6){E.slotScopeIds=T;const Pe=s(_);if(k?be=x(_):fs(_)&&_.data==="teleport start"?be=x(_,_.data,"teleport end"):be=o(_),e(E,Pe,null,N,M,ql(Pe),I),xi(E)&&!E.type.__asyncResolved){let me;k?(me=tt(Re),me.anchor=be?be.previousSibling:Pe.lastChild):me=_.nodeType===3?$e(""):tt("div"),me.el=_,E.component.subTree=me}}else D&64?De!==8?be=V():be=E.type.hydrate(_,E,N,M,T,I,t,v):D&128&&(be=E.type.hydrate(_,E,N,M,ql(s(_)),T,I,t,d))}return W!=null&&ms(W,null,M,E),be},p=(_,E,N,M,T,I)=>{I=I||!!E.dynamicChildren;const{type:k,props:V,patchFlag:ue,shapeFlag:W,dirs:D,transition:re}=E,De=k==="input"||k==="option";if(De||ue!==-1){D&&ri(E,null,N,"created");let be=!1;if(C(_)){be=Bm(null,re)&&N&&N.vnode.props&&N.vnode.props.appear;const me=_.content.firstChild;if(be){const ze=me.getAttribute("class");ze&&(me.$cls=ze),re.beforeEnter(me)}w(me,_,N),E.el=_=me}if(W&16&&!(V&&(V.innerHTML||V.textContent))){let me=v(_.firstChild,E,_,N,M,T,I);for(;me;){Gl(_,1)||os();const ze=me;me=me.nextSibling,a(ze)}}else if(W&8){let me=E.children;me[0]===`
`&&(_.tagName==="PRE"||_.tagName==="TEXTAREA")&&(me=me.slice(1));const{textContent:ze}=_;ze!==me&&ze!==me.replace(/\r\n|\r/g,`
`)&&(Gl(_,0)||os(),_.textContent=E.children)}if(V){if(De||!I||ue&48){const me=_.tagName.includes("-");for(const ze in V)(De&&(ze.endsWith("value")||ze==="indeterminate")||fc(ze)&&!vs(ze)||ze[0]==="."||me)&&n(_,ze,null,V[ze],void 0,N)}else if(V.onClick)n(_,"onClick",null,V.onClick,void 0,N);else if(ue&4&&mi(V.style))for(const me in V.style)V.style[me]}let Pe;(Pe=V&&V.onVnodeBeforeMount)&&Jr(Pe,N,E),D&&ri(E,null,N,"beforeMount"),((Pe=V&&V.onVnodeMounted)||D||be)&&Um(()=>{Pe&&Jr(Pe,N,E),be&&re.enter(_),D&&ri(E,null,N,"mounted")},M)}return _.nextSibling},v=(_,E,N,M,T,I,k)=>{k=k||!!E.dynamicChildren;const V=E.children,ue=V.length;for(let W=0;W<ue;W++){const D=k?V[W]:V[W]=Qr(V[W]),re=D.type===zi;_?(re&&!k&&W+1<ue&&Qr(V[W+1]).type===zi&&(l(i(_.data.slice(D.children.length)),N,o(_)),_.data=D.children),_=d(_,D,M,T,I,k)):re&&!D.children?l(D.el=i(""),N):(Gl(N,1)||os(),r(null,D,N,null,M,T,ql(N),I))}return _},y=(_,E,N,M,T,I)=>{const{slotScopeIds:k}=E;k&&(T=T?T.concat(k):k);const V=s(_),ue=v(o(_),E,V,N,M,T,I);return ue&&fs(ue)&&ue.data==="]"?o(E.anchor=ue):(os(),l(E.anchor=u("]"),V,ue),ue)},b=(_,E,N,M,T,I)=>{if(Gl(_.parentElement,1)||os(),E.el=null,I){const ue=x(_);for(;;){const W=o(_);if(W&&W!==ue)a(W);else break}}const k=o(_),V=s(_);return a(_),r(null,E,V,k,N,M,ql(V),T),N&&(N.vnode.el=E.el,Sc(N,E.el)),k},x=(_,E="[",N="]")=>{let M=0;for(;_;)if(_=o(_),_&&fs(_)&&(_.data===E&&M++,_.data===N)){if(M===0)return o(_);M--}return _},w=(_,E,N)=>{const M=E.parentNode;M&&M.replaceChild(_,E);let T=N;for(;T;)T.vnode.el===E&&(T.vnode.el=T.subTree.el=_),T=T.parent},C=_=>_.nodeType===1&&_.tagName==="TEMPLATE";return[f,d]}const Q1="data-allow-mismatch",x4={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Gl(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Q1);)t=t.parentElement;const r=t&&t.getAttribute(Q1);if(r==null)return!1;if(r==="")return!0;{const n=r.split(",");return e===0&&n.includes("children")?!0:n.includes(x4[e])}}const b4=gc().requestIdleCallback||(t=>setTimeout(t,1)),_4=gc().cancelIdleCallback||(t=>clearTimeout(t)),w4=(t=1e4)=>e=>{const r=b4(e,{timeout:t});return()=>_4(r)};function A4(t){const{top:e,left:r,bottom:n,right:i}=t.getBoundingClientRect(),{innerHeight:o,innerWidth:s}=window;return(e>0&&e<o||n>0&&n<o)&&(r>0&&r<s||i>0&&i<s)}const C4=t=>(e,r)=>{const n=new IntersectionObserver(i=>{for(const o of i)if(o.isIntersecting){n.disconnect(),e();break}},t);return r(i=>{if(i instanceof Element){if(A4(i))return e(),n.disconnect(),!1;n.observe(i)}}),()=>n.disconnect()},E4=t=>e=>{if(t){const r=matchMedia(t);if(r.matches)e();else return r.addEventListener("change",e,{once:!0}),()=>r.removeEventListener("change",e)}},S4=(t=[])=>(e,r)=>{Xt(t)&&(t=[t]);let n=!1;const i=s=>{n||(n=!0,o(),e(),s.target.dispatchEvent(new s.constructor(s.type,s)))},o=()=>{r(s=>{for(const a of t)s.removeEventListener(a,i)})};return r(s=>{for(const a of t)s.addEventListener(a,i,{once:!0})}),o};function I4(t,e){if(fs(t)&&t.data==="["){let r=1,n=t.nextSibling;for(;n;){if(n.nodeType===1){if(e(n)===!1)break}else if(fs(n))if(n.data==="]"){if(--r===0)break}else n.data==="["&&r++;n=n.nextSibling}}else e(t)}const xi=t=>!!t.type.__asyncLoader;function T4(t){Ge(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:n,delay:i=200,hydrate:o,timeout:s,suspensible:a=!0,onError:l}=t;let u=null,f,d=0;const p=()=>(d++,u=null,v()),v=()=>{let y;return u||(y=u=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((x,w)=>{l(b,()=>x(p()),()=>w(b),d+1)});throw b}).then(b=>y!==u&&u?u:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),f=b,b)))};return z0({name:"AsyncComponentWrapper",__asyncLoader:v,__asyncHydrate(y,b,x){let w=!1;(b.bu||(b.bu=[])).push(()=>w=!0);const C=()=>{w||x()},_=o?()=>{const E=o(C,N=>I4(y,N));E&&(b.bum||(b.bum=[])).push(E)}:C;f?_():v().then(()=>!b.isUnmounted&&_())},get __asyncResolved(){return f},setup(){const y=_r;if(X0(y),f)return()=>zl(f,y);const b=_=>{u=null,Xo(_,y,13,!n)};if(a&&y.suspense||Is)return v().then(_=>()=>zl(_,y)).catch(_=>(b(_),()=>n?tt(n,{error:_}):null));const x=ye(!1),w=ye(),C=ye(!!i);return i&&setTimeout(()=>{C.value=!1},i),s!=null&&setTimeout(()=>{if(!x.value&&!w.value){const _=new Error(`Async component timed out after ${s}ms.`);b(_),w.value=_}},s),v().then(()=>{x.value=!0,y.parent&&tl(y.parent.vnode)&&y.parent.update()}).catch(_=>{b(_),w.value=_}),()=>{if(x.value&&f)return zl(f,y);if(w.value&&n)return tt(n,{error:w.value});if(r&&!C.value)return zl(r,y)}}})}function zl(t,e){const{ref:r,props:n,children:i,ce:o}=e.vnode,s=tt(t,n,i);return s.ref=r,s.ce=o,delete e.vnode.ce,s}const tl=t=>t.type.__isKeepAlive,O4={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=an(),n=r.ctx;if(!n.renderer)return()=>{const C=e.default&&e.default();return C&&C.length===1?C[0]:C};const i=new Map,o=new Set;let s=null;const a=r.suspense,{renderer:{p:l,m:u,um:f,o:{createElement:d}}}=n,p=d("div");n.activate=(C,_,E,N,M)=>{const T=C.component;u(C,_,E,0,a),l(T.vnode,C,_,E,T,a,N,C.slotScopeIds,M),Yt(()=>{T.isDeactivated=!1,T.a&&Ca(T.a);const I=C.props&&C.props.onVnodeMounted;I&&Jr(I,T.parent,C)},a)},n.deactivate=C=>{const _=C.component;Mu(_.m),Mu(_.a),u(C,p,null,1,a),Yt(()=>{_.da&&Ca(_.da);const E=C.props&&C.props.onVnodeUnmounted;E&&Jr(E,_.parent,C),_.isDeactivated=!0},a)};function v(C){Rf(C),f(C,r,a,!0)}function y(C){i.forEach((_,E)=>{const N=Bd(xi(_)?_.type.__asyncResolved||{}:_.type);N&&!C(N)&&b(E)})}function b(C){const _=i.get(C);_&&(!s||!Bn(_,s))?v(_):s&&Rf(s),i.delete(C),o.delete(C)}Vn(()=>[t.include,t.exclude],([C,_])=>{C&&y(E=>ga(C,E)),_&&y(E=>!ga(_,E))},{flush:"post",deep:!0});let x=null;const w=()=>{x!=null&&(Bu(r.subTree.type)?Yt(()=>{i.set(x,Xl(r.subTree))},r.subTree.suspense):i.set(x,Xl(r.subTree)))};return kn(w),Ac(w),Cc(()=>{i.forEach(C=>{const{subTree:_,suspense:E}=r,N=Xl(_);if(C.type===N.type&&C.key===N.key){Rf(N);const M=N.component.da;M&&Yt(M,E);return}v(C)})}),()=>{if(x=null,!e.default)return s=null;const C=e.default(),_=C[0];if(C.length>1)return s=null,C;if(!Si(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return s=null,_;let E=Xl(_);if(E.type===zt)return s=null,E;const N=E.type,M=Bd(xi(E)?E.type.__asyncResolved||{}:N),{include:T,exclude:I,max:k}=t;if(T&&(!M||!ga(T,M))||I&&M&&ga(I,M))return E.shapeFlag&=-257,s=E,_;const V=E.key==null?N:E.key,ue=i.get(V);return E.el&&(E=oi(E),_.shapeFlag&128&&(_.ssContent=E)),x=V,ue?(E.el=ue.el,E.component=ue.component,E.transition&&Ei(E,E.transition),E.shapeFlag|=512,o.delete(V),o.add(V)):(o.add(V),k&&o.size>parseInt(k,10)&&b(o.values().next().value)),E.shapeFlag|=256,s=E,Bu(_.type)?_:E}}},k4=O4;function ga(t,e){return qe(t)?t.some(r=>ga(r,e)):Xt(t)?t.split(",").includes(e):e3(t)?(t.lastIndex=0,t.test(e)):!1}function fm(t,e){hm(t,"a",e)}function dm(t,e){hm(t,"da",e)}function hm(t,e,r=_r){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(wc(e,n,r),r){let i=r.parent;for(;i&&i.parent;)tl(i.parent.vnode)&&N4(n,e,r,i),i=i.parent}}function N4(t,e,r,n){const i=wc(e,t,n,!0);ao(()=>{L0(n[e],i)},r)}function Rf(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Xl(t){return t.shapeFlag&128?t.ssContent:t}function wc(t,e,r=_r,n=!1){if(r){const i=r[t]||(r[t]=[]),o=e.__weh||(e.__weh=(...s)=>{Ai();const a=Wo(r),l=On(e,r,t,s);return a(),Ci(),l});return n?i.unshift(o):i.push(o),o}}const Ii=t=>(e,r=_r)=>{(!Is||t==="sp")&&wc(t,(...n)=>e(...n),r)},pm=Ii("bm"),kn=Ii("m"),Y0=Ii("bu"),Ac=Ii("u"),Cc=Ii("bum"),ao=Ii("um"),gm=Ii("sp"),vm=Ii("rtg"),ym=Ii("rtc");function mm(t,e=_r){wc("ec",t,e)}const Z0="components",R4="directives";function P4(t,e){return J0(Z0,t,!0,e)||t}const xm=Symbol.for("v-ndc");function D4(t){return Xt(t)?J0(Z0,t,!1)||t:t||xm}function M4(t){return J0(R4,t)}function J0(t,e,r=!0,n=!1){const i=wr||_r;if(i){const o=i.type;if(t===Z0){const a=Bd(o,!1);if(a&&(a===e||a===hn(e)||a===pc(hn(e))))return o}const s=ep(i[t]||o[t],e)||ep(i.appContext[t],e);return!s&&n?o:s}}function ep(t,e){return t&&(t[e]||t[hn(e)]||t[pc(hn(e))])}function Ke(t,e,r,n){let i;const o=r&&r[n],s=qe(t);if(s||Xt(t)){const a=s&&mi(t);let l=!1,u=!1;a&&(l=!nn(t),u=ii(t),t=yc(t)),i=new Array(t.length);for(let f=0,d=t.length;f<d;f++)i[f]=e(l?u?As(Wn(t[f])):Wn(t[f]):t[f],f,void 0,o&&o[f])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,o&&o[a])}else if(Ot(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,o&&o[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const f=a[l];i[l]=e(t[f],f,l,o&&o[l])}}else i=[];return r&&(r[n]=i),i}function B4(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(qe(n))for(let i=0;i<n.length;i++)t[n[i].name]=n[i].fn;else n&&(t[n.name]=n.key?(...i)=>{const o=n.fn(...i);return o&&(o.key=n.key),o}:n.fn)}return t}function bi(t,e,r={},n,i){if(wr.ce||wr.parent&&xi(wr.parent)&&wr.parent.ce){const u=Object.keys(r).length>0;return e!=="default"&&(r.name=e),B(),Ss(Re,null,[tt("slot",r,n&&n())],u?-2:64)}let o=t[e];o&&o._c&&(o._d=!1),B();const s=o&&Q0(o(r)),a=r.key||s&&s.key,l=Ss(Re,{key:(a&&!so(a)?a:`_${e}`)+(!s&&n?"_fb":"")},s||(n?n():[]),s&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Q0(t){return t.some(e=>Si(e)?!(e.type===zt||e.type===Re&&!Q0(e.children)):!0)?t:null}function F4(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:Aa(n)]=t[n];return r}const Sd=t=>t?Gm(t)?rl(t):Sd(t.parent):null,Oa=Qt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Sd(t.parent),$root:t=>Sd(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>eh(t),$forceUpdate:t=>t.f||(t.f=()=>{K0(t.update)}),$nextTick:t=>t.n||(t.n=Cs.bind(t.proxy)),$watch:t=>f4.bind(t)}),Pf=(t,e)=>t!==gt&&!t.__isScriptSetup&&_t(t,e),Id={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:o,accessCache:s,type:a,appContext:l}=t;if(e[0]!=="$"){const p=s[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return o[e]}else{if(Pf(n,e))return s[e]=1,n[e];if(i!==gt&&_t(i,e))return s[e]=2,i[e];if(_t(o,e))return s[e]=3,o[e];if(r!==gt&&_t(r,e))return s[e]=4,r[e];Td&&(s[e]=0)}}const u=Oa[e];let f,d;if(u)return e==="$attrs"&&Dr(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==gt&&_t(r,e))return s[e]=4,r[e];if(d=l.config.globalProperties,_t(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:o}=t;return Pf(i,e)?(i[e]=r,!0):n!==gt&&_t(n,e)?(n[e]=r,!0):_t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,props:o,type:s}},a){let l;return!!(r[a]||t!==gt&&a[0]!=="$"&&_t(t,a)||Pf(e,a)||_t(o,a)||_t(n,a)||_t(Oa,a)||_t(i.config.globalProperties,a)||(l=s.__cssModules)&&l[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:_t(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},L4=Qt({},Id,{get(t,e){if(e!==Symbol.unscopables)return Id.get(t,e,t)},has(t,e){return e[0]!=="_"&&!a3(e)}});function $4(){return null}function U4(){return null}function V4(t){}function j4(t){}function H4(){return null}function W4(){}function K4(t,e){return null}function q4(){return bm().slots}function G4(){return bm().attrs}function bm(t){const e=an();return e.setupContext||(e.setupContext=Zm(e))}function Ua(t){return qe(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function z4(t,e){const r=Ua(t);for(const n in e){if(n.startsWith("__skip"))continue;let i=r[n];i?qe(i)||Ge(i)?i=r[n]={type:i,default:e[n]}:i.default=e[n]:i===null&&(i=r[n]={default:e[n]}),i&&e[`__skip_${n}`]&&(i.skipFactory=!0)}return r}function X4(t,e){return!t||!e?t||e:qe(t)&&qe(e)?t.concat(e):Qt({},Ua(t),Ua(e))}function Y4(t,e){const r={};for(const n in t)e.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>t[n]});return r}function Z4(t){const e=an();let r=t();return Pd(),$0(r)&&(r=r.catch(n=>{throw Wo(e),n})),[r,()=>Wo(e)]}let Td=!0;function J4(t){const e=eh(t),r=t.proxy,n=t.ctx;Td=!1,e.beforeCreate&&tp(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:u,created:f,beforeMount:d,mounted:p,beforeUpdate:v,updated:y,activated:b,deactivated:x,beforeDestroy:w,beforeUnmount:C,destroyed:_,unmounted:E,render:N,renderTracked:M,renderTriggered:T,errorCaptured:I,serverPrefetch:k,expose:V,inheritAttrs:ue,components:W,directives:D,filters:re}=e;if(u&&Q4(u,n,null),s)for(const Pe in s){const me=s[Pe];Ge(me)&&(n[Pe]=me.bind(r))}if(i){const Pe=i.call(r,r);Ot(Pe)&&(t.data=yr(Pe))}if(Td=!0,o)for(const Pe in o){const me=o[Pe],ze=Ge(me)?me.bind(r,r):Ge(me.get)?me.get.bind(r,r):$n,Mt=!Ge(me)&&Ge(me.set)?me.set.bind(r):$n,Et=Gr({get:ze,set:Mt});Object.defineProperty(n,Pe,{enumerable:!0,configurable:!0,get:()=>Et.value,set:$t=>Et.value=$t})}if(a)for(const Pe in a)_m(a[Pe],n,r,Pe);if(l){const Pe=Ge(l)?l.call(r):l;Reflect.ownKeys(Pe).forEach(me=>{Zy(me,Pe[me])})}f&&tp(f,t,"c");function be(Pe,me){qe(me)?me.forEach(ze=>Pe(ze.bind(r))):me&&Pe(me.bind(r))}if(be(pm,d),be(kn,p),be(Y0,v),be(Ac,y),be(fm,b),be(dm,x),be(mm,I),be(ym,M),be(vm,T),be(Cc,C),be(ao,E),be(gm,k),qe(V))if(V.length){const Pe=t.exposed||(t.exposed={});V.forEach(me=>{Object.defineProperty(Pe,me,{get:()=>r[me],set:ze=>r[me]=ze,enumerable:!0})})}else t.exposed||(t.exposed={});N&&t.render===$n&&(t.render=N),ue!=null&&(t.inheritAttrs=ue),W&&(t.components=W),D&&(t.directives=D),k&&X0(t)}function Q4(t,e,r=$n){qe(t)&&(t=Od(t));for(const n in t){const i=t[n];let o;Ot(i)?"default"in i?o=Ia(i.from||n,i.default,!0):o=Ia(i.from||n):o=Ia(i),Jt(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[n]=o}}function tp(t,e,r){On(qe(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function _m(t,e,r,n){let i=n.includes(".")?tm(r,n):()=>r[n];if(Xt(t)){const o=e[t];Ge(o)&&Vn(i,o)}else if(Ge(t))Vn(i,t.bind(r));else if(Ot(t))if(qe(t))t.forEach(o=>_m(o,e,r,n));else{const o=Ge(t.handler)?t.handler.bind(r):e[t.handler];Ge(o)&&Vn(i,o,t)}}function eh(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(u=>Du(l,u,s,!0)),Du(l,e,s)),Ot(e)&&o.set(e,l),l}function Du(t,e,r,n=!1){const{mixins:i,extends:o}=e;o&&Du(t,o,r,!0),i&&i.forEach(s=>Du(t,s,r,!0));for(const s in e)if(!(n&&s==="expose")){const a=eA[s]||r&&r[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const eA={data:rp,props:np,emits:np,methods:va,computed:va,beforeCreate:Hr,created:Hr,beforeMount:Hr,mounted:Hr,beforeUpdate:Hr,updated:Hr,beforeDestroy:Hr,beforeUnmount:Hr,destroyed:Hr,unmounted:Hr,activated:Hr,deactivated:Hr,errorCaptured:Hr,serverPrefetch:Hr,components:va,directives:va,watch:rA,provide:rp,inject:tA};function rp(t,e){return e?t?function(){return Qt(Ge(t)?t.call(this,this):t,Ge(e)?e.call(this,this):e)}:e:t}function tA(t,e){return va(Od(t),Od(e))}function Od(t){if(qe(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Hr(t,e){return t?[...new Set([].concat(t,e))]:e}function va(t,e){return t?Qt(Object.create(null),t,e):e}function np(t,e){return t?qe(t)&&qe(e)?[...new Set([...t,...e])]:Qt(Object.create(null),Ua(t),Ua(e??{})):e}function rA(t,e){if(!t)return e;if(!e)return t;const r=Qt(Object.create(null),t);for(const n in e)r[n]=Hr(t[n],e[n]);return r}function wm(){return{app:null,config:{isNativeTag:gy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nA=0;function iA(t,e){return function(n,i=null){Ge(n)||(n=Qt({},n)),i!=null&&!Ot(i)&&(i=null);const o=wm(),s=new WeakSet,a=[];let l=!1;const u=o.app={_uid:nA++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:ex,get config(){return o.config},set config(f){},use(f,...d){return s.has(f)||(f&&Ge(f.install)?(s.add(f),f.install(u,...d)):Ge(f)&&(s.add(f),f(u,...d))),u},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),u},component(f,d){return d?(o.components[f]=d,u):o.components[f]},directive(f,d){return d?(o.directives[f]=d,u):o.directives[f]},mount(f,d,p){if(!l){const v=u._ceVNode||tt(n,i);return v.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(v,f):t(v,f,p),l=!0,u._container=f,f.__vue_app__=u,rl(v.component)}},onUnmount(f){a.push(f)},unmount(){l&&(On(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(f,d){return o.provides[f]=d,u},runWithContext(f){const d=Mo;Mo=u;try{return f()}finally{Mo=d}}};return u}}let Mo=null;function oA(t,e,r=gt){const n=an(),i=hn(e),o=js(e),s=Am(t,i),a=Hy((l,u)=>{let f,d=gt,p;return em(()=>{const v=t[i];Kr(f,v)&&(f=v,u())}),{get(){return l(),r.get?r.get(f):f},set(v){const y=r.set?r.set(v):v;if(!Kr(y,f)&&!(d!==gt&&Kr(v,d)))return;const b=n.vnode.props;b&&(e in b||i in b||o in b)&&(`onUpdate:${e}`in b||`onUpdate:${i}`in b||`onUpdate:${o}`in b)||(f=v,u()),n.emit(`update:${e}`,y),Kr(v,y)&&Kr(v,d)&&!Kr(y,p)&&u(),d=v,p=y}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?s||gt:a,done:!1}:{done:!0}}}},a}const Am=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${hn(e)}Modifiers`]||t[`${js(e)}Modifiers`];function sA(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||gt;let i=r;const o=e.startsWith("update:"),s=o&&Am(n,e.slice(7));s&&(s.trim&&(i=r.map(f=>Xt(f)?f.trim():f)),s.number&&(i=r.map(i3)));let a,l=n[a=Aa(e)]||n[a=Aa(hn(e))];!l&&o&&(l=n[a=Aa(js(e))]),l&&On(l,t,6,i);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,On(u,t,6,i)}}const aA=new WeakMap;function Cm(t,e,r=!1){const n=r?aA:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!Ge(t)){const l=u=>{const f=Cm(u,e,!0);f&&(a=!0,Qt(s,f))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Ot(t)&&n.set(t,null),null):(qe(o)?o.forEach(l=>s[l]=null):Qt(s,o),Ot(t)&&n.set(t,s),s)}function Ec(t,e){return!t||!fc(e)?!1:(e=e.slice(2).replace(/Once$/,""),_t(t,e[0].toLowerCase()+e.slice(1))||_t(t,js(e))||_t(t,e))}function uu(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:u,renderCache:f,props:d,data:p,setupState:v,ctx:y,inheritAttrs:b}=t,x=$a(t);let w,C;try{if(r.shapeFlag&4){const E=i||n,N=E;w=Qr(u.call(N,E,f,d,v,p,y)),C=a}else{const E=e;w=Qr(E.length>1?E(d,{attrs:a,slots:s,emit:l}):E(d,null)),C=e.props?a:uA(a)}}catch(E){ka.length=0,Xo(E,t,1),w=tt(zt)}let _=w;if(C&&b!==!1){const E=Object.keys(C),{shapeFlag:N}=_;E.length&&N&7&&(o&&E.some(vy)&&(C=cA(C,o)),_=oi(_,C,!1,!0))}return r.dirs&&(_=oi(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&Ei(_,r.transition),w=_,$a(x),w}function lA(t,e=!0){let r;for(let n=0;n<t.length;n++){const i=t[n];if(Si(i)){if(i.type!==zt||i.children==="v-if"){if(r)return;r=i}}else return}return r}const uA=t=>{let e;for(const r in t)(r==="class"||r==="style"||fc(r))&&((e||(e={}))[r]=t[r]);return e},cA=(t,e)=>{const r={};for(const n in t)(!vy(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function fA(t,e,r){const{props:n,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?ip(n,s,u):!!s;if(l&8){const f=e.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(s[p]!==n[p]&&!Ec(u,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===s?!1:n?s?ip(n,s,u):!0:!!s;return!1}function ip(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(e[o]!==t[o]&&!Ec(r,o))return!0}return!1}function Sc({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const Em={},Sm=()=>Object.create(Em),Im=t=>Object.getPrototypeOf(t)===Em;function dA(t,e,r,n=!1){const i={},o=Sm();t.propsDefaults=Object.create(null),Tm(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);r?t.props=n?i:$y(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function hA(t,e,r,n){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=ct(i),[l]=t.propsOptions;let u=!1;if((n||s>0)&&!(s&16)){if(s&8){const f=t.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(Ec(t.emitsOptions,p))continue;const v=e[p];if(l)if(_t(o,p))v!==o[p]&&(o[p]=v,u=!0);else{const y=hn(p);i[y]=kd(l,a,y,v,t,!1)}else v!==o[p]&&(o[p]=v,u=!0)}}}else{Tm(t,e,i,o)&&(u=!0);let f;for(const d in a)(!e||!_t(e,d)&&((f=js(d))===d||!_t(e,f)))&&(l?r&&(r[d]!==void 0||r[f]!==void 0)&&(i[d]=kd(l,a,d,void 0,t,!0)):delete i[d]);if(o!==a)for(const d in o)(!e||!_t(e,d))&&(delete o[d],u=!0)}u&&gi(t.attrs,"set","")}function Tm(t,e,r,n){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(vs(l))continue;const u=e[l];let f;i&&_t(i,f=hn(l))?!o||!o.includes(f)?r[f]=u:(a||(a={}))[f]=u:Ec(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,s=!0)}if(o){const l=ct(r),u=a||gt;for(let f=0;f<o.length;f++){const d=o[f];r[d]=kd(i,l,d,u[d],t,!_t(u,d))}}return s}function kd(t,e,r,n,i,o){const s=t[r];if(s!=null){const a=_t(s,"default");if(a&&n===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ge(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const f=Wo(i);n=u[r]=l.call(null,e),f()}}else n=l;i.ce&&i.ce._setProp(r,n)}s[0]&&(o&&!a?n=!1:s[1]&&(n===""||n===js(r))&&(n=!0))}return n}const pA=new WeakMap;function Om(t,e,r=!1){const n=r?pA:e.propsCache,i=n.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!Ge(t)){const f=d=>{l=!0;const[p,v]=Om(d,e,!0);Qt(s,p),v&&a.push(...v)};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!o&&!l)return Ot(t)&&n.set(t,ps),ps;if(qe(o))for(let f=0;f<o.length;f++){const d=hn(o[f]);op(d)&&(s[d]=gt)}else if(o)for(const f in o){const d=hn(f);if(op(d)){const p=o[f],v=s[d]=qe(p)||Ge(p)?{type:p}:Qt({},p),y=v.type;let b=!1,x=!0;if(qe(y))for(let w=0;w<y.length;++w){const C=y[w],_=Ge(C)&&C.name;if(_==="Boolean"){b=!0;break}else _==="String"&&(x=!1)}else b=Ge(y)&&y.name==="Boolean";v[0]=b,v[1]=x,(b||_t(v,"default"))&&a.push(d)}}const u=[s,a];return Ot(t)&&n.set(t,u),u}function op(t){return t[0]!=="$"&&!vs(t)}const th=t=>t==="_"||t==="_ctx"||t==="$stable",rh=t=>qe(t)?t.map(Qr):[Qr(t)],gA=(t,e,r)=>{if(e._n)return e;const n=Cr((...i)=>rh(e(...i)),r);return n._c=!1,n},km=(t,e,r)=>{const n=t._ctx;for(const i in t){if(th(i))continue;const o=t[i];if(Ge(o))e[i]=gA(i,o,n);else if(o!=null){const s=rh(o);e[i]=()=>s}}},Nm=(t,e)=>{const r=rh(e);t.slots.default=()=>r},Rm=(t,e,r)=>{for(const n in e)(r||!th(n))&&(t[n]=e[n])},vA=(t,e,r)=>{const n=t.slots=Sm();if(t.vnode.shapeFlag&32){const i=e._;i?(Rm(n,e,r),r&&by(n,"_",i,!0)):km(e,n)}else e&&Nm(t,e)},yA=(t,e,r)=>{const{vnode:n,slots:i}=t;let o=!0,s=gt;if(n.shapeFlag&32){const a=e._;a?r&&a===1?o=!1:Rm(i,e,r):(o=!e.$stable,km(e,i)),s=e}else e&&(Nm(t,e),s={default:1});if(o)for(const a in i)!th(a)&&s[a]==null&&delete i[a]},Yt=Um;function Pm(t){return Mm(t)}function Dm(t){return Mm(t,m4)}function Mm(t,e){const r=gc();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:f,parentNode:d,nextSibling:p,setScopeId:v=$n,insertStaticContent:y}=t,b=($,G,ae,ve=null,pe=null,Q=null,Z=void 0,ie=null,ge=!!G.dynamicChildren)=>{if($===G)return;$&&!Bn($,G)&&(ve=Gn($),$t($,pe,Q,!0),$=null),G.patchFlag===-2&&(ge=!1,G.dynamicChildren=null);const{type:he,ref:Ve,shapeFlag:ke}=G;switch(he){case zi:x($,G,ae,ve);break;case zt:w($,G,ae,ve);break;case Bo:$==null&&C(G,ae,ve,Z);break;case Re:W($,G,ae,ve,pe,Q,Z,ie,ge);break;default:ke&1?N($,G,ae,ve,pe,Q,Z,ie,ge):ke&6?D($,G,ae,ve,pe,Q,Z,ie,ge):(ke&64||ke&128)&&he.process($,G,ae,ve,pe,Q,Z,ie,ge,yn)}Ve!=null&&pe?ms(Ve,$&&$.ref,Q,G||$,!G):Ve==null&&$&&$.ref!=null&&ms($.ref,null,Q,$,!0)},x=($,G,ae,ve)=>{if($==null)n(G.el=a(G.children),ae,ve);else{const pe=G.el=$.el;G.children!==$.children&&u(pe,G.children)}},w=($,G,ae,ve)=>{$==null?n(G.el=l(G.children||""),ae,ve):G.el=$.el},C=($,G,ae,ve)=>{[$.el,$.anchor]=y($.children,G,ae,ve,$.el,$.anchor)},_=({el:$,anchor:G},ae,ve)=>{let pe;for(;$&&$!==G;)pe=p($),n($,ae,ve),$=pe;n(G,ae,ve)},E=({el:$,anchor:G})=>{let ae;for(;$&&$!==G;)ae=p($),i($),$=ae;i(G)},N=($,G,ae,ve,pe,Q,Z,ie,ge)=>{if(G.type==="svg"?Z="svg":G.type==="math"&&(Z="mathml"),$==null)M(G,ae,ve,pe,Q,Z,ie,ge);else{const he=$.el&&$.el._isVueCE?$.el:null;try{he&&he._beginPatch(),k($,G,pe,Q,Z,ie,ge)}finally{he&&he._endPatch()}}},M=($,G,ae,ve,pe,Q,Z,ie)=>{let ge,he;const{props:Ve,shapeFlag:ke,transition:Be,dirs:je}=$;if(ge=$.el=s($.type,Q,Ve&&Ve.is,Ve),ke&8?f(ge,$.children):ke&16&&I($.children,ge,null,ve,pe,Df($,Q),Z,ie),je&&ri($,null,ve,"created"),T(ge,$,$.scopeId,Z,ve),Ve){for(const xt in Ve)xt!=="value"&&!vs(xt)&&o(ge,xt,null,Ve[xt],Q,ve);"value"in Ve&&o(ge,"value",null,Ve.value,Q),(he=Ve.onVnodeBeforeMount)&&Jr(he,ve,$)}je&&ri($,null,ve,"beforeMount");const Ye=Bm(pe,Be);Ye&&Be.beforeEnter(ge),n(ge,G,ae),((he=Ve&&Ve.onVnodeMounted)||Ye||je)&&Yt(()=>{he&&Jr(he,ve,$),Ye&&Be.enter(ge),je&&ri($,null,ve,"mounted")},pe)},T=($,G,ae,ve,pe)=>{if(ae&&v($,ae),ve)for(let Q=0;Q<ve.length;Q++)v($,ve[Q]);if(pe){let Q=pe.subTree;if(G===Q||Bu(Q.type)&&(Q.ssContent===G||Q.ssFallback===G)){const Z=pe.vnode;T($,Z,Z.scopeId,Z.slotScopeIds,pe.parent)}}},I=($,G,ae,ve,pe,Q,Z,ie,ge=0)=>{for(let he=ge;he<$.length;he++){const Ve=$[he]=ie?Hi($[he]):Qr($[he]);b(null,Ve,G,ae,ve,pe,Q,Z,ie)}},k=($,G,ae,ve,pe,Q,Z)=>{const ie=G.el=$.el;let{patchFlag:ge,dynamicChildren:he,dirs:Ve}=G;ge|=$.patchFlag&16;const ke=$.props||gt,Be=G.props||gt;let je;if(ae&&yo(ae,!1),(je=Be.onVnodeBeforeUpdate)&&Jr(je,ae,G,$),Ve&&ri(G,$,ae,"beforeUpdate"),ae&&yo(ae,!0),(ke.innerHTML&&Be.innerHTML==null||ke.textContent&&Be.textContent==null)&&f(ie,""),he?V($.dynamicChildren,he,ie,ae,ve,Df(G,pe),Q):Z||me($,G,ie,null,ae,ve,Df(G,pe),Q,!1),ge>0){if(ge&16)ue(ie,ke,Be,ae,pe);else if(ge&2&&ke.class!==Be.class&&o(ie,"class",null,Be.class,pe),ge&4&&o(ie,"style",ke.style,Be.style,pe),ge&8){const Ye=G.dynamicProps;for(let xt=0;xt<Ye.length;xt++){const lt=Ye[xt],ur=ke[lt],Wt=Be[lt];(Wt!==ur||lt==="value")&&o(ie,lt,ur,Wt,pe,ae)}}ge&1&&$.children!==G.children&&f(ie,G.children)}else!Z&&he==null&&ue(ie,ke,Be,ae,pe);((je=Be.onVnodeUpdated)||Ve)&&Yt(()=>{je&&Jr(je,ae,G,$),Ve&&ri(G,$,ae,"updated")},ve)},V=($,G,ae,ve,pe,Q,Z)=>{for(let ie=0;ie<G.length;ie++){const ge=$[ie],he=G[ie],Ve=ge.el&&(ge.type===Re||!Bn(ge,he)||ge.shapeFlag&198)?d(ge.el):ae;b(ge,he,Ve,null,ve,pe,Q,Z,!0)}},ue=($,G,ae,ve,pe)=>{if(G!==ae){if(G!==gt)for(const Q in G)!vs(Q)&&!(Q in ae)&&o($,Q,G[Q],null,pe,ve);for(const Q in ae){if(vs(Q))continue;const Z=ae[Q],ie=G[Q];Z!==ie&&Q!=="value"&&o($,Q,ie,Z,pe,ve)}"value"in ae&&o($,"value",G.value,ae.value,pe)}},W=($,G,ae,ve,pe,Q,Z,ie,ge)=>{const he=G.el=$?$.el:a(""),Ve=G.anchor=$?$.anchor:a("");let{patchFlag:ke,dynamicChildren:Be,slotScopeIds:je}=G;je&&(ie=ie?ie.concat(je):je),$==null?(n(he,ae,ve),n(Ve,ae,ve),I(G.children||[],ae,Ve,pe,Q,Z,ie,ge)):ke>0&&ke&64&&Be&&$.dynamicChildren&&$.dynamicChildren.length===Be.length?(V($.dynamicChildren,Be,ae,pe,Q,Z,ie),(G.key!=null||pe&&G===pe.subTree)&&nh($,G,!0)):me($,G,ae,Ve,pe,Q,Z,ie,ge)},D=($,G,ae,ve,pe,Q,Z,ie,ge)=>{G.slotScopeIds=ie,$==null?G.shapeFlag&512?pe.ctx.activate(G,ae,ve,Z,ge):re(G,ae,ve,pe,Q,Z,ge):De($,G,ge)},re=($,G,ae,ve,pe,Q,Z)=>{const ie=$.component=qm($,ve,pe);if(tl($)&&(ie.ctx.renderer=yn),zm(ie,!1,Z),ie.asyncDep){if(pe&&pe.registerDep(ie,be,Z),!$.el){const ge=ie.subTree=tt(zt);w(null,ge,G,ae),$.placeholder=ge.el}}else be(ie,$,G,ae,pe,Q,Z)},De=($,G,ae)=>{const ve=G.component=$.component;if(fA($,G,ae))if(ve.asyncDep&&!ve.asyncResolved){Pe(ve,G,ae);return}else ve.next=G,ve.update();else G.el=$.el,ve.vnode=G},be=($,G,ae,ve,pe,Q,Z)=>{const ie=()=>{if($.isMounted){let{next:ke,bu:Be,u:je,parent:Ye,vnode:xt}=$;{const cr=Fm($);if(cr){ke&&(ke.el=xt.el,Pe($,ke,Z)),cr.asyncDep.then(()=>{$.isUnmounted||ie()});return}}let lt=ke,ur;yo($,!1),ke?(ke.el=xt.el,Pe($,ke,Z)):ke=xt,Be&&Ca(Be),(ur=ke.props&&ke.props.onVnodeBeforeUpdate)&&Jr(ur,Ye,ke,xt),yo($,!0);const Wt=uu($),tr=$.subTree;$.subTree=Wt,b(tr,Wt,d(tr.el),Gn(tr),$,pe,Q),ke.el=Wt.el,lt===null&&Sc($,Wt.el),je&&Yt(je,pe),(ur=ke.props&&ke.props.onVnodeUpdated)&&Yt(()=>Jr(ur,Ye,ke,xt),pe)}else{let ke;const{el:Be,props:je}=G,{bm:Ye,m:xt,parent:lt,root:ur,type:Wt}=$,tr=xi(G);if(yo($,!1),Ye&&Ca(Ye),!tr&&(ke=je&&je.onVnodeBeforeMount)&&Jr(ke,lt,G),yo($,!0),Be&&at){const cr=()=>{$.subTree=uu($),at(Be,$.subTree,$,pe,null)};tr&&Wt.__asyncHydrate?Wt.__asyncHydrate(Be,$,cr):cr()}else{ur.ce&&ur.ce._def.shadowRoot!==!1&&ur.ce._injectChildStyle(Wt);const cr=$.subTree=uu($);b(null,cr,ae,ve,$,pe,Q),G.el=cr.el}if(xt&&Yt(xt,pe),!tr&&(ke=je&&je.onVnodeMounted)){const cr=G;Yt(()=>Jr(ke,lt,cr),pe)}(G.shapeFlag&256||lt&&xi(lt.vnode)&&lt.vnode.shapeFlag&256)&&$.a&&Yt($.a,pe),$.isMounted=!0,G=ae=ve=null}};$.scope.on();const ge=$.effect=new Da(ie);$.scope.off();const he=$.update=ge.run.bind(ge),Ve=$.job=ge.runIfDirty.bind(ge);Ve.i=$,Ve.id=$.uid,ge.scheduler=()=>K0(Ve),yo($,!0),he()},Pe=($,G,ae)=>{G.component=$;const ve=$.vnode.props;$.vnode=G,$.next=null,hA($,G.props,ve,ae),yA($,G.children,ae),Ai(),q1($),Ci()},me=($,G,ae,ve,pe,Q,Z,ie,ge=!1)=>{const he=$&&$.children,Ve=$?$.shapeFlag:0,ke=G.children,{patchFlag:Be,shapeFlag:je}=G;if(Be>0){if(Be&128){Mt(he,ke,ae,ve,pe,Q,Z,ie,ge);return}else if(Be&256){ze(he,ke,ae,ve,pe,Q,Z,ie,ge);return}}je&8?(Ve&16&&Xr(he,pe,Q),ke!==he&&f(ae,ke)):Ve&16?je&16?Mt(he,ke,ae,ve,pe,Q,Z,ie,ge):Xr(he,pe,Q,!0):(Ve&8&&f(ae,""),je&16&&I(ke,ae,ve,pe,Q,Z,ie,ge))},ze=($,G,ae,ve,pe,Q,Z,ie,ge)=>{$=$||ps,G=G||ps;const he=$.length,Ve=G.length,ke=Math.min(he,Ve);let Be;for(Be=0;Be<ke;Be++){const je=G[Be]=ge?Hi(G[Be]):Qr(G[Be]);b($[Be],je,ae,null,pe,Q,Z,ie,ge)}he>Ve?Xr($,pe,Q,!0,!1,ke):I(G,ae,ve,pe,Q,Z,ie,ge,ke)},Mt=($,G,ae,ve,pe,Q,Z,ie,ge)=>{let he=0;const Ve=G.length;let ke=$.length-1,Be=Ve-1;for(;he<=ke&&he<=Be;){const je=$[he],Ye=G[he]=ge?Hi(G[he]):Qr(G[he]);if(Bn(je,Ye))b(je,Ye,ae,null,pe,Q,Z,ie,ge);else break;he++}for(;he<=ke&&he<=Be;){const je=$[ke],Ye=G[Be]=ge?Hi(G[Be]):Qr(G[Be]);if(Bn(je,Ye))b(je,Ye,ae,null,pe,Q,Z,ie,ge);else break;ke--,Be--}if(he>ke){if(he<=Be){const je=Be+1,Ye=je<Ve?G[je].el:ve;for(;he<=Be;)b(null,G[he]=ge?Hi(G[he]):Qr(G[he]),ae,Ye,pe,Q,Z,ie,ge),he++}}else if(he>Be)for(;he<=ke;)$t($[he],pe,Q,!0),he++;else{const je=he,Ye=he,xt=new Map;for(he=Ye;he<=Be;he++){const Ne=G[he]=ge?Hi(G[he]):Qr(G[he]);Ne.key!=null&&xt.set(Ne.key,he)}let lt,ur=0;const Wt=Be-Ye+1;let tr=!1,cr=0;const ai=new Array(Wt);for(he=0;he<Wt;he++)ai[he]=0;for(he=je;he<=ke;he++){const Ne=$[he];if(ur>=Wt){$t(Ne,pe,Q,!0);continue}let Sr;if(Ne.key!=null)Sr=xt.get(Ne.key);else for(lt=Ye;lt<=Be;lt++)if(ai[lt-Ye]===0&&Bn(Ne,G[lt])){Sr=lt;break}Sr===void 0?$t(Ne,pe,Q,!0):(ai[Sr-Ye]=he+1,Sr>=cr?cr=Sr:tr=!0,b(Ne,G[Sr],ae,null,pe,Q,Z,ie,ge),ur++)}const Pn=tr?mA(ai):ps;for(lt=Pn.length-1,he=Wt-1;he>=0;he--){const Ne=Ye+he,Sr=G[Ne],Xn=G[Ne+1],uo=Ne+1<Ve?Xn.el||Lm(Xn):ve;ai[he]===0?b(null,Sr,ae,uo,pe,Q,Z,ie,ge):tr&&(lt<0||he!==Pn[lt]?Et(Sr,ae,uo,2):lt--)}}},Et=($,G,ae,ve,pe=null)=>{const{el:Q,type:Z,transition:ie,children:ge,shapeFlag:he}=$;if(he&6){Et($.component.subTree,G,ae,ve);return}if(he&128){$.suspense.move(G,ae,ve);return}if(he&64){Z.move($,G,ae,yn);return}if(Z===Re){n(Q,G,ae);for(let ke=0;ke<ge.length;ke++)Et(ge[ke],G,ae,ve);n($.anchor,G,ae);return}if(Z===Bo){_($,G,ae);return}if(ve!==2&&he&1&&ie)if(ve===0)ie.beforeEnter(Q),n(Q,G,ae),Yt(()=>ie.enter(Q),pe);else{const{leave:ke,delayLeave:Be,afterLeave:je}=ie,Ye=()=>{$.ctx.isUnmounted?i(Q):n(Q,G,ae)},xt=()=>{Q._isLeaving&&Q[pi](!0),ke(Q,()=>{Ye(),je&&je()})};Be?Be(Q,Ye,xt):xt()}else n(Q,G,ae)},$t=($,G,ae,ve=!1,pe=!1)=>{const{type:Q,props:Z,ref:ie,children:ge,dynamicChildren:he,shapeFlag:Ve,patchFlag:ke,dirs:Be,cacheIndex:je}=$;if(ke===-2&&(pe=!1),ie!=null&&(Ai(),ms(ie,null,ae,$,!0),Ci()),je!=null&&(G.renderCache[je]=void 0),Ve&256){G.ctx.deactivate($);return}const Ye=Ve&1&&Be,xt=!xi($);let lt;if(xt&&(lt=Z&&Z.onVnodeBeforeUnmount)&&Jr(lt,G,$),Ve&6)vn($.component,ae,ve);else{if(Ve&128){$.suspense.unmount(ae,ve);return}Ye&&ri($,null,G,"beforeUnmount"),Ve&64?$.type.remove($,G,ae,yn,ve):he&&!he.hasOnce&&(Q!==Re||ke>0&&ke&64)?Xr(he,G,ae,!1,!0):(Q===Re&&ke&384||!pe&&Ve&16)&&Xr(ge,G,ae),ve&&$r($)}(xt&&(lt=Z&&Z.onVnodeUnmounted)||Ye)&&Yt(()=>{lt&&Jr(lt,G,$),Ye&&ri($,null,G,"unmounted")},ae)},$r=$=>{const{type:G,el:ae,anchor:ve,transition:pe}=$;if(G===Re){Nn(ae,ve);return}if(G===Bo){E($);return}const Q=()=>{i(ae),pe&&!pe.persisted&&pe.afterLeave&&pe.afterLeave()};if($.shapeFlag&1&&pe&&!pe.persisted){const{leave:Z,delayLeave:ie}=pe,ge=()=>Z(ae,Q);ie?ie($.el,Q,ge):ge()}else Q()},Nn=($,G)=>{let ae;for(;$!==G;)ae=p($),i($),$=ae;i(G)},vn=($,G,ae)=>{const{bum:ve,scope:pe,job:Q,subTree:Z,um:ie,m:ge,a:he}=$;Mu(ge),Mu(he),ve&&Ca(ve),pe.stop(),Q&&(Q.flags|=8,$t(Z,$,G,ae)),ie&&Yt(ie,G),Yt(()=>{$.isUnmounted=!0},G)},Xr=($,G,ae,ve=!1,pe=!1,Q=0)=>{for(let Z=Q;Z<$.length;Z++)$t($[Z],G,ae,ve,pe)},Gn=$=>{if($.shapeFlag&6)return Gn($.component.subTree);if($.shapeFlag&128)return $.suspense.next();const G=p($.anchor||$.el),ae=G&&G[rm];return ae?p(ae):G};let zn=!1;const Le=($,G,ae)=>{let ve;$==null?G._vnode&&($t(G._vnode,null,null,!0),ve=G._vnode.component):b(G._vnode||null,$,G,null,null,null,ae),G._vnode=$,zn||(zn=!0,q1(ve),Ru(),zn=!1)},yn={p:b,um:$t,m:Et,r:$r,mt:re,mc:I,pc:me,pbc:V,n:Gn,o:t};let Rn,at;return e&&([Rn,at]=e(yn)),{render:Le,hydrate:Rn,createApp:iA(Le,Rn)}}function Df({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function yo({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Bm(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function nh(t,e,r=!1){const n=t.children,i=e.children;if(qe(n)&&qe(i))for(let o=0;o<n.length;o++){const s=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Hi(i[o]),a.el=s.el),!r&&a.patchFlag!==-2&&nh(s,a)),a.type===zi&&(a.patchFlag!==-1?a.el=s.el:a.__elIndex=o+(t.type===Re?1:0)),a.type===zt&&!a.el&&(a.el=s.el)}}function mA(t){const e=t.slice(),r=[0];let n,i,o,s,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=r[r.length-1],t[i]<u){e[n]=i,r.push(n);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,t[r[a]]<u?o=a+1:s=a;u<t[r[o]]&&(o>0&&(e[n]=r[o-1]),r[o]=n)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=e[s];return r}function Fm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Fm(e)}function Mu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function Lm(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?Lm(e.subTree):null}const Bu=t=>t.__isSuspense;let Nd=0;const xA={name:"Suspense",__isSuspense:!0,process(t,e,r,n,i,o,s,a,l,u){if(t==null)_A(e,r,n,i,o,s,a,l,u);else{if(o&&o.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}wA(t,e,r,n,i,s,a,l,u)}},hydrate:AA,normalize:CA},bA=xA;function Va(t,e){const r=t.props&&t.props[e];Ge(r)&&r()}function _A(t,e,r,n,i,o,s,a,l){const{p:u,o:{createElement:f}}=l,d=f("div"),p=t.suspense=$m(t,i,n,e,d,r,o,s,a,l);u(null,p.pendingBranch=t.ssContent,d,null,n,p,o,s),p.deps>0?(Va(t,"onPending"),Va(t,"onFallback"),u(null,t.ssFallback,e,r,n,null,o,s),xs(p,t.ssFallback)):p.resolve(!1,!0)}function wA(t,e,r,n,i,o,s,a,{p:l,um:u,o:{createElement:f}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const p=e.ssContent,v=e.ssFallback,{activeBranch:y,pendingBranch:b,isInFallback:x,isHydrating:w}=d;if(b)d.pendingBranch=p,Bn(b,p)?(l(b,p,d.hiddenContainer,null,i,d,o,s,a),d.deps<=0?d.resolve():x&&(w||(l(y,v,r,n,i,null,o,s,a),xs(d,v)))):(d.pendingId=Nd++,w?(d.isHydrating=!1,d.activeBranch=b):u(b,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=f("div"),x?(l(null,p,d.hiddenContainer,null,i,d,o,s,a),d.deps<=0?d.resolve():(l(y,v,r,n,i,null,o,s,a),xs(d,v))):y&&Bn(y,p)?(l(y,p,r,n,i,d,o,s,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,i,d,o,s,a),d.deps<=0&&d.resolve()));else if(y&&Bn(y,p))l(y,p,r,n,i,d,o,s,a),xs(d,p);else if(Va(e,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Nd++,l(null,p,d.hiddenContainer,null,i,d,o,s,a),d.deps<=0)d.resolve();else{const{timeout:C,pendingId:_}=d;C>0?setTimeout(()=>{d.pendingId===_&&d.fallback(v)},C):C===0&&d.fallback(v)}}function $m(t,e,r,n,i,o,s,a,l,u,f=!1){const{p:d,m:p,um:v,n:y,o:{parentNode:b,remove:x}}=u;let w;const C=EA(t);C&&e&&e.pendingBranch&&(w=e.pendingId,e.deps++);const _=t.props?o3(t.props.timeout):void 0,E=o,N={vnode:t,parent:e,parentComponent:r,namespace:s,container:n,hiddenContainer:i,deps:0,pendingId:Nd++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(M=!1,T=!1){const{vnode:I,activeBranch:k,pendingBranch:V,pendingId:ue,effects:W,parentComponent:D,container:re,isInFallback:De}=N;let be=!1;N.isHydrating?N.isHydrating=!1:M||(be=k&&V.transition&&V.transition.mode==="out-in",be&&(k.transition.afterLeave=()=>{ue===N.pendingId&&(p(V,re,o===E?y(k):o,0),Fa(W),De&&I.ssFallback&&(I.ssFallback.el=null))}),k&&(b(k.el)===re&&(o=y(k)),v(k,D,N,!0),!be&&De&&I.ssFallback&&Yt(()=>I.ssFallback.el=null,N)),be||p(V,re,o,0)),xs(N,V),N.pendingBranch=null,N.isInFallback=!1;let Pe=N.parent,me=!1;for(;Pe;){if(Pe.pendingBranch){Pe.effects.push(...W),me=!0;break}Pe=Pe.parent}!me&&!be&&Fa(W),N.effects=[],C&&e&&e.pendingBranch&&w===e.pendingId&&(e.deps--,e.deps===0&&!T&&e.resolve()),Va(I,"onResolve")},fallback(M){if(!N.pendingBranch)return;const{vnode:T,activeBranch:I,parentComponent:k,container:V,namespace:ue}=N;Va(T,"onFallback");const W=y(I),D=()=>{N.isInFallback&&(d(null,M,V,W,k,null,ue,a,l),xs(N,M))},re=M.transition&&M.transition.mode==="out-in";re&&(I.transition.afterLeave=D),N.isInFallback=!0,v(I,k,null,!0),re||D()},move(M,T,I){N.activeBranch&&p(N.activeBranch,M,T,I),N.container=M},next(){return N.activeBranch&&y(N.activeBranch)},registerDep(M,T,I){const k=!!N.pendingBranch;k&&N.deps++;const V=M.vnode.el;M.asyncDep.catch(ue=>{Xo(ue,M,0)}).then(ue=>{if(M.isUnmounted||N.isUnmounted||N.pendingId!==M.suspenseId)return;M.asyncResolved=!0;const{vnode:W}=M;Dd(M,ue,!1),V&&(W.el=V);const D=!V&&M.subTree.el;T(M,W,b(V||M.subTree.el),V?null:y(M.subTree),N,s,I),D&&(W.placeholder=null,x(D)),Sc(M,W.el),k&&--N.deps===0&&N.resolve()})},unmount(M,T){N.isUnmounted=!0,N.activeBranch&&v(N.activeBranch,r,M,T),N.pendingBranch&&v(N.pendingBranch,r,M,T)}};return N}function AA(t,e,r,n,i,o,s,a,l){const u=e.suspense=$m(e,n,r,t.parentNode,document.createElement("div"),null,i,o,s,a,!0),f=l(t,u.pendingBranch=e.ssContent,r,u,o,s);return u.deps===0&&u.resolve(!1,!0),f}function CA(t){const{shapeFlag:e,children:r}=t,n=e&32;t.ssContent=sp(n?r.default:r),t.ssFallback=n?sp(r.fallback):tt(zt)}function sp(t){let e;if(Ge(t)){const r=Ho&&t._c;r&&(t._d=!1,B()),t=t(),r&&(t._d=!0,e=Br,Vm())}return qe(t)&&(t=lA(t)),t=Qr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function Um(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):Fa(t)}function xs(t,e){t.activeBranch=e;const{vnode:r,parentComponent:n}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;r.el=i,n&&n.subTree===r&&(n.vnode.el=i,Sc(n,i))}function EA(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Re=Symbol.for("v-fgt"),zi=Symbol.for("v-txt"),zt=Symbol.for("v-cmt"),Bo=Symbol.for("v-stc"),ka=[];let Br=null;function B(t=!1){ka.push(Br=t?null:[])}function Vm(){ka.pop(),Br=ka[ka.length-1]||null}let Ho=1;function ja(t,e=!1){Ho+=t,t<0&&Br&&e&&(Br.hasOnce=!0)}function jm(t){return t.dynamicChildren=Ho>0?Br||ps:null,Vm(),Ho>0&&Br&&Br.push(t),t}function F(t,e,r,n,i,o){return jm(c(t,e,r,n,i,o,!0))}function Ss(t,e,r,n,i){return jm(tt(t,e,r,n,i,!0))}function Si(t){return t?t.__v_isVNode===!0:!1}function Bn(t,e){return t.type===e.type&&t.key===e.key}function SA(t){}const Hm=({key:t})=>t??null,cu=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Xt(t)||Jt(t)||Ge(t)?{i:wr,r:t,k:e,f:!!r}:t:null);function c(t,e=null,r=null,n=0,i=null,o=t===Re?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Hm(e),ref:e&&cu(e),scopeId:bc,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:wr};return a?(ih(l,r),o&128&&t.normalize(l)):r&&(l.shapeFlag|=Xt(r)?8:16),Ho>0&&!s&&Br&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Br.push(l),l}const tt=IA;function IA(t,e=null,r=null,n=0,i=null,o=!1){if((!t||t===xm)&&(t=zt),Si(t)){const a=oi(t,e,!0);return r&&ih(a,r),Ho>0&&!o&&Br&&(a.shapeFlag&6?Br[Br.indexOf(t)]=a:Br.push(a)),a.patchFlag=-2,a}if(PA(t)&&(t=t.__vccOpts),e){e=Wm(e);let{class:a,style:l}=e;a&&!Xt(a)&&(e.class=Ue(a)),Ot(l)&&(Qa(l)&&!qe(l)&&(l=Qt({},l)),e.style=Hs(l))}const s=Xt(t)?1:Bu(t)?128:nm(t)?64:Ot(t)?4:Ge(t)?2:0;return c(t,e,r,n,i,s,o,!0)}function Wm(t){return t?Qa(t)||Im(t)?Qt({},t):t:null}function oi(t,e,r=!1,n=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=t,u=e?Km(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Hm(u),ref:e&&e.ref?r&&o?qe(o)?o.concat(cu(e)):[o,cu(e)]:cu(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Re?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&oi(t.ssContent),ssFallback:t.ssFallback&&oi(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Ei(f,l.clone(f)),f}function $e(t=" ",e=0){return tt(zi,null,t,e)}function ro(t,e){const r=tt(Bo,null,t);return r.staticCount=e,r}function _e(t="",e=!1){return e?(B(),Ss(zt,null,t)):tt(zt,null,t)}function Qr(t){return t==null||typeof t=="boolean"?tt(zt):qe(t)?tt(Re,null,t.slice()):Si(t)?Hi(t):tt(zi,null,String(t))}function Hi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:oi(t)}function ih(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(qe(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),ih(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!Im(e)?e._ctx=wr:i===3&&wr&&(wr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ge(e)?(e={default:e,_ctx:wr},r=32):(e=String(e),n&64?(r=16,e=[$e(e)]):r=8);t.children=e,t.shapeFlag|=r}function Km(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Ue([e.class,n.class]));else if(i==="style")e.style=Hs([e.style,n.style]);else if(fc(i)){const o=e[i],s=n[i];s&&o!==s&&!(qe(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=n[i])}return e}function Jr(t,e,r,n=null){On(t,e,7,[r,n])}const TA=wm();let OA=0;function qm(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||TA,o={uid:OA++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new U0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Om(n,i),emitsOptions:Cm(n,i),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:n.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=sA.bind(null,o),t.ce&&t.ce(o),o}let _r=null;const an=()=>_r||wr;let Fu,Rd;{const t=gc(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Fu=e("__VUE_INSTANCE_SETTERS__",r=>_r=r),Rd=e("__VUE_SSR_SETTERS__",r=>Is=r)}const Wo=t=>{const e=_r;return Fu(t),t.scope.on(),()=>{t.scope.off(),Fu(e)}},Pd=()=>{_r&&_r.scope.off(),Fu(null)};function Gm(t){return t.vnode.shapeFlag&4}let Is=!1;function zm(t,e=!1,r=!1){e&&Rd(e);const{props:n,children:i}=t.vnode,o=Gm(t);dA(t,n,o,e),vA(t,i,r||e);const s=o?kA(t,e):void 0;return e&&Rd(!1),s}function kA(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Id);const{setup:n}=r;if(n){Ai();const i=t.setupContext=n.length>1?Zm(t):null,o=Wo(t),s=Ws(n,t,0,[t.props,i]),a=$0(s);if(Ci(),o(),(a||t.sp)&&!xi(t)&&X0(t),a){if(s.then(Pd,Pd),e)return s.then(l=>{Dd(t,l,e)}).catch(l=>{Xo(l,t,0)});t.asyncDep=s}else Dd(t,s,e)}else Ym(t,e)}function Dd(t,e,r){Ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ot(e)&&(t.setupState=W0(e)),Ym(t,r)}let Lu,Md;function Xm(t){Lu=t,Md=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,L4))}}const NA=()=>!Lu;function Ym(t,e,r){const n=t.type;if(!t.render){if(!e&&Lu&&!n.render){const i=n.template||eh(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,u=Qt(Qt({isCustomElement:o,delimiters:a},s),l);n.render=Lu(i,u)}}t.render=n.render||$n,Md&&Md(t)}{const i=Wo(t);Ai();try{J4(t)}finally{Ci(),i()}}}const RA={get(t,e){return Dr(t,"get",""),t[e]}};function Zm(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,RA),slots:t.slots,emit:t.emit,expose:e}}function rl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(W0(Uy(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Oa)return Oa[r](t)},has(e,r){return r in e||r in Oa}})):t.proxy}function Bd(t,e=!0){return Ge(t)?t.displayName||t.name:t.name||e&&t.__name}function PA(t){return Ge(t)&&"__vccOpts"in t}const Gr=(t,e)=>G3(t,e,Is);function Jm(t,e,r){try{ja(-1);const n=arguments.length;return n===2?Ot(e)&&!qe(e)?Si(e)?tt(t,null,[e]):tt(t,e):tt(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Si(r)&&(r=[r]),tt(t,e,r))}finally{ja(1)}}function DA(){}function MA(t,e,r,n){const i=r[n];if(i&&Qm(i,t))return i;const o=e();return o.memo=t.slice(),o.cacheIndex=n,r[n]=o}function Qm(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(Kr(r[n],e[n]))return!1;return Ho>0&&Br&&Br.push(t),!0}const ex="3.5.26",BA=$n,FA=r4,LA=cs,$A=Yy,UA={createComponentInstance:qm,setupComponent:zm,renderComponentRoot:uu,setCurrentRenderingInstance:$a,isVNode:Si,normalizeVNode:Qr,getComponentPublicInstance:rl,ensureValidVNode:Q0,pushWarningContext:J3,popWarningContext:Q3},VA=UA,jA=null,HA=null,WA=null;function KA(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Mf={},qA=()=>{},GA=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),zA=t=>t.startsWith("onUpdate:"),Xi=Object.assign,XA=Object.prototype.hasOwnProperty,YA=(t,e)=>XA.call(t,e),pn=Array.isArray,nl=t=>oh(t)==="[object Set]",ap=t=>oh(t)==="[object Date]",tx=t=>typeof t=="function",Ts=t=>typeof t=="string",Fd=t=>typeof t=="symbol",Ld=t=>t!==null&&typeof t=="object",ZA=Object.prototype.toString,oh=t=>ZA.call(t),rx=t=>oh(t)==="[object Object]",sh=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},JA=/-\w/g,fu=sh(t=>t.replace(JA,e=>e.slice(1).toUpperCase())),QA=/\B([A-Z])/g,qi=sh(t=>t.replace(QA,"-$1").toLowerCase()),eC=sh(t=>t.charAt(0).toUpperCase()+t.slice(1)),tC=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},ah=t=>{const e=parseFloat(t);return isNaN(e)?t:e},$d=t=>{const e=Ts(t)?Number(t):NaN;return isNaN(e)?t:e},rC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nC=KA(rC);function nx(t){return!!t||t===""}function iC(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=no(t[n],e[n]);return r}function no(t,e){if(t===e)return!0;let r=ap(t),n=ap(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=Fd(t),n=Fd(e),r||n)return t===e;if(r=pn(t),n=pn(e),r||n)return r&&n?iC(t,e):!1;if(r=Ld(t),n=Ld(e),r||n){if(!r||!n)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!no(t[s],e[s]))return!1}}return String(t)===String(e)}function Ic(t,e){return t.findIndex(r=>no(r,e))}function oC(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}let Ud;const lp=typeof window<"u"&&window.trustedTypes;if(lp)try{Ud=lp.createPolicy("vue",{createHTML:t=>t})}catch{}const ix=Ud?t=>Ud.createHTML(t):t=>t,sC="http://www.w3.org/2000/svg",aC="http://www.w3.org/1998/Math/MathML",hi=typeof document<"u"?document:null,up=hi&&hi.createElement("template"),ox={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?hi.createElementNS(sC,t):e==="mathml"?hi.createElementNS(aC,t):r?hi.createElement(t,{is:r}):hi.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>hi.createTextNode(t),createComment:t=>hi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>hi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,o){const s=r?r.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{up.innerHTML=ix(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=up.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Mi="transition",aa="animation",Os=Symbol("_vtc"),sx={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ax=Xi({},G0,sx),lC=t=>(t.displayName="Transition",t.props=ax,t),Ko=lC((t,{slots:e})=>Jm(um,lx(t),e)),mo=(t,e=[])=>{pn(t)?t.forEach(r=>r(...e)):t&&t(...e)},cp=t=>t?pn(t)?t.some(e=>e.length>1):t.length>1:!1;function lx(t){const e={};for(const W in t)W in sx||(e[W]=t[W]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:o=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:f=a,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:v=`${r}-leave-to`}=t,y=uC(i),b=y&&y[0],x=y&&y[1],{onBeforeEnter:w,onEnter:C,onEnterCancelled:_,onLeave:E,onLeaveCancelled:N,onBeforeAppear:M=w,onAppear:T=C,onAppearCancelled:I=_}=e,k=(W,D,re,De)=>{W._enterCancelled=De,$i(W,D?f:a),$i(W,D?u:s),re&&re()},V=(W,D)=>{W._isLeaving=!1,$i(W,d),$i(W,v),$i(W,p),D&&D()},ue=W=>(D,re)=>{const De=W?T:C,be=()=>k(D,W,re);mo(De,[D,be]),fp(()=>{$i(D,W?l:o),Qn(D,W?f:a),cp(De)||dp(D,n,b,be)})};return Xi(e,{onBeforeEnter(W){mo(w,[W]),Qn(W,o),Qn(W,s)},onBeforeAppear(W){mo(M,[W]),Qn(W,l),Qn(W,u)},onEnter:ue(!1),onAppear:ue(!0),onLeave(W,D){W._isLeaving=!0;const re=()=>V(W,D);Qn(W,d),W._enterCancelled?(Qn(W,p),Vd(W)):(Vd(W),Qn(W,p)),fp(()=>{W._isLeaving&&($i(W,d),Qn(W,v),cp(E)||dp(W,n,x,re))}),mo(E,[W,re])},onEnterCancelled(W){k(W,!1,void 0,!0),mo(_,[W])},onAppearCancelled(W){k(W,!0,void 0,!0),mo(I,[W])},onLeaveCancelled(W){V(W),mo(N,[W])}})}function uC(t){if(t==null)return null;if(Ld(t))return[Bf(t.enter),Bf(t.leave)];{const e=Bf(t);return[e,e]}}function Bf(t){return $d(t)}function Qn(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Os]||(t[Os]=new Set)).add(e)}function $i(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Os];r&&(r.delete(e),r.size||(t[Os]=void 0))}function fp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let cC=0;function dp(t,e,r,n){const i=t._endId=++cC,o=()=>{i===t._endId&&n()};if(r!=null)return setTimeout(o,r);const{type:s,timeout:a,propCount:l}=ux(t,e);if(!s)return n();const u=s+"end";let f=0;const d=()=>{t.removeEventListener(u,p),o()},p=v=>{v.target===t&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},a+1),t.addEventListener(u,p)}function ux(t,e){const r=window.getComputedStyle(t),n=y=>(r[y]||"").split(", "),i=n(`${Mi}Delay`),o=n(`${Mi}Duration`),s=hp(i,o),a=n(`${aa}Delay`),l=n(`${aa}Duration`),u=hp(a,l);let f=null,d=0,p=0;e===Mi?s>0&&(f=Mi,d=s,p=o.length):e===aa?u>0&&(f=aa,d=u,p=l.length):(d=Math.max(s,u),f=d>0?s>u?Mi:aa:null,p=f?f===Mi?o.length:l.length:0);const v=f===Mi&&/\b(?:transform|all)(?:,|$)/.test(n(`${Mi}Property`).toString());return{type:f,timeout:d,propCount:p,hasTransform:v}}function hp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>pp(r)+pp(t[n])))}function pp(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Vd(t){return(t?t.ownerDocument:document).body.offsetHeight}function fC(t,e,r){const n=t[Os];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const $u=Symbol("_vod"),cx=Symbol("_vsh"),Rt={name:"show",beforeMount(t,{value:e},{transition:r}){t[$u]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):la(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),la(t,!0),n.enter(t)):n.leave(t,()=>{la(t,!1)}):la(t,e))},beforeUnmount(t,{value:e}){la(t,e)}};function la(t,e){t.style.display=e?t[$u]:"none",t[cx]=!e}function dC(){Rt.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const fx=Symbol("");function hC(t){const e=an();if(!e)return;const r=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>Uu(o,i))},n=()=>{const i=t(e.proxy);e.ce?Uu(e.ce,i):jd(e.subTree,i),r(i)};Y0(()=>{Fa(n)}),kn(()=>{Vn(n,qA,{flush:"post"});const i=new MutationObserver(n);i.observe(e.subTree.el.parentNode,{childList:!0}),ao(()=>i.disconnect())})}function jd(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{jd(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Uu(t.el,e);else if(t.type===Re)t.children.forEach(r=>jd(r,e));else if(t.type===Bo){let{el:r,anchor:n}=t;for(;r&&(Uu(r,e),r!==n);)r=r.nextSibling}}function Uu(t,e){if(t.nodeType===1){const r=t.style;let n="";for(const i in e){const o=oC(e[i]);r.setProperty(`--${i}`,o),n+=`--${i}: ${o};`}r[fx]=n}}const pC=/(?:^|;)\s*display\s*:/;function gC(t,e,r){const n=t.style,i=Ts(r);let o=!1;if(r&&!i){if(e)if(Ts(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();r[a]==null&&du(n,a,"")}else for(const s in e)r[s]==null&&du(n,s,"");for(const s in r)s==="display"&&(o=!0),du(n,s,r[s])}else if(i){if(e!==r){const s=n[fx];s&&(r+=";"+s),n.cssText=r,o=pC.test(r)}}else e&&t.removeAttribute("style");$u in t&&(t[$u]=o?n.display:"",t[cx]&&(n.display="none"))}const gp=/\s*!important$/;function du(t,e,r){if(pn(r))r.forEach(n=>du(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=vC(t,e);gp.test(r)?t.setProperty(qi(n),r.replace(gp,""),"important"):t[n]=r}}const vp=["Webkit","Moz","ms"],Ff={};function vC(t,e){const r=Ff[e];if(r)return r;let n=hn(e);if(n!=="filter"&&n in t)return Ff[e]=n;n=eC(n);for(let i=0;i<vp.length;i++){const o=vp[i]+n;if(o in t)return Ff[e]=o}return e}const yp="http://www.w3.org/1999/xlink";function mp(t,e,r,n,i,o=nC(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(yp,e.slice(6,e.length)):t.setAttributeNS(yp,e,r):r==null||o&&!nx(r)?t.removeAttribute(e):t.setAttribute(e,o?"":Fd(r)?String(r):r)}function xp(t,e,r,n,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?ix(r):r);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let s=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=nx(r):r==null&&a==="string"?(r="",s=!0):a==="number"&&(r=0,s=!0)}try{t[e]=r}catch{}s&&t.removeAttribute(i||e)}function yi(t,e,r,n){t.addEventListener(e,r,n)}function yC(t,e,r,n){t.removeEventListener(e,r,n)}const bp=Symbol("_vei");function mC(t,e,r,n,i=null){const o=t[bp]||(t[bp]={}),s=o[e];if(n&&s)s.value=n;else{const[a,l]=xC(e);if(n){const u=o[e]=wC(n,i);yi(t,a,u,l)}else s&&(yC(t,a,s,l),o[e]=void 0)}}const _p=/(?:Once|Passive|Capture)$/;function xC(t){let e;if(_p.test(t)){e={};let n;for(;n=t.match(_p);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):qi(t.slice(2)),e]}let Lf=0;const bC=Promise.resolve(),_C=()=>Lf||(bC.then(()=>Lf=0),Lf=Date.now());function wC(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;On(AC(n,r.value),e,5,[n])};return r.value=t,r.attached=_C(),r}function AC(t,e){if(pn(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const wp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,dx=(t,e,r,n,i,o)=>{const s=i==="svg";e==="class"?fC(t,n,s):e==="style"?gC(t,r,n):GA(e)?zA(e)||mC(t,e,r,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):CC(t,e,n,s))?(xp(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&mp(t,e,n,s,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ts(n))?xp(t,fu(e),n,o,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),mp(t,e,n,s))};function CC(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&wp(e)&&tx(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return wp(e)&&Ts(r)?!1:e in t}const Ap={};function hx(t,e,r){let n=z0(t,e);rx(n)&&(n=Xi({},n,e));class i extends Tc{constructor(s){super(n,s,r)}}return i.def=n,i}const EC=((t,e)=>hx(t,e,Cx)),SC=typeof HTMLElement<"u"?HTMLElement:class{};class Tc extends SC{constructor(e,r={},n=Hu){super(),this._def=e,this._props=r,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._patching=!1,this._dirty=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==Hu?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow(Xi({},e.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Tc){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,Cs(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(e){for(const r of e)this._setAttr(r.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const e=(n,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:o,styles:s}=n;let a;if(o&&!pn(o))for(const l in o){const u=o[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=$d(this._props[l])),(a||(a=Object.create(null)))[fu(l)]=!0)}this._numberProps=a,this._resolveProps(n),this.shadowRoot&&this._applyStyles(s),this._mount(n)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(n=>{n.configureApp=this._def.configureApp,e(this._def=n,!0)}):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const n in r)YA(this,n)||Object.defineProperty(this,n,{get:()=>En(r[n])})}_resolveProps(e){const{props:r}=e,n=pn(r)?r:Object.keys(r||{});for(const i of Object.keys(this))i[0]!=="_"&&n.includes(i)&&this._setProp(i,this[i]);for(const i of n.map(fu))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o,!0,!this._patching)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const r=this.hasAttribute(e);let n=r?this.getAttribute(e):Ap;const i=fu(e);r&&this._numberProps&&this._numberProps[i]&&(n=$d(n)),this._setProp(i,n,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,r,n=!0,i=!1){if(r!==this._props[e]&&(this._dirty=!0,r===Ap?delete this._props[e]:(this._props[e]=r,e==="key"&&this._app&&(this._app._ceVNode.key=r)),i&&this._instance&&this._update(),n)){const o=this._ob;o&&(this._processMutations(o.takeRecords()),o.disconnect()),r===!0?this.setAttribute(qi(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(qi(e),r+""):r||this.removeAttribute(qi(e)),o&&o.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),Ax(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const r=tt(this._def,Xi(e,this._props));return this._instance||(r.ce=n=>{this._instance=n,n.ce=this,n.isCE=!0;const i=(o,s)=>{this.dispatchEvent(new CustomEvent(o,rx(s[0])?Xi({detail:s},s[0]):{detail:s}))};n.emit=(o,...s)=>{i(o,s),qi(o)!==o&&i(qi(o),s)},this._setParent()}),r}_applyStyles(e,r){if(!e)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const n=this._nonce;for(let i=e.length-1;i>=0;i--){const o=document.createElement("style");n&&o.setAttribute("nonce",n),o.textContent=e[i],this.shadowRoot.prepend(o)}}_parseSlots(){const e=this._slots={};let r;for(;r=this.firstChild;){const n=r.nodeType===1&&r.getAttribute("slot")||"default";(e[n]||(e[n]=[])).push(r),this.removeChild(r)}}_renderSlots(){const e=this._getSlots(),r=this._instance.type.__scopeId;for(let n=0;n<e.length;n++){const i=e[n],o=i.getAttribute("name")||"default",s=this._slots[o],a=i.parentNode;if(s)for(const l of s){if(r&&l.nodeType===1){const u=r+"-s",f=document.createTreeWalker(l,1);l.setAttribute(u,"");let d;for(;d=f.nextNode();)d.setAttribute(u,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_getSlots(){const e=[this];this._teleportTargets&&e.push(...this._teleportTargets);const r=new Set;for(const n of e){const i=n.querySelectorAll("slot");for(let o=0;o<i.length;o++)r.add(i[o])}return Array.from(r)}_injectChildStyle(e){this._applyStyles(e.styles,e)}_beginPatch(){this._patching=!0,this._dirty=!1}_endPatch(){this._patching=!1,this._dirty&&this._instance&&this._update()}_removeChildStyle(e){}}function px(t){const e=an(),r=e&&e.ce;return r||null}function IC(){const t=px();return t&&t.shadowRoot}function TC(t="$style"){{const e=an();if(!e)return Mf;const r=e.type.__cssModules;if(!r)return Mf;const n=r[t];return n||Mf}}const gx=new WeakMap,vx=new WeakMap,Vu=Symbol("_moveCb"),Cp=Symbol("_enterCb"),OC=t=>(delete t.props.mode,t),kC=OC({name:"TransitionGroup",props:Xi({},ax,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=an(),n=q0();let i,o;return Ac(()=>{if(!i.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!MC(i[0].el,r.vnode.el,s)){i=[];return}i.forEach(RC),i.forEach(PC);const a=i.filter(DC);Vd(r.vnode.el),a.forEach(l=>{const u=l.el,f=u.style;Qn(u,s),f.transform=f.webkitTransform=f.transitionDuration="";const d=u[Vu]=p=>{p&&p.target!==u||(!p||p.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",d),u[Vu]=null,$i(u,s))};u.addEventListener("transitionend",d)}),i=[]}),()=>{const s=ct(t),a=lx(s);let l=s.tag||Re;if(i=[],o)for(let u=0;u<o.length;u++){const f=o[u];f.el&&f.el instanceof Element&&(i.push(f),Ei(f,Es(f,a,n,r)),gx.set(f,{left:f.el.offsetLeft,top:f.el.offsetTop}))}o=e.default?_c(e.default()):[];for(let u=0;u<o.length;u++){const f=o[u];f.key!=null&&Ei(f,Es(f,a,n,r))}return tt(l,null,o)}}}),NC=kC;function RC(t){const e=t.el;e[Vu]&&e[Vu](),e[Cp]&&e[Cp]()}function PC(t){vx.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop})}function DC(t){const e=gx.get(t),r=vx.get(t),n=e.left-r.left,i=e.top-r.top;if(n||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${n}px,${i}px)`,o.transitionDuration="0s",t}}function MC(t,e,r){const n=t.cloneNode(),i=t[Os];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(n);const{hasTransform:s}=ux(n);return o.removeChild(n),s}const io=t=>{const e=t.props["onUpdate:modelValue"]||!1;return pn(e)?r=>tC(e,r):e};function BC(t){t.target.composing=!0}function Ep(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Sn=Symbol("_assign");function Sp(t,e,r){return e&&(t=t.trim()),r&&(t=ah(t)),t}const Ee={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t[Sn]=io(i);const o=n||i.props&&i.props.type==="number";yi(t,e?"change":"input",s=>{s.target.composing||t[Sn](Sp(t.value,r,o))}),(r||o)&&yi(t,"change",()=>{t.value=Sp(t.value,r,o)}),e||(yi(t,"compositionstart",BC),yi(t,"compositionend",Ep),yi(t,"change",Ep))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:i,number:o}},s){if(t[Sn]=io(s),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?ah(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||i&&t.value.trim()===l)||(t.value=l))}},tn={deep:!0,created(t,e,r){t[Sn]=io(r),yi(t,"change",()=>{const n=t._modelValue,i=ks(t),o=t.checked,s=t[Sn];if(pn(n)){const a=Ic(n,i),l=a!==-1;if(o&&!l)s(n.concat(i));else if(!o&&l){const u=[...n];u.splice(a,1),s(u)}}else if(nl(n)){const a=new Set(n);o?a.add(i):a.delete(i),s(a)}else s(yx(t,o))})},mounted:Ip,beforeUpdate(t,e,r){t[Sn]=io(r),Ip(t,e,r)}};function Ip(t,{value:e,oldValue:r},n){t._modelValue=e;let i;if(pn(e))i=Ic(e,n.props.value)>-1;else if(nl(e))i=e.has(n.props.value);else{if(e===r)return;i=no(e,yx(t,!0))}t.checked!==i&&(t.checked=i)}const lh={created(t,{value:e},r){t.checked=no(e,r.props.value),t[Sn]=io(r),yi(t,"change",()=>{t[Sn](ks(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t[Sn]=io(n),e!==r&&(t.checked=no(e,n.props.value))}},jt={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const i=nl(e);yi(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>r?ah(ks(s)):ks(s));t[Sn](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,Cs(()=>{t._assigning=!1})}),t[Sn]=io(n)},mounted(t,{value:e}){Tp(t,e)},beforeUpdate(t,e,r){t[Sn]=io(r)},updated(t,{value:e}){t._assigning||Tp(t,e)}};function Tp(t,e){const r=t.multiple,n=pn(e);if(!(r&&!n&&!nl(e))){for(let i=0,o=t.options.length;i<o;i++){const s=t.options[i],a=ks(s);if(r)if(n){const l=typeof a;l==="string"||l==="number"?s.selected=e.some(u=>String(u)===String(a)):s.selected=Ic(e,a)>-1}else s.selected=e.has(a);else if(no(ks(s),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ks(t){return"_value"in t?t._value:t.value}function yx(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const mx={created(t,e,r){Yl(t,e,r,null,"created")},mounted(t,e,r){Yl(t,e,r,null,"mounted")},beforeUpdate(t,e,r,n){Yl(t,e,r,n,"beforeUpdate")},updated(t,e,r,n){Yl(t,e,r,n,"updated")}};function xx(t,e){switch(t){case"SELECT":return jt;case"TEXTAREA":return Ee;default:switch(e){case"checkbox":return tn;case"radio":return lh;default:return Ee}}}function Yl(t,e,r,n,i){const s=xx(t.tagName,r.props&&r.props.type)[i];s&&s(t,e,r,n)}function FC(){Ee.getSSRProps=({value:t})=>({value:t}),lh.getSSRProps=({value:t},e)=>{if(e.props&&no(e.props.value,t))return{checked:!0}},tn.getSSRProps=({value:t},e)=>{if(pn(t)){if(e.props&&Ic(t,e.props.value)>-1)return{checked:!0}}else if(nl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},mx.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=xx(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const LC=["ctrl","shift","alt","meta"],$C={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>LC.some(r=>t[`${r}Key`]&&!e.includes(r))},In=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=((i,...o)=>{for(let s=0;s<e.length;s++){const a=$C[e[s]];if(a&&a(i,e))return}return t(i,...o)}))},UC={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ju=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=(i=>{if(!("key"in i))return;const o=qi(i.key);if(e.some(s=>s===o||UC[s]===o))return t(i)}))},bx=Xi({patchProp:dx},ox);let Na,Op=!1;function _x(){return Na||(Na=Pm(bx))}function wx(){return Na=Op?Na:Dm(bx),Op=!0,Na}const Ax=((...t)=>{_x().render(...t)}),VC=((...t)=>{wx().hydrate(...t)}),Hu=((...t)=>{const e=_x().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=Sx(n);if(!i)return;const o=e._component;!tx(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=r(i,!1,Ex(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e}),Cx=((...t)=>{const e=wx().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=Sx(n);if(i)return r(i,!0,Ex(i))},e});function Ex(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Sx(t){return Ts(t)?document.querySelector(t):t}let kp=!1;const jC=()=>{kp||(kp=!0,FC(),dC())},HC=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:um,BaseTransitionPropsValidators:G0,Comment:zt,DeprecationTypes:WA,EffectScope:U0,ErrorCodes:t4,ErrorTypeStrings:FA,Fragment:Re,KeepAlive:k4,ReactiveEffect:Da,Static:Bo,Suspense:bA,Teleport:om,Text:zi,TrackOpTypes:z3,Transition:Ko,TransitionGroup:NC,TriggerOpTypes:X3,VueElement:Tc,assertNumber:e4,callWithAsyncErrorHandling:On,callWithErrorHandling:Ws,camelize:hn,capitalize:pc,cloneVNode:oi,compatUtils:HA,computed:Gr,createApp:Hu,createBlock:Ss,createCommentVNode:_e,createElementBlock:F,createElementVNode:c,createHydrationRenderer:Dm,createPropsRestProxy:Y4,createRenderer:Pm,createSSRApp:Cx,createSlots:B4,createStaticVNode:ro,createTextVNode:$e,createVNode:tt,customRef:Hy,defineAsyncComponent:T4,defineComponent:z0,defineCustomElement:hx,defineEmits:U4,defineExpose:V4,defineModel:W4,defineOptions:j4,defineProps:$4,defineSSRCustomElement:EC,defineSlots:H4,devtools:LA,effect:v3,effectScope:h3,getCurrentInstance:an,getCurrentScope:Ay,getCurrentWatcher:Y3,getTransitionRawChildren:_c,guardReactiveProps:Wm,h:Jm,handleError:Xo,hasInjectionContext:l4,hydrate:VC,hydrateOnIdle:w4,hydrateOnInteraction:S4,hydrateOnMediaQuery:E4,hydrateOnVisible:C4,initCustomFormatter:DA,initDirectivesForSSR:jC,inject:Ia,isMemoSame:Qm,isProxy:Qa,isReactive:mi,isReadonly:ii,isRef:Jt,isRuntimeOnly:NA,isShallow:nn,isVNode:Si,markRaw:Uy,mergeDefaults:z4,mergeModels:X4,mergeProps:Km,nextTick:Cs,nodeOps:ox,normalizeClass:Ue,normalizeProps:d3,normalizeStyle:Hs,onActivated:fm,onBeforeMount:pm,onBeforeUnmount:Cc,onBeforeUpdate:Y0,onDeactivated:dm,onErrorCaptured:mm,onMounted:kn,onRenderTracked:ym,onRenderTriggered:vm,onScopeDispose:p3,onServerPrefetch:gm,onUnmounted:ao,onUpdated:Ac,onWatcherCleanup:Ky,openBlock:B,patchProp:dx,popScopeId:s4,provide:Zy,proxyRefs:W0,pushScopeId:o4,queuePostFlushCb:Fa,reactive:yr,readonly:Ou,ref:ye,registerRuntimeCompiler:Xm,render:Ax,renderList:Ke,renderSlot:bi,resolveComponent:P4,resolveDirective:M4,resolveDynamicComponent:D4,resolveFilter:jA,resolveTransitionHooks:Es,setBlockTracking:ja,setDevtoolsHook:$A,setTransitionHooks:Ei,shallowReactive:$y,shallowReadonly:B3,shallowRef:Vy,ssrContextKey:Jy,ssrUtils:VA,stop:y3,toDisplayString:j,toHandlerKey:Aa,toHandlers:F4,toRaw:ct,toRef:K3,toRefs:j3,toValue:$3,transformVNodeArgs:SA,triggerRef:L3,unref:En,useAttrs:G4,useCssModule:TC,useCssVars:hC,useHost:px,useId:p4,useModel:oA,useSSRContext:Qy,useShadowRoot:IC,useSlots:q4,useTemplateRef:g4,useTransitionState:q0,vModelCheckbox:tn,vModelDynamic:mx,vModelRadio:lh,vModelSelect:jt,vModelText:Ee,vShow:Rt,version:ex,warn:BA,watch:Vn,watchEffect:u4,watchPostEffect:c4,watchSyncEffect:em,withAsyncContext:Z4,withCtx:Cr,withDefaults:K4,withDirectives:le,withKeys:ju,withMemo:MA,withModifiers:In,withScopeId:a4},Symbol.toStringTag,{value:"Module"}));function Ix(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const WC={},$f=()=>{},Zl=()=>!1,Tx=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),bs=Object.assign,Gi=Array.isArray,Er=t=>typeof t=="string",uh=t=>typeof t=="symbol",KC=t=>t!==null&&typeof t=="object",Np=Ix(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qC=Ix("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),ch=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},GC=/-\w/g,Yi=ch(t=>t.replace(GC,e=>e.slice(1).toUpperCase())),Ox=ch(t=>t.charAt(0).toUpperCase()+t.slice(1)),zC=ch(t=>t?`on${Ox(t)}`:"");const Ha=Symbol(""),Ra=Symbol(""),fh=Symbol(""),Wu=Symbol(""),kx=Symbol(""),qo=Symbol(""),Nx=Symbol(""),Rx=Symbol(""),dh=Symbol(""),hh=Symbol(""),il=Symbol(""),ph=Symbol(""),Px=Symbol(""),gh=Symbol(""),vh=Symbol(""),yh=Symbol(""),mh=Symbol(""),xh=Symbol(""),bh=Symbol(""),Dx=Symbol(""),Mx=Symbol(""),Oc=Symbol(""),Ku=Symbol(""),_h=Symbol(""),wh=Symbol(""),Wa=Symbol(""),ol=Symbol(""),Ah=Symbol(""),Hd=Symbol(""),XC=Symbol(""),Wd=Symbol(""),qu=Symbol(""),YC=Symbol(""),ZC=Symbol(""),Ch=Symbol(""),JC=Symbol(""),QC=Symbol(""),Eh=Symbol(""),Bx=Symbol(""),Ns={[Ha]:"Fragment",[Ra]:"Teleport",[fh]:"Suspense",[Wu]:"KeepAlive",[kx]:"BaseTransition",[qo]:"openBlock",[Nx]:"createBlock",[Rx]:"createElementBlock",[dh]:"createVNode",[hh]:"createElementVNode",[il]:"createCommentVNode",[ph]:"createTextVNode",[Px]:"createStaticVNode",[gh]:"resolveComponent",[vh]:"resolveDynamicComponent",[yh]:"resolveDirective",[mh]:"resolveFilter",[xh]:"withDirectives",[bh]:"renderList",[Dx]:"renderSlot",[Mx]:"createSlots",[Oc]:"toDisplayString",[Ku]:"mergeProps",[_h]:"normalizeClass",[wh]:"normalizeStyle",[Wa]:"normalizeProps",[ol]:"guardReactiveProps",[Ah]:"toHandlers",[Hd]:"camelize",[XC]:"capitalize",[Wd]:"toHandlerKey",[qu]:"setBlockTracking",[YC]:"pushScopeId",[ZC]:"popScopeId",[Ch]:"withCtx",[JC]:"unref",[QC]:"isRef",[Eh]:"withMemo",[Bx]:"isMemoSame"};function eE(t){Object.getOwnPropertySymbols(t).forEach(e=>{Ns[e]=t[e]})}const gn={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function tE(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:gn}}function Ka(t,e,r,n,i,o,s,a=!1,l=!1,u=!1,f=gn){return t&&(a?(t.helper(qo),t.helper(Ds(t.inSSR,u))):t.helper(Ps(t.inSSR,u)),s&&t.helper(xh)),{type:13,tag:e,props:r,children:n,patchFlag:i,dynamicProps:o,directives:s,isBlock:a,disableTracking:l,isComponent:u,loc:f}}function Fo(t,e=gn){return{type:17,loc:e,elements:t}}function An(t,e=gn){return{type:15,loc:e,properties:t}}function Zt(t,e){return{type:16,loc:gn,key:Er(t)?Qe(t,!0):t,value:e}}function Qe(t,e=!1,r=gn,n=0){return{type:4,loc:r,content:t,isStatic:e,constType:e?3:n}}function jn(t,e=gn){return{type:8,loc:e,children:t}}function or(t,e=[],r=gn){return{type:14,loc:r,callee:t,arguments:e}}function Rs(t,e=void 0,r=!1,n=!1,i=gn){return{type:18,params:t,returns:e,newline:r,isSlot:n,loc:i}}function Kd(t,e,r,n=!0){return{type:19,test:t,consequent:e,alternate:r,newline:n,loc:gn}}function rE(t,e,r=!1,n=!1){return{type:20,index:t,value:e,needPauseTracking:r,inVOnce:n,needArraySpread:!1,loc:gn}}function nE(t){return{type:21,body:t,loc:gn}}function Ps(t,e){return t||e?dh:hh}function Ds(t,e){return t||e?Nx:Rx}function Sh(t,{helper:e,removeHelper:r,inSSR:n}){t.isBlock||(t.isBlock=!0,r(Ps(n,t.isComponent)),e(qo),e(Ds(n,t.isComponent)))}const Rp=new Uint8Array([123,123]),Pp=new Uint8Array([125,125]);function Dp(t){return t>=97&&t<=122||t>=65&&t<=90}function fn(t){return t===32||t===10||t===9||t===12||t===13}function Bi(t){return t===47||t===62||fn(t)}function Gu(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}const kr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class iE{constructor(e,r){this.stack=e,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=Rp,this.delimiterClose=Pp,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=Rp,this.delimiterClose=Pp}getPos(e){let r=1,n=e+1;const i=this.newlines.length;let o=-1;if(i>100){let s=-1,a=i;for(;s+1<a;){const l=s+a>>>1;this.newlines[l]<e?s=l:a=l}o=s}else for(let s=i-1;s>=0;s--)if(e>this.newlines[s]){o=s;break}return o>=0&&(r=o+2,n=e-this.newlines[o]),{column:n,line:r,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?Bi(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||fn(e)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const n=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=n}this.sectionStart=r+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===kr.TitleEnd||this.currentSequence===kr.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===kr.Cdata[this.sequenceIndex]?++this.sequenceIndex===kr.Cdata.length&&(this.state=28,this.currentSequence=kr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===kr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,r){this.enterRCDATA(e,r),this.state=31}enterRCDATA(e,r){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=r}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):Dp(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Bi(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Bi(e)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(Gu("</"+r),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){fn(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Dp(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||fn(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):fn(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):fn(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Bi(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Bi(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Bi(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Bi(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Bi(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):fn(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):fn(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,r){(e===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){fn(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=kr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===kr.ScriptEnd[3]?this.startSpecial(kr.ScriptEnd,4):e===kr.StyleEnd[3]?this.startSpecial(kr.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===kr.TitleEnd[3]?this.startSpecial(kr.TitleEnd,4):e===kr.TextareaEnd[3]?this.startSpecial(kr.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===kr.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,r){}}function Mp(t,{compatConfig:e}){const r=e&&e[t];return t==="MODE"?r||3:r}function Lo(t,e){const r=Mp("MODE",e),n=Mp(t,e);return r===3?n===!0:n!==!1}function qa(t,e,r,...n){return Lo(t,e)}function Ih(t){throw t}function Fx(t){}function Pt(t,e,r,n){const i=`https://vuejs.org/error-reference/#compiler-${t}`,o=new SyntaxError(String(i));return o.code=t,o.loc=e,o}const rn=t=>t.type===4&&t.isStatic;function Lx(t){switch(t){case"Teleport":case"teleport":return Ra;case"Suspense":case"suspense":return fh;case"KeepAlive":case"keep-alive":return Wu;case"BaseTransition":case"base-transition":return kx}}const oE=/^$|^\d|[^\$\w\xA0-\uFFFF]/,Th=t=>!oE.test(t),$x=/[A-Za-z_$\xA0-\uFFFF]/,sE=/[\.\?\w$\xA0-\uFFFF]/,aE=/\s+[.[]\s*|\s*[.[]\s+/g,Ux=t=>t.type===4?t.content:t.loc.source,lE=t=>{const e=Ux(t).trim().replace(aE,a=>a.trim());let r=0,n=[],i=0,o=0,s=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(r){case 0:if(l==="[")n.push(r),r=1,i++;else if(l==="(")n.push(r),r=2,o++;else if(!(a===0?$x:sE).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(n.push(r),r=3,s=l):l==="["?i++:l==="]"&&(--i||(r=n.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")n.push(r),r=3,s=l;else if(l==="(")o++;else if(l===")"){if(a===e.length-1)return!1;--o||(r=n.pop())}break;case 3:l===s&&(r=n.pop(),s=null);break}}return!i&&!o},Vx=lE,uE=/^\s*(?:async\s*)?(?:\([^)]*?\)|[\w$_]+)\s*(?::[^=]+)?=>|^\s*(?:async\s+)?function(?:\s+[\w$]+)?\s*\(/,cE=t=>uE.test(Ux(t)),fE=cE;function _n(t,e,r=!1){for(let n=0;n<t.props.length;n++){const i=t.props[n];if(i.type===7&&(r||i.exp)&&(Er(e)?i.name===e:e.test(i.name)))return i}}function kc(t,e,r=!1,n=!1){for(let i=0;i<t.props.length;i++){const o=t.props[i];if(o.type===6){if(r)continue;if(o.name===e&&(o.value||n))return o}else if(o.name==="bind"&&(o.exp||n)&&Eo(o.arg,e))return o}}function Eo(t,e){return!!(t&&rn(t)&&t.content===e)}function dE(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function Uf(t){return t.type===5||t.type===2}function Bp(t){return t.type===7&&t.name==="pre"}function hE(t){return t.type===7&&t.name==="slot"}function zu(t){return t.type===1&&t.tagType===3}function Xu(t){return t.type===1&&t.tagType===2}const pE=new Set([Wa,ol]);function jx(t,e=[]){if(t&&!Er(t)&&t.type===14){const r=t.callee;if(!Er(r)&&pE.has(r))return jx(t.arguments[0],e.concat(t))}return[t,e]}function Yu(t,e,r){let n,i=t.type===13?t.props:t.arguments[2],o=[],s;if(i&&!Er(i)&&i.type===14){const a=jx(i);i=a[0],o=a[1],s=o[o.length-1]}if(i==null||Er(i))n=An([e]);else if(i.type===14){const a=i.arguments[0];!Er(a)&&a.type===15?Fp(e,a)||a.properties.unshift(e):i.callee===Ah?n=or(r.helper(Ku),[An([e]),i]):i.arguments.unshift(An([e])),!n&&(n=i)}else i.type===15?(Fp(e,i)||i.properties.unshift(e),n=i):(n=or(r.helper(Ku),[An([e]),i]),s&&s.callee===ol&&(s=o[o.length-2]));t.type===13?s?s.arguments[0]=n:t.props=n:s?s.arguments[0]=n:t.arguments[2]=n}function Fp(t,e){let r=!1;if(t.key.type===4){const n=t.key.content;r=e.properties.some(i=>i.key.type===4&&i.key.content===n)}return r}function Ga(t,e){return`_${e}_${t.replace(/[^\w]/g,(r,n)=>r==="-"?"_":t.charCodeAt(n).toString())}`}function gE(t){return t.type===14&&t.callee===Eh?t.arguments[1].returns:t}const vE=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/;function Hx(t){for(let e=0;e<t.length;e++)if(!fn(t.charCodeAt(e)))return!1;return!0}function Oh(t){return t.type===2&&Hx(t.content)||t.type===12&&Oh(t.content)}function Wx(t){return t.type===3||Oh(t)}const Kx={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Zl,isPreTag:Zl,isIgnoreNewlineTag:Zl,isCustomElement:Zl,onError:Ih,onWarn:Fx,comments:!1,prefixIdentifiers:!1};let mt=Kx,za=null,_i="",Pr=null,ot=null,Zr="",di=-1,wo=-1,kh=0,Wi=!1,qd=null;const Ft=[],Vt=new iE(Ft,{onerr:fi,ontext(t,e){Jl(br(t,e),t,e)},ontextentity(t,e,r){Jl(t,e,r)},oninterpolation(t,e){if(Wi)return Jl(br(t,e),t,e);let r=t+Vt.delimiterOpen.length,n=e-Vt.delimiterClose.length;for(;fn(_i.charCodeAt(r));)r++;for(;fn(_i.charCodeAt(n-1));)n--;let i=br(r,n);i.includes("&")&&(i=mt.decodeEntities(i,!1)),Gd({type:5,content:pu(i,!1,Gt(r,n)),loc:Gt(t,e)})},onopentagname(t,e){const r=br(t,e);Pr={type:1,tag:r,ns:mt.getNamespace(r,Ft[0],mt.ns),tagType:0,props:[],children:[],loc:Gt(t-1,e),codegenNode:void 0}},onopentagend(t){$p(t)},onclosetag(t,e){const r=br(t,e);if(!mt.isVoidTag(r)){let n=!1;for(let i=0;i<Ft.length;i++)if(Ft[i].tag.toLowerCase()===r.toLowerCase()){n=!0,i>0&&fi(24,Ft[0].loc.start.offset);for(let s=0;s<=i;s++){const a=Ft.shift();hu(a,e,s<i)}break}n||fi(23,qx(t,60))}},onselfclosingtag(t){const e=Pr.tag;Pr.isSelfClosing=!0,$p(t),Ft[0]&&Ft[0].tag===e&&hu(Ft.shift(),t)},onattribname(t,e){ot={type:6,name:br(t,e),nameLoc:Gt(t,e),value:void 0,loc:Gt(t)}},ondirname(t,e){const r=br(t,e),n=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!Wi&&n===""&&fi(26,t),Wi||n==="")ot={type:6,name:r,nameLoc:Gt(t,e),value:void 0,loc:Gt(t)};else if(ot={type:7,name:n,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[Qe("prop")]:[],loc:Gt(t)},n==="pre"){Wi=Vt.inVPre=!0,qd=Pr;const i=Pr.props;for(let o=0;o<i.length;o++)i[o].type===7&&(i[o]=SE(i[o]))}},ondirarg(t,e){if(t===e)return;const r=br(t,e);if(Wi&&!Bp(ot))ot.name+=r,So(ot.nameLoc,e);else{const n=r[0]!=="[";ot.arg=pu(n?r:r.slice(1,-1),n,Gt(t,e),n?3:0)}},ondirmodifier(t,e){const r=br(t,e);if(Wi&&!Bp(ot))ot.name+="."+r,So(ot.nameLoc,e);else if(ot.name==="slot"){const n=ot.arg;n&&(n.content+="."+r,So(n.loc,e))}else{const n=Qe(r,!0,Gt(t,e));ot.modifiers.push(n)}},onattribdata(t,e){Zr+=br(t,e),di<0&&(di=t),wo=e},onattribentity(t,e,r){Zr+=t,di<0&&(di=e),wo=r},onattribnameend(t){const e=ot.loc.start.offset,r=br(e,t);ot.type===7&&(ot.rawName=r),Pr.props.some(n=>(n.type===7?n.rawName:n.name)===r)&&fi(2,e)},onattribend(t,e){if(Pr&&ot){if(So(ot.loc,e),t!==0)if(Zr.includes("&")&&(Zr=mt.decodeEntities(Zr,!0)),ot.type===6)ot.name==="class"&&(Zr=zx(Zr).trim()),t===1&&!Zr&&fi(13,e),ot.value={type:2,content:Zr,loc:t===1?Gt(di,wo):Gt(di-1,wo+1)},Vt.inSFCRoot&&Pr.tag==="template"&&ot.name==="lang"&&Zr&&Zr!=="html"&&Vt.enterRCDATA(Gu("</template"),0);else{let r=0;ot.exp=pu(Zr,!1,Gt(di,wo),0,r),ot.name==="for"&&(ot.forParseResult=mE(ot.exp));let n=-1;ot.name==="bind"&&(n=ot.modifiers.findIndex(i=>i.content==="sync"))>-1&&qa("COMPILER_V_BIND_SYNC",mt,ot.loc,ot.arg.loc.source)&&(ot.name="model",ot.modifiers.splice(n,1))}(ot.type!==7||ot.name!=="pre")&&Pr.props.push(ot)}Zr="",di=wo=-1},oncomment(t,e){mt.comments&&Gd({type:3,content:br(t,e),loc:Gt(t-4,e+3)})},onend(){const t=_i.length;for(let e=0;e<Ft.length;e++)hu(Ft[e],t-1),fi(24,Ft[e].loc.start.offset)},oncdata(t,e){Ft[0].ns!==0?Jl(br(t,e),t,e):fi(1,t-9)},onprocessinginstruction(t){(Ft[0]?Ft[0].ns:mt.ns)===0&&fi(21,t-1)}}),Lp=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,yE=/^\(|\)$/g;function mE(t){const e=t.loc,r=t.content,n=r.match(vE);if(!n)return;const[,i,o]=n,s=(d,p,v=!1)=>{const y=e.start.offset+p,b=y+d.length;return pu(d,!1,Gt(y,b),0,v?1:0)},a={source:s(o.trim(),r.indexOf(o,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(yE,"").trim();const u=i.indexOf(l),f=l.match(Lp);if(f){l=l.replace(Lp,"").trim();const d=f[1].trim();let p;if(d&&(p=r.indexOf(d,u+l.length),a.key=s(d,p,!0)),f[2]){const v=f[2].trim();v&&(a.index=s(v,r.indexOf(v,a.key?p+d.length:u+l.length),!0))}}return l&&(a.value=s(l,u,!0)),a}function br(t,e){return _i.slice(t,e)}function $p(t){Vt.inSFCRoot&&(Pr.innerLoc=Gt(t+1,t+1)),Gd(Pr);const{tag:e,ns:r}=Pr;r===0&&mt.isPreTag(e)&&kh++,mt.isVoidTag(e)?hu(Pr,t):(Ft.unshift(Pr),(r===1||r===2)&&(Vt.inXML=!0)),Pr=null}function Jl(t,e,r){{const o=Ft[0]&&Ft[0].tag;o!=="script"&&o!=="style"&&t.includes("&")&&(t=mt.decodeEntities(t,!1))}const n=Ft[0]||za,i=n.children[n.children.length-1];i&&i.type===2?(i.content+=t,So(i.loc,r)):n.children.push({type:2,content:t,loc:Gt(e,r)})}function hu(t,e,r=!1){r?So(t.loc,qx(e,60)):So(t.loc,xE(e,62)+1),Vt.inSFCRoot&&(t.children.length?t.innerLoc.end=bs({},t.children[t.children.length-1].loc.end):t.innerLoc.end=bs({},t.innerLoc.start),t.innerLoc.source=br(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:n,ns:i,children:o}=t;if(Wi||(n==="slot"?t.tagType=2:Up(t)?t.tagType=3:_E(t)&&(t.tagType=1)),Vt.inRCDATA||(t.children=Gx(o)),i===0&&mt.isIgnoreNewlineTag(n)){const s=o[0];s&&s.type===2&&(s.content=s.content.replace(/^\r?\n/,""))}i===0&&mt.isPreTag(n)&&kh--,qd===t&&(Wi=Vt.inVPre=!1,qd=null),Vt.inXML&&(Ft[0]?Ft[0].ns:mt.ns)===0&&(Vt.inXML=!1);{const s=t.props;if(!Vt.inSFCRoot&&Lo("COMPILER_NATIVE_TEMPLATE",mt)&&t.tag==="template"&&!Up(t)){const l=Ft[0]||za,u=l.children.indexOf(t);l.children.splice(u,1,...t.children)}const a=s.find(l=>l.type===6&&l.name==="inline-template");a&&qa("COMPILER_INLINE_TEMPLATE",mt,a.loc)&&t.children.length&&(a.value={type:2,content:br(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function xE(t,e){let r=t;for(;_i.charCodeAt(r)!==e&&r<_i.length-1;)r++;return r}function qx(t,e){let r=t;for(;_i.charCodeAt(r)!==e&&r>=0;)r--;return r}const bE=new Set(["if","else","else-if","for","slot"]);function Up({tag:t,props:e}){if(t==="template"){for(let r=0;r<e.length;r++)if(e[r].type===7&&bE.has(e[r].name))return!0}return!1}function _E({tag:t,props:e}){if(mt.isCustomElement(t))return!1;if(t==="component"||wE(t.charCodeAt(0))||Lx(t)||mt.isBuiltInComponent&&mt.isBuiltInComponent(t)||mt.isNativeTag&&!mt.isNativeTag(t))return!0;for(let r=0;r<e.length;r++){const n=e[r];if(n.type===6){if(n.name==="is"&&n.value){if(n.value.content.startsWith("vue:"))return!0;if(qa("COMPILER_IS_ON_ELEMENT",mt,n.loc))return!0}}else if(n.name==="bind"&&Eo(n.arg,"is")&&qa("COMPILER_IS_ON_ELEMENT",mt,n.loc))return!0}return!1}function wE(t){return t>64&&t<91}const AE=/\r\n/g;function Gx(t){const e=mt.whitespace!=="preserve";let r=!1;for(let n=0;n<t.length;n++){const i=t[n];if(i.type===2)if(kh)i.content=i.content.replace(AE,`
`);else if(Hx(i.content)){const o=t[n-1]&&t[n-1].type,s=t[n+1]&&t[n+1].type;!o||!s||e&&(o===3&&(s===3||s===1)||o===1&&(s===3||s===1&&CE(i.content)))?(r=!0,t[n]=null):i.content=" "}else e&&(i.content=zx(i.content))}return r?t.filter(Boolean):t}function CE(t){for(let e=0;e<t.length;e++){const r=t.charCodeAt(e);if(r===10||r===13)return!0}return!1}function zx(t){let e="",r=!1;for(let n=0;n<t.length;n++)fn(t.charCodeAt(n))?r||(e+=" ",r=!0):(e+=t[n],r=!1);return e}function Gd(t){(Ft[0]||za).children.push(t)}function Gt(t,e){return{start:Vt.getPos(t),end:e==null?e:Vt.getPos(e),source:e==null?e:br(t,e)}}function EE(t){return Gt(t.start.offset,t.end.offset)}function So(t,e){t.end=Vt.getPos(e),t.source=br(t.start.offset,e)}function SE(t){const e={type:6,name:t.rawName,nameLoc:Gt(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const r=t.exp.loc;r.end.offset<t.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),e.value={type:2,content:t.exp.content,loc:r}}return e}function pu(t,e=!1,r,n=0,i=0){return Qe(t,e,r,n)}function fi(t,e,r){mt.onError(Pt(t,Gt(e,e)))}function IE(){Vt.reset(),Pr=null,ot=null,Zr="",di=-1,wo=-1,Ft.length=0}function TE(t,e){if(IE(),_i=t,mt=bs({},Kx),e){let i;for(i in e)e[i]!=null&&(mt[i]=e[i])}Vt.mode=mt.parseMode==="html"?1:mt.parseMode==="sfc"?2:0,Vt.inXML=mt.ns===1||mt.ns===2;const r=e&&e.delimiters;r&&(Vt.delimiterOpen=Gu(r[0]),Vt.delimiterClose=Gu(r[1]));const n=za=tE([],t);return Vt.parse(_i),n.loc=Gt(0,t.length),n.children=Gx(n.children),za=null,n}function OE(t,e){gu(t,void 0,e,!!Xx(t))}function Xx(t){const e=t.children.filter(r=>r.type!==3);return e.length===1&&e[0].type===1&&!Xu(e[0])?e[0]:null}function gu(t,e,r,n=!1,i=!1){const{children:o}=t,s=[];for(let f=0;f<o.length;f++){const d=o[f];if(d.type===1&&d.tagType===0){const p=n?0:dn(d,r);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,s.push(d);continue}}else{const v=d.codegenNode;if(v.type===13){const y=v.patchFlag;if((y===void 0||y===512||y===1)&&Zx(d,r)>=2){const b=Jx(d);b&&(v.props=r.hoist(b))}v.dynamicProps&&(v.dynamicProps=r.hoist(v.dynamicProps))}}}else if(d.type===12&&(n?0:dn(d,r))>=2){d.codegenNode.type===14&&d.codegenNode.arguments.length>0&&d.codegenNode.arguments.push("-1"),s.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&r.scopes.vSlot++,gu(d,t,r,!1,i),p&&r.scopes.vSlot--}else if(d.type===11)gu(d,t,r,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)gu(d.branches[p],t,r,d.branches[p].children.length===1,i)}let a=!1;if(s.length===o.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&Gi(t.codegenNode.children))t.codegenNode.children=l(Fo(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Gi(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=u(t.codegenNode,"default");f&&(f.returns=l(Fo(f.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Gi(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=_n(t,"slot",!0),d=f&&f.arg&&u(e.codegenNode,f.arg);d&&(d.returns=l(Fo(d.returns)),a=!0)}}if(!a)for(const f of s)f.codegenNode=r.cache(f.codegenNode);function l(f){const d=r.cache(f);return d.needArraySpread=!0,d}function u(f,d){if(f.children&&!Gi(f.children)&&f.children.type===15){const p=f.children.properties.find(v=>v.key===d||v.key.content===d);return p&&p.value}}s.length&&r.transformHoist&&r.transformHoist(o,r,t)}function dn(t,e){const{constantCache:r}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const n=r.get(t);if(n!==void 0)return n;const i=t.codegenNode;if(i.type!==13||i.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(i.patchFlag===void 0){let s=3;const a=Zx(t,e);if(a===0)return r.set(t,0),0;a<s&&(s=a);for(let l=0;l<t.children.length;l++){const u=dn(t.children[l],e);if(u===0)return r.set(t,0),0;u<s&&(s=u)}if(s>1)for(let l=0;l<t.props.length;l++){const u=t.props[l];if(u.type===7&&u.name==="bind"&&u.exp){const f=dn(u.exp,e);if(f===0)return r.set(t,0),0;f<s&&(s=f)}}if(i.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return r.set(t,0),0;e.removeHelper(qo),e.removeHelper(Ds(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(Ps(e.inSSR,i.isComponent))}return r.set(t,s),s}else return r.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return dn(t.content,e);case 4:return t.constType;case 8:let o=3;for(let s=0;s<t.children.length;s++){const a=t.children[s];if(Er(a)||uh(a))continue;const l=dn(a,e);if(l===0)return 0;l<o&&(o=l)}return o;case 20:return 2;default:return 0}}const kE=new Set([_h,wh,Wa,ol]);function Yx(t,e){if(t.type===14&&!Er(t.callee)&&kE.has(t.callee)){const r=t.arguments[0];if(r.type===4)return dn(r,e);if(r.type===14)return Yx(r,e)}return 0}function Zx(t,e){let r=3;const n=Jx(t);if(n&&n.type===15){const{properties:i}=n;for(let o=0;o<i.length;o++){const{key:s,value:a}=i[o],l=dn(s,e);if(l===0)return l;l<r&&(r=l);let u;if(a.type===4?u=dn(a,e):a.type===14?u=Yx(a,e):u=0,u===0)return u;u<r&&(r=u)}}return r}function Jx(t){const e=t.codegenNode;if(e.type===13)return e.props}function NE(t,{filename:e="",prefixIdentifiers:r=!1,hoistStatic:n=!1,hmr:i=!1,cacheHandlers:o=!1,nodeTransforms:s=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:u=$f,isCustomElement:f=$f,expressionPlugins:d=[],scopeId:p=null,slotted:v=!0,ssr:y=!1,inSSR:b=!1,ssrCssVars:x="",bindingMetadata:w=WC,inline:C=!1,isTS:_=!1,onError:E=Ih,onWarn:N=Fx,compatConfig:M}){const T=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),I={filename:e,selfName:T&&Ox(Yi(T[1])),prefixIdentifiers:r,hoistStatic:n,hmr:i,cacheHandlers:o,nodeTransforms:s,directiveTransforms:a,transformHoist:l,isBuiltInComponent:u,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:v,ssr:y,inSSR:b,ssrCssVars:x,bindingMetadata:w,inline:C,isTS:_,onError:E,onWarn:N,compatConfig:M,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(k){const V=I.helpers.get(k)||0;return I.helpers.set(k,V+1),k},removeHelper(k){const V=I.helpers.get(k);if(V){const ue=V-1;ue?I.helpers.set(k,ue):I.helpers.delete(k)}},helperString(k){return`_${Ns[I.helper(k)]}`},replaceNode(k){I.parent.children[I.childIndex]=I.currentNode=k},removeNode(k){const V=I.parent.children,ue=k?V.indexOf(k):I.currentNode?I.childIndex:-1;!k||k===I.currentNode?(I.currentNode=null,I.onNodeRemoved()):I.childIndex>ue&&(I.childIndex--,I.onNodeRemoved()),I.parent.children.splice(ue,1)},onNodeRemoved:$f,addIdentifiers(k){},removeIdentifiers(k){},hoist(k){Er(k)&&(k=Qe(k)),I.hoists.push(k);const V=Qe(`_hoisted_${I.hoists.length}`,!1,k.loc,2);return V.hoisted=k,V},cache(k,V=!1,ue=!1){const W=rE(I.cached.length,k,V,ue);return I.cached.push(W),W}};return I.filters=new Set,I}function RE(t,e){const r=NE(t,e);Nc(t,r),e.hoistStatic&&OE(t,r),e.ssr||PE(t,r),t.helpers=new Set([...r.helpers.keys()]),t.components=[...r.components],t.directives=[...r.directives],t.imports=r.imports,t.hoists=r.hoists,t.temps=r.temps,t.cached=r.cached,t.transformed=!0,t.filters=[...r.filters]}function PE(t,e){const{helper:r}=e,{children:n}=t;if(n.length===1){const i=Xx(t);if(i&&i.codegenNode){const o=i.codegenNode;o.type===13&&Sh(o,e),t.codegenNode=o}else t.codegenNode=n[0]}else if(n.length>1){let i=64;t.codegenNode=Ka(e,r(Ha),void 0,t.children,i,void 0,void 0,!0,void 0,!1)}}function DE(t,e){let r=0;const n=()=>{r--};for(;r<t.children.length;r++){const i=t.children[r];Er(i)||(e.grandParent=e.parent,e.parent=t,e.childIndex=r,e.onNodeRemoved=n,Nc(i,e))}}function Nc(t,e){e.currentNode=t;const{nodeTransforms:r}=e,n=[];for(let o=0;o<r.length;o++){const s=r[o](t,e);if(s&&(Gi(s)?n.push(...s):n.push(s)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(il);break;case 5:e.ssr||e.helper(Oc);break;case 9:for(let o=0;o<t.branches.length;o++)Nc(t.branches[o],e);break;case 10:case 11:case 1:case 0:DE(t,e);break}e.currentNode=t;let i=n.length;for(;i--;)n[i]()}function Qx(t,e){const r=Er(t)?n=>n===t:n=>t.test(n);return(n,i)=>{if(n.type===1){const{props:o}=n;if(n.tagType===3&&o.some(hE))return;const s=[];for(let a=0;a<o.length;a++){const l=o[a];if(l.type===7&&r(l.name)){o.splice(a,1),a--;const u=e(n,l,i);u&&s.push(u)}}return s}}}const Rc="/*@__PURE__*/",e2=t=>`${Ns[t]}: _${Ns[t]}`;function ME(t,{mode:e="function",prefixIdentifiers:r=e==="module",sourceMap:n=!1,filename:i="template.vue.html",scopeId:o=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:f=!1,isTS:d=!1,inSSR:p=!1}){const v={mode:e,prefixIdentifiers:r,sourceMap:n,filename:i,scopeId:o,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:u,ssr:f,isTS:d,inSSR:p,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${Ns[b]}`},push(b,x=-2,w){v.code+=b},indent(){y(++v.indentLevel)},deindent(b=!1){b?--v.indentLevel:y(--v.indentLevel)},newline(){y(v.indentLevel)}};function y(b){v.push(`
`+"  ".repeat(b),0)}return v}function BE(t,e={}){const r=ME(t,e);e.onContextCreated&&e.onContextCreated(r);const{mode:n,push:i,prefixIdentifiers:o,indent:s,deindent:a,newline:l,scopeId:u,ssr:f}=r,d=Array.from(t.helpers),p=d.length>0,v=!o&&n!=="module";FE(t,r);const b=f?"ssrRender":"render",w=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${b}(${w}) {`),s(),v&&(i("with (_ctx) {"),s(),p&&(i(`const { ${d.map(e2).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(Vf(t.components,"component",r),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(Vf(t.directives,"directive",r),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),Vf(t.filters,"filter",r),l()),t.temps>0){i("let ");for(let C=0;C<t.temps;C++)i(`${C>0?", ":""}_temp${C}`)}return(t.components.length||t.directives.length||t.temps)&&(i(`
`,0),l()),f||i("return "),t.codegenNode?Fr(t.codegenNode,r):i("null"),v&&(a(),i("}")),a(),i("}"),{ast:t,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function FE(t,e){const{ssr:r,prefixIdentifiers:n,push:i,newline:o,runtimeModuleName:s,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,u=a,f=Array.from(t.helpers);if(f.length>0&&(i(`const _Vue = ${u}
`,-1),t.hoists.length)){const d=[dh,hh,il,ph,Px].filter(p=>f.includes(p)).map(e2).join(", ");i(`const { ${d} } = _Vue
`,-1)}LE(t.hoists,e),o(),i("return ")}function Vf(t,e,{helper:r,push:n,newline:i,isTS:o}){const s=r(e==="filter"?mh:e==="component"?gh:yh);for(let a=0;a<t.length;a++){let l=t[a];const u=l.endsWith("__self");u&&(l=l.slice(0,-6)),n(`const ${Ga(l,e)} = ${s}(${JSON.stringify(l)}${u?", true":""})${o?"!":""}`),a<t.length-1&&i()}}function LE(t,e){if(!t.length)return;e.pure=!0;const{push:r,newline:n}=e;n();for(let i=0;i<t.length;i++){const o=t[i];o&&(r(`const _hoisted_${i+1} = `),Fr(o,e),n())}e.pure=!1}function Nh(t,e){const r=t.length>3||!1;e.push("["),r&&e.indent(),sl(t,e,r),r&&e.deindent(),e.push("]")}function sl(t,e,r=!1,n=!0){const{push:i,newline:o}=e;for(let s=0;s<t.length;s++){const a=t[s];Er(a)?i(a,-3):Gi(a)?Nh(a,e):Fr(a,e),s<t.length-1&&(r?(n&&i(","),o()):n&&i(", "))}}function Fr(t,e){if(Er(t)){e.push(t,-3);return}if(uh(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Fr(t.codegenNode,e);break;case 2:$E(t,e);break;case 4:t2(t,e);break;case 5:UE(t,e);break;case 12:Fr(t.codegenNode,e);break;case 8:r2(t,e);break;case 3:jE(t,e);break;case 13:HE(t,e);break;case 14:KE(t,e);break;case 15:qE(t,e);break;case 17:GE(t,e);break;case 18:zE(t,e);break;case 19:XE(t,e);break;case 20:YE(t,e);break;case 21:sl(t.body,e,!0,!1);break}}function $E(t,e){e.push(JSON.stringify(t.content),-3,t)}function t2(t,e){const{content:r,isStatic:n}=t;e.push(n?JSON.stringify(r):r,-3,t)}function UE(t,e){const{push:r,helper:n,pure:i}=e;i&&r(Rc),r(`${n(Oc)}(`),Fr(t.content,e),r(")")}function r2(t,e){for(let r=0;r<t.children.length;r++){const n=t.children[r];Er(n)?e.push(n,-3):Fr(n,e)}}function VE(t,e){const{push:r}=e;if(t.type===8)r("["),r2(t,e),r("]");else if(t.isStatic){const n=Th(t.content)?t.content:JSON.stringify(t.content);r(n,-2,t)}else r(`[${t.content}]`,-3,t)}function jE(t,e){const{push:r,helper:n,pure:i}=e;i&&r(Rc),r(`${n(il)}(${JSON.stringify(t.content)})`,-3,t)}function HE(t,e){const{push:r,helper:n,pure:i}=e,{tag:o,props:s,children:a,patchFlag:l,dynamicProps:u,directives:f,isBlock:d,disableTracking:p,isComponent:v}=t;let y;l&&(y=String(l)),f&&r(n(xh)+"("),d&&r(`(${n(qo)}(${p?"true":""}), `),i&&r(Rc);const b=d?Ds(e.inSSR,v):Ps(e.inSSR,v);r(n(b)+"(",-2,t),sl(WE([o,s,a,y,u]),e),r(")"),d&&r(")"),f&&(r(", "),Fr(f,e),r(")"))}function WE(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(r=>r||"null")}function KE(t,e){const{push:r,helper:n,pure:i}=e,o=Er(t.callee)?t.callee:n(t.callee);i&&r(Rc),r(o+"(",-2,t),sl(t.arguments,e),r(")")}function qE(t,e){const{push:r,indent:n,deindent:i,newline:o}=e,{properties:s}=t;if(!s.length){r("{}",-2,t);return}const a=s.length>1||!1;r(a?"{":"{ "),a&&n();for(let l=0;l<s.length;l++){const{key:u,value:f}=s[l];VE(u,e),r(": "),Fr(f,e),l<s.length-1&&(r(","),o())}a&&i(),r(a?"}":" }")}function GE(t,e){Nh(t.elements,e)}function zE(t,e){const{push:r,indent:n,deindent:i}=e,{params:o,returns:s,body:a,newline:l,isSlot:u}=t;u&&r(`_${Ns[Ch]}(`),r("(",-2,t),Gi(o)?sl(o,e):o&&Fr(o,e),r(") => "),(l||a)&&(r("{"),n()),s?(l&&r("return "),Gi(s)?Nh(s,e):Fr(s,e)):a&&Fr(a,e),(l||a)&&(i(),r("}")),u&&(t.isNonScopedSlot&&r(", undefined, true"),r(")"))}function XE(t,e){const{test:r,consequent:n,alternate:i,newline:o}=t,{push:s,indent:a,deindent:l,newline:u}=e;if(r.type===4){const d=!Th(r.content);d&&s("("),t2(r,e),d&&s(")")}else s("("),Fr(r,e),s(")");o&&a(),e.indentLevel++,o||s(" "),s("? "),Fr(n,e),e.indentLevel--,o&&u(),o||s(" "),s(": ");const f=i.type===19;f||e.indentLevel++,Fr(i,e),f||e.indentLevel--,o&&l(!0)}function YE(t,e){const{push:r,helper:n,indent:i,deindent:o,newline:s}=e,{needPauseTracking:a,needArraySpread:l}=t;l&&r("[...("),r(`_cache[${t.index}] || (`),a&&(i(),r(`${n(qu)}(-1`),t.inVOnce&&r(", true"),r("),"),s(),r("(")),r(`_cache[${t.index}] = `),Fr(t.value,e),a&&(r(`).cacheIndex = ${t.index},`),s(),r(`${n(qu)}(1),`),s(),r(`_cache[${t.index}]`),o()),r(")"),l&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const ZE=Qx(/^(?:if|else|else-if)$/,(t,e,r)=>JE(t,e,r,(n,i,o)=>{const s=r.parent.children;let a=s.indexOf(n),l=0;for(;a-->=0;){const u=s[a];u&&u.type===9&&(l+=u.branches.length)}return()=>{if(o)n.codegenNode=jp(i,l,r);else{const u=QE(n.codegenNode);u.alternate=jp(i,l+n.branches.length-1,r)}}}));function JE(t,e,r,n){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:t.loc;r.onError(Pt(28,e.loc)),e.exp=Qe("true",!1,i)}if(e.name==="if"){const i=Vp(t,e),o={type:9,loc:EE(t.loc),branches:[i]};if(r.replaceNode(o),n)return n(o,i,!0)}else{const i=r.parent.children;let o=i.indexOf(t);for(;o-->=-1;){const s=i[o];if(s&&Wx(s)){r.removeNode(s);continue}if(s&&s.type===9){(e.name==="else-if"||e.name==="else")&&s.branches[s.branches.length-1].condition===void 0&&r.onError(Pt(30,t.loc)),r.removeNode();const a=Vp(t,e);s.branches.push(a);const l=n&&n(s,a,!1);Nc(a,r),l&&l(),r.currentNode=null}else r.onError(Pt(30,t.loc));break}}}function Vp(t,e){const r=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:r&&!_n(t,"for")?t.children:[t],userKey:kc(t,"key"),isTemplateIf:r}}function jp(t,e,r){return t.condition?Kd(t.condition,Hp(t,e,r),or(r.helper(il),['""',"true"])):Hp(t,e,r)}function Hp(t,e,r){const{helper:n}=r,i=Zt("key",Qe(`${e}`,!1,gn,2)),{children:o}=t,s=o[0];if(o.length!==1||s.type!==1)if(o.length===1&&s.type===11){const l=s.codegenNode;return Yu(l,i,r),l}else return Ka(r,n(Ha),An([i]),o,64,void 0,void 0,!0,!1,!1,t.loc);else{const l=s.codegenNode,u=gE(l);return u.type===13&&Sh(u,r),Yu(u,i,r),l}}function QE(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const eS=Qx("for",(t,e,r)=>{const{helper:n,removeHelper:i}=r;return tS(t,e,r,o=>{const s=or(n(bh),[o.source]),a=zu(t),l=_n(t,"memo"),u=kc(t,"key",!1,!0);u&&u.type;let f=u&&(u.type===6?u.value?Qe(u.value.content,!0):void 0:u.exp);const d=u&&f?Zt("key",f):null,p=o.source.type===4&&o.source.constType>0,v=p?64:u?128:256;return o.codegenNode=Ka(r,n(Ha),void 0,s,v,void 0,void 0,!0,!p,!1,t.loc),()=>{let y;const{children:b}=o,x=b.length!==1||b[0].type!==1,w=Xu(t)?t:a&&t.children.length===1&&Xu(t.children[0])?t.children[0]:null;if(w?(y=w.codegenNode,a&&d&&Yu(y,d,r)):x?y=Ka(r,n(Ha),d?An([d]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(y=b[0].codegenNode,a&&d&&Yu(y,d,r),y.isBlock!==!p&&(y.isBlock?(i(qo),i(Ds(r.inSSR,y.isComponent))):i(Ps(r.inSSR,y.isComponent))),y.isBlock=!p,y.isBlock?(n(qo),n(Ds(r.inSSR,y.isComponent))):n(Ps(r.inSSR,y.isComponent))),l){const C=Rs(zd(o.parseResult,[Qe("_cached")]));C.body=nE([jn(["const _memo = (",l.exp,")"]),jn(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${r.helperString(Bx)}(_cached, _memo)) return _cached`]),jn(["const _item = ",y]),Qe("_item.memo = _memo"),Qe("return _item")]),s.arguments.push(C,Qe("_cache"),Qe(String(r.cached.length))),r.cached.push(null)}else s.arguments.push(Rs(zd(o.parseResult),y,!0))}})});function tS(t,e,r,n){if(!e.exp){r.onError(Pt(31,e.loc));return}const i=e.forParseResult;if(!i){r.onError(Pt(32,e.loc));return}n2(i);const{addIdentifiers:o,removeIdentifiers:s,scopes:a}=r,{source:l,value:u,key:f,index:d}=i,p={type:11,loc:e.loc,source:l,valueAlias:u,keyAlias:f,objectIndexAlias:d,parseResult:i,children:zu(t)?t.children:[t]};r.replaceNode(p),a.vFor++;const v=n&&n(p);return()=>{a.vFor--,v&&v()}}function n2(t,e){t.finalized||(t.finalized=!0)}function zd({value:t,key:e,index:r},n=[]){return rS([t,e,r,...n])}function rS(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((r,n)=>r||Qe("_".repeat(n+1),!1))}const Wp=Qe("undefined",!1),nS=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const r=_n(t,"slot");if(r)return r.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},iS=(t,e,r,n)=>Rs(t,r,!1,!0,r.length?r[0].loc:n);function oS(t,e,r=iS){e.helper(Ch);const{children:n,loc:i}=t,o=[],s=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=_n(t,"slot",!0);if(l){const{arg:x,exp:w}=l;x&&!rn(x)&&(a=!0),o.push(Zt(x||Qe("default",!0),r(w,void 0,n,i)))}let u=!1,f=!1;const d=[],p=new Set;let v=0;for(let x=0;x<n.length;x++){const w=n[x];let C;if(!zu(w)||!(C=_n(w,"slot",!0))){w.type!==3&&d.push(w);continue}if(l){e.onError(Pt(37,C.loc));break}u=!0;const{children:_,loc:E}=w,{arg:N=Qe("default",!0),exp:M,loc:T}=C;let I;rn(N)?I=N?N.content:"default":a=!0;const k=_n(w,"for"),V=r(M,k,_,E);let ue,W;if(ue=_n(w,"if"))a=!0,s.push(Kd(ue.exp,Ql(N,V,v++),Wp));else if(W=_n(w,/^else(?:-if)?$/,!0)){let D=x,re;for(;D--&&(re=n[D],!!Wx(re)););if(re&&zu(re)&&_n(re,/^(?:else-)?if$/)){let De=s[s.length-1];for(;De.alternate.type===19;)De=De.alternate;De.alternate=W.exp?Kd(W.exp,Ql(N,V,v++),Wp):Ql(N,V,v++)}else e.onError(Pt(30,W.loc))}else if(k){a=!0;const D=k.forParseResult;D?(n2(D),s.push(or(e.helper(bh),[D.source,Rs(zd(D),Ql(N,V),!0)]))):e.onError(Pt(32,k.loc))}else{if(I){if(p.has(I)){e.onError(Pt(38,T));continue}p.add(I),I==="default"&&(f=!0)}o.push(Zt(N,V))}}if(!l){const x=(w,C)=>{const _=r(w,void 0,C,i);return e.compatConfig&&(_.isNonScopedSlot=!0),Zt("default",_)};u?d.length&&!d.every(Oh)&&(f?e.onError(Pt(39,d[0].loc)):o.push(x(void 0,d))):o.push(x(void 0,n))}const y=a?2:vu(t.children)?3:1;let b=An(o.concat(Zt("_",Qe(y+"",!1))),i);return s.length&&(b=or(e.helper(Mx),[b,Fo(s)])),{slots:b,hasDynamicSlots:a}}function Ql(t,e,r){const n=[Zt("name",t),Zt("fn",e)];return r!=null&&n.push(Zt("key",Qe(String(r),!0))),An(n)}function vu(t){for(let e=0;e<t.length;e++){const r=t[e];switch(r.type){case 1:if(r.tagType===2||vu(r.children))return!0;break;case 9:if(vu(r.branches))return!0;break;case 10:case 11:if(vu(r.children))return!0;break}}return!1}const i2=new WeakMap,sS=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:n,props:i}=t,o=t.tagType===1;let s=o?aS(t,e):`"${n}"`;const a=KC(s)&&s.callee===vh;let l,u,f=0,d,p,v,y=a||s===Ra||s===fh||!o&&(n==="svg"||n==="foreignObject"||n==="math");if(i.length>0){const b=o2(t,e,void 0,o,a);l=b.props,f=b.patchFlag,p=b.dynamicPropNames;const x=b.directives;v=x&&x.length?Fo(x.map(w=>uS(w,e))):void 0,b.shouldUseBlock&&(y=!0)}if(t.children.length>0)if(s===Wu&&(y=!0,f|=1024),o&&s!==Ra&&s!==Wu){const{slots:x,hasDynamicSlots:w}=oS(t,e);u=x,w&&(f|=1024)}else if(t.children.length===1&&s!==Ra){const x=t.children[0],w=x.type,C=w===5||w===8;C&&dn(x,e)===0&&(f|=1),C||w===2?u=x:u=t.children}else u=t.children;p&&p.length&&(d=cS(p)),t.codegenNode=Ka(e,s,l,u,f===0?void 0:f,d,v,!!y,!1,o,t.loc)};function aS(t,e,r=!1){let{tag:n}=t;const i=Xd(n),o=kc(t,"is",!1,!0);if(o)if(i||Lo("COMPILER_IS_ON_ELEMENT",e)){let a;if(o.type===6?a=o.value&&Qe(o.value.content,!0):(a=o.exp,a||(a=Qe("is",!1,o.arg.loc))),a)return or(e.helper(vh),[a])}else o.type===6&&o.value.content.startsWith("vue:")&&(n=o.value.content.slice(4));const s=Lx(n)||e.isBuiltInComponent(n);return s?(r||e.helper(s),s):(e.helper(gh),e.components.add(n),Ga(n,"component"))}function o2(t,e,r=t.props,n,i,o=!1){const{tag:s,loc:a,children:l}=t;let u=[];const f=[],d=[],p=l.length>0;let v=!1,y=0,b=!1,x=!1,w=!1,C=!1,_=!1,E=!1;const N=[],M=V=>{u.length&&(f.push(An(Kp(u),a)),u=[]),V&&f.push(V)},T=()=>{e.scopes.vFor>0&&u.push(Zt(Qe("ref_for",!0),Qe("true")))},I=({key:V,value:ue})=>{if(rn(V)){const W=V.content,D=Tx(W);if(D&&(!n||i)&&W.toLowerCase()!=="onclick"&&W!=="onUpdate:modelValue"&&!Np(W)&&(C=!0),D&&Np(W)&&(E=!0),D&&ue.type===14&&(ue=ue.arguments[0]),ue.type===20||(ue.type===4||ue.type===8)&&dn(ue,e)>0)return;W==="ref"?b=!0:W==="class"?x=!0:W==="style"?w=!0:W!=="key"&&!N.includes(W)&&N.push(W),n&&(W==="class"||W==="style")&&!N.includes(W)&&N.push(W)}else _=!0};for(let V=0;V<r.length;V++){const ue=r[V];if(ue.type===6){const{loc:W,name:D,nameLoc:re,value:De}=ue;let be=!0;if(D==="ref"&&(b=!0,T()),D==="is"&&(Xd(s)||De&&De.content.startsWith("vue:")||Lo("COMPILER_IS_ON_ELEMENT",e)))continue;u.push(Zt(Qe(D,!0,re),Qe(De?De.content:"",be,De?De.loc:W)))}else{const{name:W,arg:D,exp:re,loc:De,modifiers:be}=ue,Pe=W==="bind",me=W==="on";if(W==="slot"){n||e.onError(Pt(40,De));continue}if(W==="once"||W==="memo"||W==="is"||Pe&&Eo(D,"is")&&(Xd(s)||Lo("COMPILER_IS_ON_ELEMENT",e))||me&&o)continue;if((Pe&&Eo(D,"key")||me&&p&&Eo(D,"vue:before-update"))&&(v=!0),Pe&&Eo(D,"ref")&&T(),!D&&(Pe||me)){if(_=!0,re)if(Pe){if(M(),Lo("COMPILER_V_BIND_OBJECT_ORDER",e)){f.unshift(re);continue}T(),M(),f.push(re)}else M({type:14,loc:De,callee:e.helper(Ah),arguments:n?[re]:[re,"true"]});else e.onError(Pt(Pe?34:35,De));continue}Pe&&be.some(Mt=>Mt.content==="prop")&&(y|=32);const ze=e.directiveTransforms[W];if(ze){const{props:Mt,needRuntime:Et}=ze(ue,t,e);!o&&Mt.forEach(I),me&&D&&!rn(D)?M(An(Mt,a)):u.push(...Mt),Et&&(d.push(ue),uh(Et)&&i2.set(ue,Et))}else qC(W)||(d.push(ue),p&&(v=!0))}}let k;if(f.length?(M(),f.length>1?k=or(e.helper(Ku),f,a):k=f[0]):u.length&&(k=An(Kp(u),a)),_?y|=16:(x&&!n&&(y|=2),w&&!n&&(y|=4),N.length&&(y|=8),C&&(y|=32)),!v&&(y===0||y===32)&&(b||E||d.length>0)&&(y|=512),!e.inSSR&&k)switch(k.type){case 15:let V=-1,ue=-1,W=!1;for(let De=0;De<k.properties.length;De++){const be=k.properties[De].key;rn(be)?be.content==="class"?V=De:be.content==="style"&&(ue=De):be.isHandlerKey||(W=!0)}const D=k.properties[V],re=k.properties[ue];W?k=or(e.helper(Wa),[k]):(D&&!rn(D.value)&&(D.value=or(e.helper(_h),[D.value])),re&&(w||re.value.type===4&&re.value.content.trim()[0]==="["||re.value.type===17)&&(re.value=or(e.helper(wh),[re.value])));break;case 14:break;default:k=or(e.helper(Wa),[or(e.helper(ol),[k])]);break}return{props:k,directives:d,patchFlag:y,dynamicPropNames:N,shouldUseBlock:v}}function Kp(t){const e=new Map,r=[];for(let n=0;n<t.length;n++){const i=t[n];if(i.key.type===8||!i.key.isStatic){r.push(i);continue}const o=i.key.content,s=e.get(o);s?(o==="style"||o==="class"||Tx(o))&&lS(s,i):(e.set(o,i),r.push(i))}return r}function lS(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Fo([t.value,e.value],t.loc)}function uS(t,e){const r=[],n=i2.get(t);n?r.push(e.helperString(n)):(e.helper(yh),e.directives.add(t.name),r.push(Ga(t.name,"directive")));const{loc:i}=t;if(t.exp&&r.push(t.exp),t.arg&&(t.exp||r.push("void 0"),r.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||r.push("void 0"),r.push("void 0"));const o=Qe("true",!1,i);r.push(An(t.modifiers.map(s=>Zt(s,o)),i))}return Fo(r,t.loc)}function cS(t){let e="[";for(let r=0,n=t.length;r<n;r++)e+=JSON.stringify(t[r]),r<n-1&&(e+=", ");return e+"]"}function Xd(t){return t==="component"||t==="Component"}const fS=(t,e)=>{if(Xu(t)){const{children:r,loc:n}=t,{slotName:i,slotProps:o}=dS(t,e),s=[e.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;o&&(s[2]=o,a=3),r.length&&(s[3]=Rs([],r,!1,!1,n),a=4),e.scopeId&&!e.slotted&&(a=5),s.splice(a),t.codegenNode=or(e.helper(Dx),s,n)}};function dS(t,e){let r='"default"',n;const i=[];for(let o=0;o<t.props.length;o++){const s=t.props[o];if(s.type===6)s.value&&(s.name==="name"?r=JSON.stringify(s.value.content):(s.name=Yi(s.name),i.push(s)));else if(s.name==="bind"&&Eo(s.arg,"name")){if(s.exp)r=s.exp;else if(s.arg&&s.arg.type===4){const a=Yi(s.arg.content);r=s.exp=Qe(a,!1,s.arg.loc)}}else s.name==="bind"&&s.arg&&rn(s.arg)&&(s.arg.content=Yi(s.arg.content)),i.push(s)}if(i.length>0){const{props:o,directives:s}=o2(t,e,i,!1,!1);n=o,s.length&&e.onError(Pt(36,s[0].loc))}return{slotName:r,slotProps:n}}const s2=(t,e,r,n)=>{const{loc:i,modifiers:o,arg:s}=t;!t.exp&&!o.length&&r.onError(Pt(35,i));let a;if(s.type===4)if(s.isStatic){let d=s.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=e.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?zC(Yi(d)):`on:${d}`;a=Qe(p,!0,s.loc)}else a=jn([`${r.helperString(Wd)}(`,s,")"]);else a=s,a.children.unshift(`${r.helperString(Wd)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let u=r.cacheHandlers&&!l&&!r.inVOnce;if(l){const d=Vx(l),p=!(d||fE(l)),v=l.content.includes(";");(p||u&&d)&&(l=jn([`${p?"$event":"(...args)"} => ${v?"{":"("}`,l,v?"}":")"]))}let f={props:[Zt(a,l||Qe("() => {}",!1,i))]};return n&&(f=n(f)),u&&(f.props[0].value=r.cache(f.props[0].value)),f.props.forEach(d=>d.key.isHandlerKey=!0),f},hS=(t,e,r)=>{const{modifiers:n,loc:i}=t,o=t.arg;let{exp:s}=t;return s&&s.type===4&&!s.content.trim()&&(s=void 0),o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=o.content?`${o.content} || ""`:'""'),n.some(a=>a.content==="camel")&&(o.type===4?o.isStatic?o.content=Yi(o.content):o.content=`${r.helperString(Hd)}(${o.content})`:(o.children.unshift(`${r.helperString(Hd)}(`),o.children.push(")"))),r.inSSR||(n.some(a=>a.content==="prop")&&qp(o,"."),n.some(a=>a.content==="attr")&&qp(o,"^")),{props:[Zt(o,s)]}},qp=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},pS=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const r=t.children;let n,i=!1;for(let o=0;o<r.length;o++){const s=r[o];if(Uf(s)){i=!0;for(let a=o+1;a<r.length;a++){const l=r[a];if(Uf(l))n||(n=r[o]=jn([s],s.loc)),n.children.push(" + ",l),r.splice(a,1),a--;else{n=void 0;break}}}}if(!(!i||r.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(o=>o.type===7&&!e.directiveTransforms[o.name])&&t.tag!=="template")))for(let o=0;o<r.length;o++){const s=r[o];if(Uf(s)||s.type===8){const a=[];(s.type!==2||s.content!==" ")&&a.push(s),!e.ssr&&dn(s,e)===0&&a.push("1"),r[o]={type:12,content:s,loc:s.loc,codegenNode:or(e.helper(ph),a)}}}}},Gp=new WeakSet,gS=(t,e)=>{if(t.type===1&&_n(t,"once",!0))return Gp.has(t)||e.inVOnce||e.inSSR?void 0:(Gp.add(t),e.inVOnce=!0,e.helper(qu),()=>{e.inVOnce=!1;const r=e.currentNode;r.codegenNode&&(r.codegenNode=e.cache(r.codegenNode,!0,!0))})},a2=(t,e,r)=>{const{exp:n,arg:i}=t;if(!n)return r.onError(Pt(41,t.loc)),ua();const o=n.loc.source.trim(),s=n.type===4?n.content:o,a=r.bindingMetadata[o];if(a==="props"||a==="props-aliased")return r.onError(Pt(44,n.loc)),ua();if(a==="literal-const"||a==="setup-const")return r.onError(Pt(45,n.loc)),ua();if(!s.trim()||!Vx(n))return r.onError(Pt(42,n.loc)),ua();const l=i||Qe("modelValue",!0),u=i?rn(i)?`onUpdate:${Yi(i.content)}`:jn(['"onUpdate:" + ',i]):"onUpdate:modelValue";let f;const d=r.isTS?"($event: any)":"$event";f=jn([`${d} => ((`,n,") = $event)"]);const p=[Zt(l,t.exp),Zt(u,f)];if(t.modifiers.length&&e.tagType===1){const v=t.modifiers.map(b=>b.content).map(b=>(Th(b)?b:JSON.stringify(b))+": true").join(", "),y=i?rn(i)?`${i.content}Modifiers`:jn([i,' + "Modifiers"']):"modelModifiers";p.push(Zt(y,Qe(`{ ${v} }`,!1,t.loc,2)))}return ua(p)};function ua(t=[]){return{props:t}}const vS=/[\w).+\-_$\]]/,yS=(t,e)=>{Lo("COMPILER_FILTERS",e)&&(t.type===5?Zu(t.content,e):t.type===1&&t.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&Zu(r.exp,e)}))};function Zu(t,e){if(t.type===4)zp(t,e);else for(let r=0;r<t.children.length;r++){const n=t.children[r];typeof n=="object"&&(n.type===4?zp(n,e):n.type===8?Zu(t,e):n.type===5&&Zu(n.content,e))}}function zp(t,e){const r=t.content;let n=!1,i=!1,o=!1,s=!1,a=0,l=0,u=0,f=0,d,p,v,y,b=[];for(v=0;v<r.length;v++)if(p=d,d=r.charCodeAt(v),n)d===39&&p!==92&&(n=!1);else if(i)d===34&&p!==92&&(i=!1);else if(o)d===96&&p!==92&&(o=!1);else if(s)d===47&&p!==92&&(s=!1);else if(d===124&&r.charCodeAt(v+1)!==124&&r.charCodeAt(v-1)!==124&&!a&&!l&&!u)y===void 0?(f=v+1,y=r.slice(0,v).trim()):x();else{switch(d){case 34:i=!0;break;case 39:n=!0;break;case 96:o=!0;break;case 40:u++;break;case 41:u--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let w=v-1,C;for(;w>=0&&(C=r.charAt(w),C===" ");w--);(!C||!vS.test(C))&&(s=!0)}}y===void 0?y=r.slice(0,v).trim():f!==0&&x();function x(){b.push(r.slice(f,v).trim()),f=v+1}if(b.length){for(v=0;v<b.length;v++)y=mS(y,b[v],e);t.content=y,t.ast=void 0}}function mS(t,e,r){r.helper(mh);const n=e.indexOf("(");if(n<0)return r.filters.add(e),`${Ga(e,"filter")}(${t})`;{const i=e.slice(0,n),o=e.slice(n+1);return r.filters.add(i),`${Ga(i,"filter")}(${t}${o!==")"?","+o:o}`}}const Xp=new WeakSet,xS=(t,e)=>{if(t.type===1){const r=_n(t,"memo");return!r||Xp.has(t)||e.inSSR?void 0:(Xp.add(t),()=>{const n=t.codegenNode||e.currentNode.codegenNode;n&&n.type===13&&(t.tagType!==1&&Sh(n,e),t.codegenNode=or(e.helper(Eh),[r.exp,Rs(void 0,n),"_cache",String(e.cached.length)]),e.cached.push(null))})}},bS=(t,e)=>{if(t.type===1){for(const r of t.props)if(r.type===7&&r.name==="bind"&&(!r.exp||r.exp.type===4&&!r.exp.content.trim())&&r.arg){const n=r.arg;if(n.type!==4||!n.isStatic)e.onError(Pt(53,n.loc)),r.exp=Qe("",!0,n.loc);else{const i=Yi(n.content);($x.test(i[0])||i[0]==="-")&&(r.exp=Qe(i,!1,n.loc))}}}};function _S(t){return[[bS,gS,ZE,xS,eS,yS,fS,sS,nS,pS],{on:s2,bind:hS,model:a2}]}function wS(t,e={}){const r=e.onError||Ih,n=e.mode==="module";e.prefixIdentifiers===!0?r(Pt(48)):n&&r(Pt(49));const i=!1;e.cacheHandlers&&r(Pt(50)),e.scopeId&&!n&&r(Pt(51));const o=bs({},e,{prefixIdentifiers:i}),s=Er(t)?TE(t,o):t,[a,l]=_S();return RE(s,bs({},o,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:bs({},l,e.directiveTransforms||{})})),BE(s,o)}const AS=()=>({props:[]});function lo(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Yp=Object.assign,CS=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},ES=CS(t=>t.charAt(0).toUpperCase()+t.slice(1)),SS=/;(?![^(]*\))/g,IS=/:([^]+)/,TS=/\/\*[^]*?\*\//g;function OS(t){const e={};return t.replace(TS,"").split(SS).forEach(r=>{if(r){const n=r.split(IS);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}const kS="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",NS="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",RS="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",PS="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",DS=lo(kS),MS=lo(NS),BS=lo(RS),FS=lo(PS);const l2=Symbol(""),u2=Symbol(""),c2=Symbol(""),f2=Symbol(""),Yd=Symbol(""),d2=Symbol(""),h2=Symbol(""),p2=Symbol(""),g2=Symbol(""),v2=Symbol("");eE({[l2]:"vModelRadio",[u2]:"vModelCheckbox",[c2]:"vModelText",[f2]:"vModelSelect",[Yd]:"vModelDynamic",[d2]:"withModifiers",[h2]:"withKeys",[p2]:"vShow",[g2]:"Transition",[v2]:"TransitionGroup"});let ss;function LS(t,e=!1){return ss||(ss=document.createElement("div")),e?(ss.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,ss.children[0].getAttribute("foo")):(ss.innerHTML=t,ss.textContent)}const $S={parseMode:"html",isVoidTag:FS,isNativeTag:t=>DS(t)||MS(t)||BS(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:LS,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return g2;if(t==="TransitionGroup"||t==="transition-group")return v2},getNamespace(t,e,r){let n=e?e.ns:r;if(e&&n===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(n=0);else e&&n===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(n=0);if(n===0){if(t==="svg")return 1;if(t==="math")return 2}return n}},US=t=>{t.type===1&&t.props.forEach((e,r)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[r]={type:7,name:"bind",arg:Qe("style",!0,e.loc),exp:VS(e.value.content,e.loc),modifiers:[],loc:e.loc})})},VS=(t,e)=>{const r=OS(t);return Qe(JSON.stringify(r),!1,e,3)};function Zi(t,e){return Pt(t,e)}const jS=(t,e,r)=>{const{exp:n,loc:i}=t;return n||r.onError(Zi(54,i)),e.children.length&&(r.onError(Zi(55,i)),e.children.length=0),{props:[Zt(Qe("innerHTML",!0,i),n||Qe("",!0))]}},HS=(t,e,r)=>{const{exp:n,loc:i}=t;return n||r.onError(Zi(56,i)),e.children.length&&(r.onError(Zi(57,i)),e.children.length=0),{props:[Zt(Qe("textContent",!0),n?dn(n,r)>0?n:or(r.helperString(Oc),[n],i):Qe("",!0))]}},WS=(t,e,r)=>{const n=a2(t,e,r);if(!n.props.length||e.tagType===1)return n;t.arg&&r.onError(Zi(59,t.arg.loc));const{tag:i}=e,o=r.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||o){let s=c2,a=!1;if(i==="input"||o){const l=kc(e,"type");if(l){if(l.type===7)s=Yd;else if(l.value)switch(l.value.content){case"radio":s=l2;break;case"checkbox":s=u2;break;case"file":a=!0,r.onError(Zi(60,t.loc));break}}else dE(e)&&(s=Yd)}else i==="select"&&(s=f2);a||(n.needRuntime=r.helper(s))}else r.onError(Zi(58,t.loc));return n.props=n.props.filter(s=>!(s.key.type===4&&s.key.content==="modelValue")),n},KS=lo("passive,once,capture"),qS=lo("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),GS=lo("left,right"),y2=lo("onkeyup,onkeydown,onkeypress"),zS=(t,e,r,n)=>{const i=[],o=[],s=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&qa("COMPILER_V_ON_NATIVE",r)||KS(l)?s.push(l):GS(l)?rn(t)?y2(t.content.toLowerCase())?i.push(l):o.push(l):(i.push(l),o.push(l)):qS(l)?o.push(l):i.push(l)}return{keyModifiers:i,nonKeyModifiers:o,eventOptionModifiers:s}},Zp=(t,e)=>rn(t)&&t.content.toLowerCase()==="onclick"?Qe(e,!0):t.type!==4?jn(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,XS=(t,e,r)=>s2(t,e,r,n=>{const{modifiers:i}=t;if(!i.length)return n;let{key:o,value:s}=n.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:u}=zS(o,i,r,t.loc);if(l.includes("right")&&(o=Zp(o,"onContextmenu")),l.includes("middle")&&(o=Zp(o,"onMouseup")),l.length&&(s=or(r.helper(d2),[s,JSON.stringify(l)])),a.length&&(!rn(o)||y2(o.content.toLowerCase()))&&(s=or(r.helper(h2),[s,JSON.stringify(a)])),u.length){const f=u.map(ES).join("");o=rn(o)?Qe(`${o.content}${f}`,!0):jn(["(",o,`) + "${f}"`])}return{props:[Zt(o,s)]}}),YS=(t,e,r)=>{const{exp:n,loc:i}=t;return n||r.onError(Zi(62,i)),{props:[],needRuntime:r.helper(p2)}},ZS=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},JS=[US],QS={cloak:AS,html:jS,text:HS,model:WS,on:XS,show:YS};function e8(t,e={}){return wS(t,Yp({},$S,e,{nodeTransforms:[ZS,...JS,...e.nodeTransforms||[]],directiveTransforms:Yp({},QS,e.directiveTransforms||{}),transformHoist:null}))}const Jp=()=>{},t8=Object.assign,r8=t=>typeof t=="string";function n8(t,e){return t+JSON.stringify(e,(r,n)=>typeof n=="function"?n.toString():n)}const Qp=Object.create(null);function i8(t,e){if(!r8(t))if(t.nodeType)t=t.innerHTML;else return Jp;const r=n8(t,e),n=Qp[r];if(n)return n;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const i=t8({hoistStatic:!0,onError:void 0,onWarn:Jp},e);!i.isCustomElement&&typeof customElements<"u"&&(i.isCustomElement=a=>!!customElements.get(a));const{code:o}=e8(t,i),s=new Function("Vue",o)(HC);return s._rc=!0,Qp[r]=s}Xm(i8);function m2(t,e){return function(){return t.apply(e,arguments)}}const{toString:o8}=Object.prototype,{getPrototypeOf:Rh}=Object,{iterator:Pc,toStringTag:x2}=Symbol,Dc=(t=>e=>{const r=o8.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),qn=t=>(t=t.toLowerCase(),e=>Dc(e)===t),Mc=t=>e=>typeof e===t,{isArray:Ks}=Array,Ms=Mc("undefined");function al(t){return t!==null&&!Ms(t)&&t.constructor!==null&&!Ms(t.constructor)&&on(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const b2=qn("ArrayBuffer");function s8(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&b2(t.buffer),e}const a8=Mc("string"),on=Mc("function"),_2=Mc("number"),ll=t=>t!==null&&typeof t=="object",l8=t=>t===!0||t===!1,yu=t=>{if(Dc(t)!=="object")return!1;const e=Rh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(x2 in t)&&!(Pc in t)},u8=t=>{if(!ll(t)||al(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},c8=qn("Date"),f8=qn("File"),d8=qn("Blob"),h8=qn("FileList"),p8=t=>ll(t)&&on(t.pipe),g8=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||on(t.append)&&((e=Dc(t))==="formdata"||e==="object"&&on(t.toString)&&t.toString()==="[object FormData]"))},v8=qn("URLSearchParams"),[y8,m8,x8,b8]=["ReadableStream","Request","Response","Headers"].map(qn),_8=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ul(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Ks(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(al(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function w2(t,e){if(al(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,A2=t=>!Ms(t)&&t!==Io;function Zd(){const{caseless:t,skipUndefined:e}=A2(this)&&this||{},r={},n=(i,o)=>{const s=t&&w2(r,o)||o;yu(r[s])&&yu(i)?r[s]=Zd(r[s],i):yu(i)?r[s]=Zd({},i):Ks(i)?r[s]=i.slice():(!e||!Ms(i))&&(r[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&ul(arguments[i],n);return r}const w8=(t,e,r,{allOwnKeys:n}={})=>(ul(e,(i,o)=>{r&&on(i)?t[o]=m2(i,r):t[o]=i},{allOwnKeys:n}),t),A8=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),C8=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},E8=(t,e,r,n)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&Rh(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},S8=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},I8=t=>{if(!t)return null;if(Ks(t))return t;let e=t.length;if(!_2(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},T8=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Rh(Uint8Array)),O8=(t,e)=>{const n=(t&&t[Pc]).call(t);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},k8=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},N8=qn("HTMLFormElement"),R8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),eg=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),P8=qn("RegExp"),C2=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ul(r,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(n[o]=s||i)}),Object.defineProperties(t,n)},D8=t=>{C2(t,(e,r)=>{if(on(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(on(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},M8=(t,e)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Ks(t)?n(t):n(String(t).split(e)),r},B8=()=>{},F8=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function L8(t){return!!(t&&on(t.append)&&t[x2]==="FormData"&&t[Pc])}const $8=t=>{const e=new Array(10),r=(n,i)=>{if(ll(n)){if(e.indexOf(n)>=0)return;if(al(n))return n;if(!("toJSON"in n)){e[i]=n;const o=Ks(n)?[]:{};return ul(n,(s,a)=>{const l=r(s,i+1);!Ms(l)&&(o[a]=l)}),e[i]=void 0,o}}return n};return r(t,0)},U8=qn("AsyncFunction"),V8=t=>t&&(ll(t)||on(t))&&on(t.then)&&on(t.catch),E2=((t,e)=>t?setImmediate:e?((r,n)=>(Io.addEventListener("message",({source:i,data:o})=>{i===Io&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Io.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",on(Io.postMessage)),j8=typeof queueMicrotask<"u"?queueMicrotask.bind(Io):typeof process<"u"&&process.nextTick||E2,H8=t=>t!=null&&on(t[Pc]),se={isArray:Ks,isArrayBuffer:b2,isBuffer:al,isFormData:g8,isArrayBufferView:s8,isString:a8,isNumber:_2,isBoolean:l8,isObject:ll,isPlainObject:yu,isEmptyObject:u8,isReadableStream:y8,isRequest:m8,isResponse:x8,isHeaders:b8,isUndefined:Ms,isDate:c8,isFile:f8,isBlob:d8,isRegExp:P8,isFunction:on,isStream:p8,isURLSearchParams:v8,isTypedArray:T8,isFileList:h8,forEach:ul,merge:Zd,extend:w8,trim:_8,stripBOM:A8,inherits:C8,toFlatObject:E8,kindOf:Dc,kindOfTest:qn,endsWith:S8,toArray:I8,forEachEntry:O8,matchAll:k8,isHTMLForm:N8,hasOwnProperty:eg,hasOwnProp:eg,reduceDescriptors:C2,freezeMethods:D8,toObjectSet:M8,toCamelCase:R8,noop:B8,toFiniteNumber:F8,findKey:w2,global:Io,isContextDefined:A2,isSpecCompliantForm:L8,toJSONObject:$8,isAsyncFn:U8,isThenable:V8,setImmediate:E2,asap:j8,isIterable:H8};function Je(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const S2=Je.prototype,I2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{I2[t]={value:t}});Object.defineProperties(Je,I2);Object.defineProperty(S2,"isAxiosError",{value:!0});Je.from=(t,e,r,n,i,o)=>{const s=Object.create(S2);se.toFlatObject(t,s,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Je.call(s,a,l,r,n,i),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",o&&Object.assign(s,o),s};const W8=null;function Jd(t){return se.isPlainObject(t)||se.isArray(t)}function T2(t){return se.endsWith(t,"[]")?t.slice(0,-2):t}function tg(t,e,r){return t?t.concat(e).map(function(i,o){return i=T2(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function K8(t){return se.isArray(t)&&!t.some(Jd)}const q8=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function Bc(t,e,r){if(!se.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,x){return!se.isUndefined(x[b])});const n=r.metaTokens,i=r.visitor||f,o=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(se.isDate(y))return y.toISOString();if(se.isBoolean(y))return y.toString();if(!l&&se.isBlob(y))throw new Je("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(y)||se.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,b,x){let w=y;if(y&&!x&&typeof y=="object"){if(se.endsWith(b,"{}"))b=n?b:b.slice(0,-2),y=JSON.stringify(y);else if(se.isArray(y)&&K8(y)||(se.isFileList(y)||se.endsWith(b,"[]"))&&(w=se.toArray(y)))return b=T2(b),w.forEach(function(_,E){!(se.isUndefined(_)||_===null)&&e.append(s===!0?tg([b],E,o):s===null?b:b+"[]",u(_))}),!1}return Jd(y)?!0:(e.append(tg(x,b,o),u(y)),!1)}const d=[],p=Object.assign(q8,{defaultVisitor:f,convertValue:u,isVisitable:Jd});function v(y,b){if(!se.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));d.push(y),se.forEach(y,function(w,C){(!(se.isUndefined(w)||w===null)&&i.call(e,w,se.isString(C)?C.trim():C,b,p))===!0&&v(w,b?b.concat(C):[C])}),d.pop()}}if(!se.isObject(t))throw new TypeError("data must be an object");return v(t),e}function rg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Ph(t,e){this._pairs=[],t&&Bc(t,this,e)}const O2=Ph.prototype;O2.append=function(e,r){this._pairs.push([e,r])};O2.toString=function(e){const r=e?function(n){return e.call(this,n,rg)}:rg;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function G8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function k2(t,e,r){if(!e)return t;const n=r&&r.encode||G8;se.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(i?o=i(e,r):o=se.isURLSearchParams(e)?e.toString():new Ph(e,r).toString(n),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class ng{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(n){n!==null&&e(n)})}}const N2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},z8=typeof URLSearchParams<"u"?URLSearchParams:Ph,X8=typeof FormData<"u"?FormData:null,Y8=typeof Blob<"u"?Blob:null,Z8={isBrowser:!0,classes:{URLSearchParams:z8,FormData:X8,Blob:Y8},protocols:["http","https","file","blob","url","data"]},Dh=typeof window<"u"&&typeof document<"u",Qd=typeof navigator=="object"&&navigator||void 0,J8=Dh&&(!Qd||["ReactNative","NativeScript","NS"].indexOf(Qd.product)<0),Q8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",e6=Dh&&window.location.href||"http://localhost",t6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dh,hasStandardBrowserEnv:J8,hasStandardBrowserWebWorkerEnv:Q8,navigator:Qd,origin:e6},Symbol.toStringTag,{value:"Module"})),Mr={...t6,...Z8};function r6(t,e){return Bc(t,new Mr.classes.URLSearchParams,{visitor:function(r,n,i,o){return Mr.isNode&&se.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function n6(t){return se.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function i6(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function R2(t){function e(r,n,i,o){let s=r[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=r.length;return s=!s&&se.isArray(i)?i.length:s,l?(se.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!se.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&se.isArray(i[s])&&(i[s]=i6(i[s])),!a)}if(se.isFormData(t)&&se.isFunction(t.entries)){const r={};return se.forEachEntry(t,(n,i)=>{e(n6(n),i,r,0)}),r}return null}function o6(t,e,r){if(se.isString(t))try{return(e||JSON.parse)(t),se.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const cl={transitional:N2,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=se.isObject(e);if(o&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return i?JSON.stringify(R2(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return r6(e,this.formSerializer).toString();if((a=se.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Bc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),o6(e)):e}],transformResponse:[function(e){const r=this.transitional||cl.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?Je.from(a,Je.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mr.classes.FormData,Blob:Mr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],t=>{cl.headers[t]={}});const s6=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),a6=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&s6[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},ig=Symbol("internals");function ca(t){return t&&String(t).trim().toLowerCase()}function mu(t){return t===!1||t==null?t:se.isArray(t)?t.map(mu):String(t)}function l6(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const u6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jf(t,e,r,n,i){if(se.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!se.isString(e)){if(se.isString(n))return e.indexOf(n)!==-1;if(se.isRegExp(n))return n.test(e)}}function c6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function f6(t,e){const r=se.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}let sn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function o(a,l,u){const f=ca(l);if(!f)throw new Error("header name must be a non-empty string");const d=se.findKey(i,f);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=mu(a))}const s=(a,l)=>se.forEach(a,(u,f)=>o(u,f,l));if(se.isPlainObject(e)||e instanceof this.constructor)s(e,r);else if(se.isString(e)&&(e=e.trim())&&!u6(e))s(a6(e),r);else if(se.isObject(e)&&se.isIterable(e)){let a={},l,u;for(const f of e){if(!se.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[u=f[0]]=(l=a[u])?se.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}s(a,r)}else e!=null&&o(r,e,n);return this}get(e,r){if(e=ca(e),e){const n=se.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return l6(i);if(se.isFunction(r))return r.call(this,i,n);if(se.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ca(e),e){const n=se.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||jf(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function o(s){if(s=ca(s),s){const a=se.findKey(n,s);a&&(!r||jf(n,n[a],a,r))&&(delete n[a],i=!0)}}return se.isArray(e)?e.forEach(o):o(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!e||jf(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const r=this,n={};return se.forEach(this,(i,o)=>{const s=se.findKey(n,o);if(s){r[s]=mu(i),delete r[o];return}const a=e?c6(o):String(o).trim();a!==o&&delete r[o],r[a]=mu(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return se.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&se.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[ig]=this[ig]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=ca(s);n[a]||(f6(i,s),n[a]=!0)}return se.isArray(e)?e.forEach(o):o(e),this}};sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(sn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});se.freezeMethods(sn);function Hf(t,e){const r=this||cl,n=e||r,i=sn.from(n.headers);let o=n.data;return se.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function P2(t){return!!(t&&t.__CANCEL__)}function qs(t,e,r){Je.call(this,t??"canceled",Je.ERR_CANCELED,e,r),this.name="CanceledError"}se.inherits(qs,Je,{__CANCEL__:!0});function D2(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Je("Request failed with status code "+r.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function d6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function h6(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=n[o];s||(s=u),r[i]=l,n[i]=u;let d=o,p=0;for(;d!==i;)p+=r[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const v=f&&u-f;return v?Math.round(p*1e3/v):void 0}}function p6(t,e){let r=0,n=1e3/e,i,o;const s=(u,f=Date.now())=>{r=f,i=null,o&&(clearTimeout(o),o=null),t(...u)};return[(...u)=>{const f=Date.now(),d=f-r;d>=n?s(u,f):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},n-d)))},()=>i&&s(i)]}const Ju=(t,e,r=3)=>{let n=0;const i=h6(50,250);return p6(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-n,u=i(l),f=s<=a;n=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&f?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},r)},og=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},sg=t=>(...e)=>se.asap(()=>t(...e)),g6=Mr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Mr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Mr.origin),Mr.navigator&&/(msie|trident)/i.test(Mr.navigator.userAgent)):()=>!0,v6=Mr.hasStandardBrowserEnv?{write(t,e,r,n,i,o,s){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];se.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),se.isString(n)&&a.push(`path=${n}`),se.isString(i)&&a.push(`domain=${i}`),o===!0&&a.push("secure"),se.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function y6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function m6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function M2(t,e,r){let n=!y6(e);return t&&(n||r==!1)?m6(t,e):e}const ag=t=>t instanceof sn?{...t}:t;function Go(t,e){e=e||{};const r={};function n(u,f,d,p){return se.isPlainObject(u)&&se.isPlainObject(f)?se.merge.call({caseless:p},u,f):se.isPlainObject(f)?se.merge({},f):se.isArray(f)?f.slice():f}function i(u,f,d,p){if(se.isUndefined(f)){if(!se.isUndefined(u))return n(void 0,u,d,p)}else return n(u,f,d,p)}function o(u,f){if(!se.isUndefined(f))return n(void 0,f)}function s(u,f){if(se.isUndefined(f)){if(!se.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function a(u,f,d){if(d in e)return n(u,f);if(d in t)return n(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,f,d)=>i(ag(u),ag(f),d,!0)};return se.forEach(Object.keys({...t,...e}),function(f){const d=l[f]||i,p=d(t[f],e[f],f);se.isUndefined(p)&&d!==a||(r[f]=p)}),r}const B2=t=>{const e=Go({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;if(e.headers=s=sn.from(s),e.url=k2(M2(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),se.isFormData(r)){if(Mr.hasStandardBrowserEnv||Mr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(se.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([f,d])=>{u.includes(f.toLowerCase())&&s.set(f,d)})}}if(Mr.hasStandardBrowserEnv&&(n&&se.isFunction(n)&&(n=n(e)),n||n!==!1&&g6(e.url))){const l=i&&o&&v6.read(o);l&&s.set(i,l)}return e},x6=typeof XMLHttpRequest<"u",b6=x6&&function(t){return new Promise(function(r,n){const i=B2(t);let o=i.data;const s=sn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,f,d,p,v,y;function b(){v&&v(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function w(){if(!x)return;const _=sn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:_,config:t,request:x};D2(function(T){r(T),b()},function(T){n(T),b()},N),x=null}"onloadend"in x?x.onloadend=w:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(w)},x.onabort=function(){x&&(n(new Je("Request aborted",Je.ECONNABORTED,t,x)),x=null)},x.onerror=function(E){const N=E&&E.message?E.message:"Network Error",M=new Je(N,Je.ERR_NETWORK,t,x);M.event=E||null,n(M),x=null},x.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||N2;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),n(new Je(E,N.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,t,x)),x=null},o===void 0&&s.setContentType(null),"setRequestHeader"in x&&se.forEach(s.toJSON(),function(E,N){x.setRequestHeader(N,E)}),se.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),a&&a!=="json"&&(x.responseType=i.responseType),u&&([p,y]=Ju(u,!0),x.addEventListener("progress",p)),l&&x.upload&&([d,v]=Ju(l),x.upload.addEventListener("progress",d),x.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(f=_=>{x&&(n(!_||_.type?new qs(null,t,x):_),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const C=d6(i.url);if(C&&Mr.protocols.indexOf(C)===-1){n(new Je("Unsupported protocol "+C+":",Je.ERR_BAD_REQUEST,t));return}x.send(o||null)})},_6=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const o=function(u){if(!i){i=!0,a();const f=u instanceof Error?u:this.reason;n.abort(f instanceof Je?f:new qs(f instanceof Error?f.message:f))}};let s=e&&setTimeout(()=>{s=null,o(new Je(`timeout ${e} of ms exceeded`,Je.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:l}=n;return l.unsubscribe=()=>se.asap(a),l}},w6=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},A6=async function*(t,e){for await(const r of C6(t))yield*w6(r,e)},C6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},lg=(t,e,r,n)=>{const i=A6(t,e);let o=0,s,a=l=>{s||(s=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await i.next();if(u){a(),l.close();return}let d=f.byteLength;if(r){let p=o+=d;r(p)}l.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},ug=64*1024,{isFunction:eu}=se,E6=(({Request:t,Response:e})=>({Request:t,Response:e}))(se.global),{ReadableStream:cg,TextEncoder:fg}=se.global,dg=(t,...e)=>{try{return!!t(...e)}catch{return!1}},S6=t=>{t=se.merge.call({skipUndefined:!0},E6,t);const{fetch:e,Request:r,Response:n}=t,i=e?eu(e):typeof fetch=="function",o=eu(r),s=eu(n);if(!i)return!1;const a=i&&eu(cg),l=i&&(typeof fg=="function"?(y=>b=>y.encode(b))(new fg):async y=>new Uint8Array(await new r(y).arrayBuffer())),u=o&&a&&dg(()=>{let y=!1;const b=new r(Mr.origin,{body:new cg,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),f=s&&a&&dg(()=>se.isReadableStream(new n("").body)),d={stream:f&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!d[y]&&(d[y]=(b,x)=>{let w=b&&b[y];if(w)return w.call(b);throw new Je(`Response type '${y}' is not supported`,Je.ERR_NOT_SUPPORT,x)})});const p=async y=>{if(y==null)return 0;if(se.isBlob(y))return y.size;if(se.isSpecCompliantForm(y))return(await new r(Mr.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(se.isArrayBufferView(y)||se.isArrayBuffer(y))return y.byteLength;if(se.isURLSearchParams(y)&&(y=y+""),se.isString(y))return(await l(y)).byteLength},v=async(y,b)=>{const x=se.toFiniteNumber(y.getContentLength());return x??p(b)};return async y=>{let{url:b,method:x,data:w,signal:C,cancelToken:_,timeout:E,onDownloadProgress:N,onUploadProgress:M,responseType:T,headers:I,withCredentials:k="same-origin",fetchOptions:V}=B2(y),ue=e||fetch;T=T?(T+"").toLowerCase():"text";let W=_6([C,_&&_.toAbortSignal()],E),D=null;const re=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let De;try{if(M&&u&&x!=="get"&&x!=="head"&&(De=await v(I,w))!==0){let Et=new r(b,{method:"POST",body:w,duplex:"half"}),$t;if(se.isFormData(w)&&($t=Et.headers.get("content-type"))&&I.setContentType($t),Et.body){const[$r,Nn]=og(De,Ju(sg(M)));w=lg(Et.body,ug,$r,Nn)}}se.isString(k)||(k=k?"include":"omit");const be=o&&"credentials"in r.prototype,Pe={...V,signal:W,method:x.toUpperCase(),headers:I.normalize().toJSON(),body:w,duplex:"half",credentials:be?k:void 0};D=o&&new r(b,Pe);let me=await(o?ue(D,V):ue(b,Pe));const ze=f&&(T==="stream"||T==="response");if(f&&(N||ze&&re)){const Et={};["status","statusText","headers"].forEach(vn=>{Et[vn]=me[vn]});const $t=se.toFiniteNumber(me.headers.get("content-length")),[$r,Nn]=N&&og($t,Ju(sg(N),!0))||[];me=new n(lg(me.body,ug,$r,()=>{Nn&&Nn(),re&&re()}),Et)}T=T||"text";let Mt=await d[se.findKey(d,T)||"text"](me,y);return!ze&&re&&re(),await new Promise((Et,$t)=>{D2(Et,$t,{data:Mt,headers:sn.from(me.headers),status:me.status,statusText:me.statusText,config:y,request:D})})}catch(be){throw re&&re(),be&&be.name==="TypeError"&&/Load failed|fetch/i.test(be.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,y,D),{cause:be.cause||be}):Je.from(be,be&&be.code,y,D)}}},I6=new Map,F2=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,o=[n,i,r];let s=o.length,a=s,l,u,f=I6;for(;a--;)l=o[a],u=f.get(l),u===void 0&&f.set(l,u=a?new Map:S6(e)),f=u;return u};F2();const Mh={http:W8,xhr:b6,fetch:{get:F2}};se.forEach(Mh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hg=t=>`- ${t}`,T6=t=>se.isFunction(t)||t===null||t===!1;function O6(t,e){t=se.isArray(t)?t:[t];const{length:r}=t;let n,i;const o={};for(let s=0;s<r;s++){n=t[s];let a;if(i=n,!T6(n)&&(i=Mh[(a=String(n)).toLowerCase()],i===void 0))throw new Je(`Unknown adapter '${a}'`);if(i&&(se.isFunction(i)||(i=i.get(e))))break;o[a||"#"+s]=i}if(!i){const s=Object.entries(o).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=r?s.length>1?`since :
`+s.map(hg).join(`
`):" "+hg(s[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const L2={getAdapter:O6,adapters:Mh};function Wf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qs(null,t)}function pg(t){return Wf(t),t.headers=sn.from(t.headers),t.data=Hf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),L2.getAdapter(t.adapter||cl.adapter,t)(t).then(function(n){return Wf(t),n.data=Hf.call(t,t.transformResponse,n),n.headers=sn.from(n.headers),n},function(n){return P2(n)||(Wf(t),n&&n.response&&(n.response.data=Hf.call(t,t.transformResponse,n.response),n.response.headers=sn.from(n.response.headers))),Promise.reject(n)})}const $2="1.13.2",Fc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fc[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const gg={};Fc.transitional=function(e,r,n){function i(o,s){return"[Axios v"+$2+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new Je(i(s," has been removed"+(r?" in "+r:"")),Je.ERR_DEPRECATED);return r&&!gg[s]&&(gg[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};Fc.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function k6(t,e,r){if(typeof t!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Je("option "+o+" must be "+l,Je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Je("Unknown option "+o,Je.ERR_BAD_OPTION)}}const xu={assertOptions:k6,validators:Fc},Jn=xu.validators;let $o=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ng,response:new ng}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Go(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&xu.assertOptions(n,{silentJSONParsing:Jn.transitional(Jn.boolean),forcedJSONParsing:Jn.transitional(Jn.boolean),clarifyTimeoutError:Jn.transitional(Jn.boolean)},!1),i!=null&&(se.isFunction(i)?r.paramsSerializer={serialize:i}:xu.assertOptions(i,{encode:Jn.function,serialize:Jn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),xu.assertOptions(r,{baseUrl:Jn.spelling("baseURL"),withXsrfToken:Jn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&se.merge(o.common,o[r.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),r.headers=sn.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let f,d=0,p;if(!l){const y=[pg.bind(this),void 0];for(y.unshift(...a),y.push(...u),p=y.length,f=Promise.resolve(r);d<p;)f=f.then(y[d++],y[d++]);return f}p=a.length;let v=r;for(;d<p;){const y=a[d++],b=a[d++];try{v=y(v)}catch(x){b.call(this,x);break}}try{f=pg.call(this,v)}catch(y){return Promise.reject(y)}for(d=0,p=u.length;d<p;)f=f.then(u[d++],u[d++]);return f}getUri(e){e=Go(this.defaults,e);const r=M2(e.baseURL,e.url,e.allowAbsoluteUrls);return k2(r,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){$o.prototype[e]=function(r,n){return this.request(Go(n||{},{method:e,url:r,data:(n||{}).data}))}});se.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(Go(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}$o.prototype[e]=r(),$o.prototype[e+"Form"]=r(!0)});let N6=class U2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new qs(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new U2(function(i){e=i}),cancel:e}}};function R6(t){return function(r){return t.apply(null,r)}}function P6(t){return se.isObject(t)&&t.isAxiosError===!0}const e0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(e0).forEach(([t,e])=>{e0[e]=t});function V2(t){const e=new $o(t),r=m2($o.prototype.request,e);return se.extend(r,$o.prototype,e,{allOwnKeys:!0}),se.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return V2(Go(t,i))},r}const st=V2(cl);st.Axios=$o;st.CanceledError=qs;st.CancelToken=N6;st.isCancel=P2;st.VERSION=$2;st.toFormData=Bc;st.AxiosError=Je;st.Cancel=st.CanceledError;st.all=function(e){return Promise.all(e)};st.spread=R6;st.isAxiosError=P6;st.mergeConfig=Go;st.AxiosHeaders=sn;st.formToJSON=t=>R2(se.isHTMLForm(t)?new FormData(t):t);st.getAdapter=L2.getAdapter;st.HttpStatusCode=e0;st.default=st;const{Axios:hj,AxiosError:pj,CanceledError:gj,isCancel:vj,CancelToken:yj,VERSION:mj,all:xj,Cancel:bj,isAxiosError:_j,spread:wj,toFormData:Aj,AxiosHeaders:Cj,HttpStatusCode:Ej,formToJSON:Sj,getAdapter:Ij,mergeConfig:Tj}=st,Bh=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},D6={props:{initialStatus:{type:Boolean,required:!0},hasFeature:{type:Boolean,required:!0},tenantSlug:{type:String,required:!0}},data(){return{isEnabled:this.initialStatus,canAccessStorefrontFeature:this.hasFeature,showWarning:!1,isProcessing:!1}},methods:{handleToggle(){this.isProcessing||(this.isEnabled?this.showWarning=!0:this.confirmToggle())},async confirmToggle(){this.isProcessing=!0,this.showWarning=!1;try{const t=await st.post(`/${this.tenantSlug}/api/tenant/settings/toggle-storefront`);this.isEnabled=t.data.enabled,this.isEnabled&&(window.location.href=`/${this.tenantSlug}/admin/wizard`)}catch(t){console.error("Failed to toggle storefront:",t),t.response&&t.response.status===403?alert("You do not have permission to access this feature."):alert("An error occurred. Please try again.")}finally{this.isProcessing=!1}}}},M6={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden mt-6"},B6={class:"p-6"},F6={class:"flex items-center justify-between"},L6={class:"text-sm text-gray-600"},$6={class:"flex items-center"},U6=["aria-checked"],V6={class:"ml-3 text-sm font-medium text-gray-900"},j6={key:0,class:"mt-4 p-4 bg-amber-50 rounded-xl border border-amber-200"},H6={class:"flex"},W6={class:"ml-3"},K6={class:"mt-4 flex space-x-3"};function q6(t,e,r,n,i,o){return i.canAccessStorefrontFeature?(B(),F("div",M6,[e[9]||(e[9]=c("div",{class:"px-6 py-4 border-b border-gray-100 bg-gray-50/50"},[c("h3",{class:"text-lg font-bold text-gray-900"},"Storefront Visibility"),c("p",{class:"text-sm text-gray-500"},"Enable or disable your public-facing online store.")],-1)),c("div",B6,[c("div",F6,[c("div",null,[e[5]||(e[5]=c("h4",{class:"text-sm font-bold text-gray-700 uppercase tracking-wide mb-1"},"Status",-1)),c("p",L6,[e[3]||(e[3]=$e(" Your store is currently ",-1)),c("strong",null,j(i.isEnabled?"Online":"Offline"),1),e[4]||(e[4]=$e(". ",-1))])]),c("div",$6,[c("button",{type:"button",onClick:e[0]||(e[0]=(...s)=>o.handleToggle&&o.handleToggle(...s)),class:Ue([i.isEnabled?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"]),role:"switch","aria-checked":i.isEnabled},[c("span",{class:Ue([i.isEnabled?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)],10,U6),c("span",V6,j(i.isEnabled?"Enabled":"Disabled"),1)])]),i.showWarning?(B(),F("div",j6,[c("div",H6,[e[8]||(e[8]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),c("div",W6,[e[6]||(e[6]=c("p",{class:"text-sm text-amber-700 font-bold"}," Warning: Disabling this will take your public store offline. ",-1)),e[7]||(e[7]=c("div",{class:"mt-2 text-sm text-amber-600"}," Customers will not be able to browse products or place orders until re-enabled. ",-1)),c("div",K6,[c("button",{onClick:e[1]||(e[1]=(...s)=>o.confirmToggle&&o.confirmToggle(...s)),class:"bg-amber-100 hover:bg-amber-200 text-amber-800 px-3 py-1.5 rounded-lg text-xs font-bold transition"}," Disable Anyway "),c("button",{onClick:e[2]||(e[2]=s=>i.showWarning=!1),class:"text-amber-800 px-3 py-1.5 rounded-lg text-xs font-bold transition"}," Cancel ")])])])])):_e("",!0)])])):_e("",!0)}const j2=Bh(D6,[["render",q6]]),G6={name:"PurchaseOrderForm",props:{suppliers:{type:Array,required:!0},warehouses:{type:Array,required:!0},products:{type:Array,required:!0},taxCodes:{type:Array,required:!0},initialData:{type:Object,default:null},submitUrl:{type:String,required:!0},redirectUrl:{type:String,required:!0},method:{type:String,default:"POST"},currency:{type:String,default:"â‚¦"}},data(){return{isSubmitting:!1,error:null,form:{supplier_id:"",warehouse_id:"",order_date:new Date().toISOString().substr(0,10),expected_delivery_date:"",notes:"",discount:0,shipping:0,items:[{product_id:"",quantity:1,unit_cost:0,tax_code_id:""}]}}},mounted(){this.initialData&&Object.assign(this.form,{...this.initialData,items:this.initialData.items?this.initialData.items.map(t=>({id:t.id,product_id:t.product_id,quantity:t.quantity_ordered,unit_cost:parseFloat(t.unit_cost)||0,tax_code_id:t.tax_code_id||""})):this.form.items})},methods:{handleProductChange(t){const e=this.form.items[t],r=this.products.find(n=>n.id===e.product_id);r&&(e.unit_cost=parseFloat(r.cost_price)||0)},addItem(){this.form.items.push({product_id:"",quantity:1,unit_cost:0,tax_code_id:""})},removeItem(t){this.form.items.length>1&&this.form.items.splice(t,1)},calculateRowTotal(t){const e=parseFloat(t.quantity)||0,r=parseFloat(t.unit_cost)||0,n=e*r,i=this.getTaxRate(t.tax_code_id);return n+n*(i/100)},getTaxRate(t){const e=this.taxCodes.find(r=>r.id===t);return e?parseFloat(e.rate):0},formatCurrency(t){return this.currency+(parseFloat(t)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},async handleSubmit(){this.isSubmitting=!0,this.error=null;try{const t={...this.form};this.method==="PUT"&&(t._method="PUT");const e=await st.post(this.submitUrl,t);if(e.status<300)window.location.href=this.redirectUrl;else throw new Error(e.data.message||"Error")}catch(t){this.error=t.response?.data?.message||"Check form inputs and try again."}finally{this.isSubmitting=!1}}},computed:{totals(){let t=0,e=0;this.form.items.forEach(n=>{const i=(parseFloat(n.quantity)||0)*(parseFloat(n.unit_cost)||0);t+=i,e+=i*(this.getTaxRate(n.tax_code_id)/100)});const r=Math.max(0,t-(parseFloat(this.form.discount)||0)+e+(parseFloat(this.form.shipping)||0));return{subtotal:t,tax:e,total:r}}}},z6={class:"purchase-order-form-container"},X6={key:0,class:"mb-6 p-5 bg-red-50 border-l-4 border-red-500 rounded-xl flex items-center justify-between shadow-sm"},Y6={class:"flex items-center"},Z6=["textContent"],J6={class:"grid grid-cols-1 md:grid-cols-2 gap-8 bg-white p-8 rounded-3xl border border-gray-100 shadow-sm"},Q6={class:"space-y-2"},e5=["value","textContent"],t5={class:"space-y-2"},r5=["value","textContent"],n5={class:"space-y-2"},i5={class:"space-y-2"},o5={class:"space-y-2"},s5={class:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden"},a5={class:"px-8 py-6 border-b border-gray-100 bg-gray-50/50 flex justify-between items-center"},l5={class:"p-8 space-y-6"},u5={class:"col-span-12 lg:col-span-4 space-y-2"},c5=["onUpdate:modelValue","onChange"],f5=["value","textContent"],d5={class:"col-span-4 lg:col-span-2 space-y-2"},h5=["onUpdate:modelValue"],p5={class:"col-span-4 lg:col-span-2 space-y-2"},g5=["onUpdate:modelValue"],v5={class:"col-span-4 lg:col-span-2 space-y-2"},y5=["onUpdate:modelValue"],m5=["value","textContent"],x5={class:"col-span-12 lg:col-span-2 flex items-center justify-end gap-3"},b5={class:"text-right"},_5=["textContent"],w5=["onClick","disabled"],A5={class:"flex justify-end pt-4"},C5={class:"w-full md:w-80 bg-white rounded-3xl p-8 border-2 border-indigo-50 space-y-4 shadow-sm"},E5={class:"flex justify-between items-center text-sm font-bold text-gray-500"},S5=["textContent"],I5={class:"flex justify-between items-center text-sm font-bold text-gray-500"},T5={class:"flex justify-between items-center text-sm font-bold text-gray-500"},O5=["textContent"],k5={class:"flex justify-between items-center text-sm font-bold text-gray-500"},N5={class:"pt-4 border-t-2 border-indigo-50 flex justify-between items-center"},R5=["textContent"],P5={class:"pt-8 flex justify-end"},D5=["disabled"],M5=["textContent"];function B5(t,e,r,n,i,o){return B(),F("div",z6,[i.error?(B(),F("div",X6,[c("div",Y6,[e[10]||(e[10]=c("svg",{class:"w-6 h-6 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),c("div",{class:"text-red-700 font-bold",textContent:j(i.error)},null,8,Z6)]),c("button",{onClick:e[0]||(e[0]=s=>i.error=null),class:"text-red-500 hover:text-red-700 font-black text-2xl",type:"button"},"Ã—")])):_e("",!0),c("form",{onSubmit:e[9]||(e[9]=In((...s)=>o.handleSubmit&&o.handleSubmit(...s),["prevent"])),class:"space-y-8"},[c("div",J6,[c("div",Q6,[e[12]||(e[12]=c("label",{class:"block text-sm font-bold text-gray-500 uppercase tracking-widest"},"Supplier",-1)),le(c("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.form.supplier_id=s),required:"",class:"w-full rounded-2xl border-2 border-gray-100 bg-gray-50/30 px-4 py-3 text-base font-bold text-gray-800 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none"},[e[11]||(e[11]=c("option",{value:""},"Select Supplier",-1)),(B(!0),F(Re,null,Ke(r.suppliers,s=>(B(),F("option",{key:s.id,value:s.id,textContent:j(s.name)},null,8,e5))),128))],512),[[jt,i.form.supplier_id]])]),c("div",t5,[e[14]||(e[14]=c("label",{class:"block text-sm font-bold text-gray-500 uppercase tracking-widest"},"Destination Warehouse",-1)),le(c("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>i.form.warehouse_id=s),required:"",class:"w-full rounded-2xl border-2 border-gray-100 bg-gray-50/30 px-4 py-3 text-base font-bold text-gray-800 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none"},[e[13]||(e[13]=c("option",{value:""},"Select Warehouse",-1)),(B(!0),F(Re,null,Ke(r.warehouses,s=>(B(),F("option",{key:s.id,value:s.id,textContent:j(s.name)},null,8,r5))),128))],512),[[jt,i.form.warehouse_id]])]),c("div",n5,[e[15]||(e[15]=c("label",{class:"block text-sm font-bold text-gray-500 uppercase tracking-widest"},"Order Date",-1)),le(c("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=s=>i.form.order_date=s),required:"",class:"w-full rounded-2xl border-2 border-gray-100 bg-gray-50/30 px-4 py-3 text-base font-bold text-gray-800 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none"},null,512),[[Ee,i.form.order_date]])]),c("div",i5,[e[16]||(e[16]=c("label",{class:"block text-sm font-bold text-gray-500 uppercase tracking-widest"},"Expected Delivery",-1)),le(c("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=s=>i.form.expected_delivery_date=s),class:"w-full rounded-2xl border-2 border-gray-100 bg-gray-50/30 px-4 py-3 text-base font-bold text-gray-800 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none"},null,512),[[Ee,i.form.expected_delivery_date]])])]),c("div",o5,[e[17]||(e[17]=c("label",{class:"block text-sm font-bold text-gray-500 uppercase tracking-widest"},"Notes",-1)),le(c("textarea",{"onUpdate:modelValue":e[5]||(e[5]=s=>i.form.notes=s),rows:"3",class:"w-full rounded-2xl border-2 border-gray-100 bg-gray-50/30 px-6 py-4 text-base font-medium text-gray-800 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none",placeholder:"Enter instructions..."},null,512),[[Ee,i.form.notes]])]),c("div",s5,[c("div",a5,[e[18]||(e[18]=c("h4",{class:"text-xl font-black text-gray-900"},"Order Items",-1)),c("button",{type:"button",onClick:e[6]||(e[6]=(...s)=>o.addItem&&o.addItem(...s)),class:"bg-indigo-600 text-white px-5 py-2.5 rounded-xl font-bold hover:bg-indigo-700 shadow-lg transition-all text-sm"}," Add Item ")]),c("div",l5,[(B(!0),F(Re,null,Ke(i.form.items,(s,a)=>(B(),F("div",{key:a,class:"grid grid-cols-12 gap-5 items-end bg-gray-50/30 p-6 rounded-3xl border-2 border-gray-100 transition-all duration-300"},[c("div",u5,[e[20]||(e[20]=c("label",{class:"block text-[10px] font-black text-gray-400 uppercase tracking-widest"},"Product",-1)),le(c("select",{"onUpdate:modelValue":l=>s.product_id=l,onChange:l=>o.handleProductChange(a),required:"",class:"w-full rounded-xl border-2 border-gray-100 bg-white px-3 py-2.5 text-sm font-bold text-gray-800 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none"},[e[19]||(e[19]=c("option",{value:""},"Select Product",-1)),(B(!0),F(Re,null,Ke(r.products,l=>(B(),F("option",{key:l.id,value:l.id,textContent:j(l.name)},null,8,f5))),128))],40,c5),[[jt,s.product_id]])]),c("div",d5,[e[21]||(e[21]=c("label",{class:"block text-[10px] font-black text-gray-400 uppercase tracking-widest"},"Quantity",-1)),le(c("input",{type:"number","onUpdate:modelValue":l=>s.quantity=l,required:"",class:"w-full rounded-xl border-2 border-gray-100 bg-white px-3 py-2.5 text-sm font-black text-center text-gray-800 outline-none",min:"1"},null,8,h5),[[Ee,s.quantity,void 0,{number:!0}]])]),c("div",p5,[e[22]||(e[22]=c("label",{class:"block text-[10px] font-black text-gray-400 uppercase tracking-widest"},"Unit Cost",-1)),le(c("input",{type:"number","onUpdate:modelValue":l=>s.unit_cost=l,step:"0.01",required:"",class:"w-full rounded-xl border-2 border-gray-100 bg-white px-3 py-2.5 text-sm font-black text-right text-indigo-600 outline-none",min:"0"},null,8,g5),[[Ee,s.unit_cost,void 0,{number:!0}]])]),c("div",v5,[e[24]||(e[24]=c("label",{class:"block text-[10px] font-black text-gray-400 uppercase tracking-widest"},"Tax Code",-1)),le(c("select",{"onUpdate:modelValue":l=>s.tax_code_id=l,class:"w-full rounded-xl border-2 border-gray-100 bg-white px-3 py-2.5 text-sm font-bold text-gray-800 outline-none"},[e[23]||(e[23]=c("option",{value:""},"No Tax",-1)),(B(!0),F(Re,null,Ke(r.taxCodes,l=>(B(),F("option",{key:l.id,value:l.id,textContent:j(l.name+" ("+l.rate+"%)")},null,8,m5))),128))],8,y5),[[jt,s.tax_code_id]])]),c("div",x5,[c("div",b5,[c("div",{class:"text-base font-black text-gray-900",textContent:j(o.formatCurrency(o.calculateRowTotal(s)))},null,8,_5)]),c("button",{type:"button",onClick:l=>o.removeItem(a),disabled:i.form.items.length===1,class:"text-red-400 hover:text-red-500 hover:bg-red-50 p-2 rounded-xl transition-all disabled:opacity-0",title:"Remove"},[...e[25]||(e[25]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,w5)])]))),128))])]),c("div",A5,[c("div",C5,[c("div",E5,[e[26]||(e[26]=c("span",null,"Subtotal",-1)),c("span",{class:"text-gray-800",textContent:j(o.formatCurrency(o.totals.subtotal))},null,8,S5)]),c("div",I5,[e[27]||(e[27]=c("span",null,"Discount",-1)),le(c("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=s=>i.form.discount=s),step:"0.01",class:"w-24 bg-gray-50 rounded-lg text-right text-xs font-black px-2 py-1 outline-none"},null,512),[[Ee,i.form.discount,void 0,{number:!0}]])]),c("div",T5,[e[28]||(e[28]=c("span",null,"Tax",-1)),c("span",{class:"text-gray-800",textContent:j(o.formatCurrency(o.totals.tax))},null,8,O5)]),c("div",k5,[e[29]||(e[29]=c("span",null,"Shipping",-1)),le(c("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=s=>i.form.shipping=s),step:"0.01",class:"w-24 bg-gray-50 rounded-lg text-right text-xs font-black px-2 py-1 outline-none"},null,512),[[Ee,i.form.shipping,void 0,{number:!0}]])]),c("div",N5,[e[30]||(e[30]=c("span",{class:"text-sm font-black text-gray-900 uppercase tracking-widest"},"Total",-1)),c("div",{class:"text-2xl font-black text-indigo-600",textContent:j(o.formatCurrency(o.totals.total))},null,8,R5)])])]),c("div",P5,[c("button",{type:"submit",disabled:i.isSubmitting,class:"bg-indigo-600 text-white px-12 py-5 rounded-2xl font-black text-xl hover:bg-indigo-700 shadow-xl transition-all disabled:opacity-50"},[c("span",{textContent:j(i.isSubmitting?"Saving...":r.initialData?"Update Order":"Place Order")},null,8,M5)],8,D5)])],32)])}const F5=Bh(G6,[["render",B5]]),L5={key:0,class:"origin-top-right absolute right-0 mt-2 w-80 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50"},$5={class:"px-4 py-2 border-b border-gray-100 flex justify-between items-center"},U5=["href"],V5={class:"max-h-60 overflow-y-auto"},j5={class:"text-sm font-medium text-gray-900"},H5={class:"text-xs text-gray-500 mt-1"},W5={class:"mt-2 flex justify-between items-center"},K5={class:"text-xs text-gray-400"},q5=["href"],G5={key:0,class:"px-4 py-6 text-center text-sm text-gray-500"},z5={__name:"NotificationDropdown",props:{notifications:{type:Array,default:()=>[]},markAllReadUrl:String,readUrlPrefix:String},setup(t){const e=t,r=ye(!1),n=()=>{r.value=!r.value},i=()=>{r.value=!0},o=()=>{r.value=!1},s=a=>`${e.readUrlPrefix}${a}`;return(a,l)=>(B(),F("div",{class:"relative mr-2 md:mr-4",onMouseenter:i,onMouseleave:o},[c("button",{onClick:n,class:"relative p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none"},[...l[0]||(l[0]=[c("span",{class:"sr-only"},"View notifications",-1),c("svg",{class:"h-5 md:h-6 w-5 md:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)])]),tt(Ko,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Cr(()=>[r.value?(B(),F("div",L5,[c("div",$5,[l[1]||(l[1]=c("h3",{class:"text-sm font-semibold text-gray-700"},"Notifications",-1)),t.notifications.length>0?(B(),F("a",{key:0,href:t.markAllReadUrl,class:"text-xs text-indigo-600 hover:text-indigo-800"}," Mark all read ",8,U5)):_e("",!0)]),c("div",V5,[(B(!0),F(Re,null,Ke(t.notifications,u=>(B(),F("div",{key:u.id,class:"px-4 py-3 hover:bg-gray-50 transition border-b border-gray-100 last:border-0"},[c("p",j5,j(u.data?.title||"Notification"),1),c("p",H5,j(u.data?.message||""),1),c("div",W5,[c("span",K5,j(u.created_time_ago),1),c("a",{href:s(u.id),class:"text-xs text-indigo-600 hover:text-indigo-800"}," Dismiss ",8,q5)])]))),128)),t.notifications.length===0?(B(),F("div",G5," No new notifications ")):_e("",!0)])])):_e("",!0)]),_:1})],32))}},X5={class:"text-right mr-3 hidden sm:block"},Y5={class:"font-semibold text-slate-700"},Z5={class:"text-xs text-slate-500"},J5={class:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold border border-indigo-200"},Q5={key:0,class:"origin-top-right absolute right-0 top-10 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50"},eI={class:"px-4 py-3 border-b border-gray-100 md:hidden"},tI={class:"text-sm font-medium text-gray-900"},rI={class:"text-xs text-gray-500 truncate"},nI=["href"],iI={class:"border-t border-gray-100"},oI=["action"],sI=["value"],aI={__name:"UserDropdown",props:{userName:String,userEmail:String,userRole:{type:String,default:"Admin"},userInitial:String,profileUrl:String,logoutUrl:String,csrfToken:String},setup(t){const e=ye(!1),r=()=>{e.value=!e.value},n=()=>{e.value=!0},i=()=>{e.value=!1};return(o,s)=>(B(),F("div",{class:"flex items-center text-sm border-l pl-6 border-slate-200 h-8 relative",onMouseenter:n,onMouseleave:i},[c("button",{onClick:r,class:"flex items-center focus:outline-none"},[c("div",X5,[c("p",Y5,j(t.userName),1),c("p",Z5,j(t.userRole),1)]),c("div",J5,j(t.userInitial),1)]),tt(Ko,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Cr(()=>[e.value?(B(),F("div",Q5,[c("div",eI,[c("p",tI,j(t.userName),1),c("p",rI,j(t.userEmail),1)]),c("a",{href:t.profileUrl,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[...s[0]||(s[0]=[c("i",{class:"fas fa-user-circle mr-2 w-4"},null,-1),$e(" My Profile ",-1)])],8,nI),c("div",iI,[c("form",{method:"POST",action:t.logoutUrl},[c("input",{type:"hidden",name:"_token",value:t.csrfToken},null,8,sI),s[1]||(s[1]=c("button",{type:"submit",class:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50"},[c("i",{class:"fas fa-sign-out-alt mr-2 w-4"}),$e(" Sign Out ")],-1))],8,oI)])])):_e("",!0)]),_:1})],32))}},lI={__name:"SidebarToggle",setup(t){const e=()=>{window.uiState&&(window.uiState.sidebarOpen=!window.uiState.sidebarOpen)};return(r,n)=>(B(),F("button",{onClick:e,class:"text-slate-500 focus:outline-none md:hidden mr-2 md:mr-4 hover:text-slate-700 flex-shrink-0"},[...n[0]||(n[0]=[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]))}},uI={key:0,class:"fixed inset-y-0 left-0 w-64 bg-slate-900 z-30 md:hidden overflow-y-auto"},cI={__name:"MobileSidebar",setup(t){const e=Gr(()=>window.uiState?.sidebarOpen||!1),r=()=>{window.uiState&&(window.uiState.sidebarOpen=!1)};return(n,i)=>(B(),F("div",null,[tt(Ko,{"enter-active-class":"transition-opacity ease-linear duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity ease-linear duration-300","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Cr(()=>[e.value?(B(),F("div",{key:0,onClick:r,class:"fixed inset-0 bg-slate-900/80 z-20 md:hidden"})):_e("",!0)]),_:1}),tt(Ko,{"enter-active-class":"transition ease-in-out duration-300 transform","enter-from-class":"-translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in-out duration-300 transform","leave-from-class":"translate-x-0","leave-to-class":"-translate-x-full"},{default:Cr(()=>[e.value?(B(),F("div",uI,[bi(n.$slots,"default")])):_e("",!0)]),_:3})]))}},fI={class:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50"},dI={class:"grid grid-cols-4 h-16"},hI=["href"],pI=["href"],gI=["href"],vI=["href"],yI={__name:"MobileBottomNav",props:{productsUrl:String,posUrl:String,ordersUrl:String,dashboardUrl:String,activeRoute:String},setup(t){const e=t,r=e.activeRoute.includes("products"),n=e.activeRoute.includes("pos"),i=e.activeRoute.includes("orders"),o=e.activeRoute==="dashboard";return(s,a)=>(B(),F("nav",fI,[c("div",dI,[c("a",{href:t.productsUrl,class:Ue(["flex flex-col items-center justify-center text-xs transition",En(r)?"text-indigo-600":"text-gray-600 hover:text-indigo-600"])},[...a[0]||(a[0]=[c("svg",{class:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),c("span",{class:"font-medium"},"Products",-1)])],10,hI),c("a",{href:t.posUrl,class:Ue(["flex flex-col items-center justify-center text-xs transition",En(n)?"text-indigo-600":"text-gray-600 hover:text-indigo-600"])},[...a[1]||(a[1]=[c("svg",{class:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1),c("span",{class:"font-medium"},"POS",-1)])],10,pI),c("a",{href:t.ordersUrl,class:Ue(["flex flex-col items-center justify-center text-xs transition",En(i)?"text-indigo-600":"text-gray-600 hover:text-indigo-600"])},[...a[2]||(a[2]=[c("svg",{class:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),c("span",{class:"font-medium"},"Orders",-1)])],10,gI),c("a",{href:t.dashboardUrl,class:Ue(["flex flex-col items-center justify-center text-xs transition",o?"text-indigo-600":"text-gray-600 hover:text-indigo-600"])},[...a[3]||(a[3]=[c("svg",{class:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1),c("span",{class:"font-medium"},"Dashboard",-1)])],10,vI)])]))}},mI={id:"offline-indicator",class:"fixed bottom-4 right-4 bg-slate-800 text-white px-4 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-3 transition-transform duration-300"},xI={key:0,class:"flex items-center"},bI={key:1,class:"flex items-center"},_I={key:2,class:"ml-2 bg-white text-slate-800 text-xs font-bold px-2 py-0.5 rounded-full"},wI={__name:"OfflineIndicator",setup(t){const e=ye(navigator.onLine),r=ye(0),n=async()=>{window.OfflineManager&&(r.value=await window.OfflineManager.getQueueCount())},i=()=>{e.value=!0,setTimeout(()=>{e.value&&r.value},3e3)},o=()=>{e.value=!1},s=async()=>{await n()};return kn(async()=>{await n(),window.addEventListener("online",i),window.addEventListener("offline",o),window.addEventListener("offline-queue-updated",s)}),ao(()=>{window.removeEventListener("online",i),window.removeEventListener("offline",o),window.removeEventListener("offline-queue-updated",s)}),(a,l)=>le((B(),F("div",mI,[e.value?r.value>0?(B(),F("div",bI,[...l[1]||(l[1]=[c("svg",{class:"animate-spin w-5 h-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),c("span",{class:"font-medium"},"Syncing data...",-1)])])):_e("",!0):(B(),F("div",xI,[...l[0]||(l[0]=[c("svg",{class:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 011.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})],-1),c("span",{class:"font-medium"},"You are offline.",-1)])])),r.value>0?(B(),F("div",_I,j(r.value)+" pending ",1)):_e("",!0)],512)),[[Rt,!e.value||r.value>0]])}},AI={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},CI={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Uo={__name:"CommonModal",props:{isOpen:Boolean,maxWidth:{type:String,default:"md"}},emits:["close"],setup(t,{emit:e}){const r=t,n=e,i=()=>{n("close")},o=Gr(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[r.maxWidth]||"sm:max-w-lg");return(s,a)=>(B(),Ss(Ko,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Cr(()=>[t.isOpen?(B(),F("div",AI,[c("div",CI,[c("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:i}),a[0]||(a[0]=c("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹",-1)),tt(Ko,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:Cr(()=>[t.isOpen?(B(),F("div",{key:0,class:Ue(["inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:w-full",o.value])},[bi(s.$slots,"default")],2)):_e("",!0)]),_:3})])])):_e("",!0)]),_:3}))}},EI={class:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3 mb-8"},SI={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden overflow-x-auto text-sm"},II={class:"w-full text-left"},TI={class:"divide-y divide-gray-100"},OI={class:"px-6 py-4 font-medium text-indigo-600"},kI=["href"],NI={class:"px-6 py-4"},RI={class:"px-6 py-4 text-gray-500"},PI={class:"px-6 py-4 text-right font-medium"},DI={class:"px-6 py-4 text-right text-green-600"},MI={class:"px-6 py-4 text-right font-bold text-red-600"},BI={class:"px-6 py-4 text-right"},FI=["onClick"],LI={key:0},$I={key:0,class:"px-6 py-4 border-t border-gray-200"},UI={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden overflow-x-auto text-sm"},VI={class:"w-full text-left"},jI={class:"divide-y divide-gray-100"},HI={class:"px-6 py-4 font-medium text-gray-900 font-mono text-xs"},WI={class:"px-6 py-4"},KI={class:"px-6 py-4 text-gray-500"},qI={class:"px-6 py-4 text-right font-medium"},GI={class:"px-6 py-4 text-right text-green-600"},zI={class:"px-6 py-4 text-right font-bold text-red-600"},XI={class:"px-6 py-4 text-right"},YI=["onClick"],ZI={key:0},JI={key:0,class:"px-6 py-4 border-t border-gray-200"},QI={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden overflow-x-auto text-sm"},eT={class:"w-full text-left"},tT={class:"divide-y divide-gray-100"},rT={class:"px-6 py-4 text-gray-500"},nT={class:"px-6 py-4 font-medium"},iT={class:"px-6 py-4 text-xs"},oT={class:"px-6 py-4 text-right font-medium"},sT={class:"px-6 py-4 text-right font-bold text-green-600"},aT={class:"px-6 py-4 text-right"},lT=["onClick"],uT={key:0},cT={key:0,class:"px-6 py-4 border-t border-gray-200"},fT=["action"],dT=["value"],hT={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},pT={class:"sm:flex sm:items-start"},gT={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},vT={class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},yT={class:"mt-2 text-sm text-gray-500"},mT={class:"font-bold font-mono"},xT={class:"mt-4 space-y-4"},bT={class:"mt-1 relative rounded-md shadow-sm"},_T={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},wT={class:"text-gray-500 sm:text-sm"},AT={class:"grid grid-cols-2 gap-4"},CT=["value"],ET={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-lg"},ST=["action"],IT=["value"],TT={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},OT={class:"sm:flex sm:items-start"},kT={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},NT={class:"mt-4 space-y-4"},RT={class:"mt-1 flex space-x-2"},PT=["value"],DT={key:0},MT={class:"block text-sm font-medium text-gray-700"},BT={name:"entity_id",required:"",class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},FT={value:""},LT=["value"],$T={class:"mt-1 relative rounded-md shadow-sm"},UT={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},VT={class:"text-gray-500 sm:text-sm"},jT={class:"grid grid-cols-2 gap-4"},HT=["value"],WT={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-lg"},KT=["action"],qT=["value"],GT={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},zT={class:"sm:flex sm:items-start"},XT={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},YT={class:"mt-2 text-sm text-gray-600"},ZT={class:"font-bold"},JT={class:"font-bold text-green-600"},QT={class:"mt-4 space-y-4"},eO={class:"block text-sm font-medium text-gray-700 text-left"},tO={name:"allocatable_id",required:"",class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},rO={value:""},nO=["value"],iO=["value"],oO={class:"mt-1 relative rounded-md shadow-sm"},sO={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},aO={class:"text-gray-500 sm:text-sm"},lO=["max","value"],uO={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-lg"},cO={__name:"OutstandingPayments",props:{receivables:{type:Array,default:()=>[]},payables:{type:Array,default:()=>[]},unallocatedPayments:{type:Array,default:()=>[]},customers:{type:Array,default:()=>[]},suppliers:{type:Array,default:()=>[]},receivablesTotal:Number,payablesTotal:Number,unallocatedTotal:Number,receivablesHasPages:Boolean,payablesHasPages:Boolean,unallocatedHasPages:Boolean,currencySymbol:String,tenantSlug:String,csrfToken:String,initialTab:{type:String,default:"receivables"}},setup(t){const e=t,r=ye(e.initialTab),n=yr({open:!1,type:"",id:null,amount:0,ref:""}),i=yr({open:!1,type:"customer"}),o=yr({open:!1,payment:null}),s=new Date().toISOString().split("T")[0],a=(b,x,w,C)=>{n.type=b,n.id=x,n.amount=w,n.ref=C,n.open=!0},l=b=>{o.payment=b,o.open=!0},u=b=>b?b.entity_type.includes("Customer"):!1,f=b=>b?u(b)?e.receivables.filter(x=>x.customer_id==b.entity_id):e.payables.filter(x=>x.supplier_id==b.entity_id):[],d=b=>`/${e.tenantSlug}/admin/orders/${b}`,p=()=>n.type==="customer"?`/${e.tenantSlug}/admin/orders/${n.id}/payment`:`/${e.tenantSlug}/admin/supplier-invoices/${n.id}/payment`,v=b=>b?new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",y=b=>b==null?"0.00":parseFloat(b).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});return(b,x)=>(B(),F("div",null,[c("div",EI,[c("button",{type:"button",onClick:x[0]||(x[0]=w=>r.value="receivables"),class:Ue([r.value==="receivables"?"bg-indigo-600 text-white shadow-lg shadow-indigo-100 ring-2 ring-indigo-600 ring-offset-2":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200","whitespace-nowrap py-2.5 px-6 rounded-xl font-bold text-sm transition-all duration-300 flex items-center"])},[x[13]||(x[13]=c("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)),x[14]||(x[14]=$e(" Receivables ",-1)),t.receivablesTotal>0?(B(),F("span",{key:0,class:Ue([r.value==="receivables"?"bg-white text-indigo-600":"bg-indigo-100 text-indigo-600","ml-2 py-0.5 px-2.5 rounded-full text-xs transition-colors duration-300"])},j(t.receivablesTotal),3)):_e("",!0)],2),c("button",{type:"button",onClick:x[1]||(x[1]=w=>r.value="payables"),class:Ue([r.value==="payables"?"bg-red-600 text-white shadow-lg shadow-red-100 ring-2 ring-red-600 ring-offset-2":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200","whitespace-nowrap py-2.5 px-6 rounded-xl font-bold text-sm transition-all duration-300 flex items-center"])},[x[15]||(x[15]=c("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0v-8m0 8l-8-8-4 4-6-6"})],-1)),x[16]||(x[16]=$e(" Payables ",-1)),t.payablesTotal>0?(B(),F("span",{key:0,class:Ue([r.value==="payables"?"bg-white text-red-600":"bg-red-100 text-red-600","ml-2 py-0.5 px-2.5 rounded-full text-xs transition-colors duration-300"])},j(t.payablesTotal),3)):_e("",!0)],2),c("button",{type:"button",onClick:x[2]||(x[2]=w=>r.value="unallocated"),class:Ue([r.value==="unallocated"?"bg-green-600 text-white shadow-lg shadow-green-100 ring-2 ring-green-600 ring-offset-2":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200","whitespace-nowrap py-2.5 px-6 rounded-xl font-bold text-sm transition-all duration-300 flex items-center"])},[x[17]||(x[17]=c("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),x[18]||(x[18]=$e(" Unallocated ",-1)),t.unallocatedTotal>0?(B(),F("span",{key:0,class:Ue([r.value==="unallocated"?"bg-white text-green-600":"bg-green-100 text-green-600","ml-2 py-0.5 px-2.5 rounded-full text-xs transition-colors duration-300"])},j(t.unallocatedTotal),3)):_e("",!0)],2),x[20]||(x[20]=c("div",{class:"hidden md:block flex-grow"},null,-1)),c("button",{onClick:x[3]||(x[3]=w=>i.open=!0),class:"w-full md:w-auto bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-xl font-bold text-sm transition-all duration-300 flex items-center shadow-lg shadow-indigo-100"},[...x[19]||(x[19]=[c("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),$e(" Post Advance Payment ",-1)])])]),le(c("div",null,[c("div",SI,[c("table",II,[x[22]||(x[22]=c("thead",{class:"bg-gray-50 text-gray-500 border-b border-gray-100 uppercase text-xs"},[c("tr",null,[c("th",{class:"px-6 py-3"},"Order #"),c("th",{class:"px-6 py-3"},"Customer"),c("th",{class:"px-6 py-3"},"Date"),c("th",{class:"px-6 py-3 text-right"},"Total"),c("th",{class:"px-6 py-3 text-right"},"Paid"),c("th",{class:"px-6 py-3 text-right"},"Balance Due"),c("th",{class:"px-6 py-3 text-right"},"Action")])],-1)),c("tbody",TI,[(B(!0),F(Re,null,Ke(t.receivables,w=>(B(),F("tr",{key:w.id,class:"hover:bg-gray-50 transition-colors"},[c("td",OI,[c("a",{href:d(w.id)},j(w.order_number),9,kI)]),c("td",NI,j(w.customer?.name),1),c("td",RI,j(v(w.created_at)),1),c("td",PI,j(t.currencySymbol)+j(y(w.total)),1),c("td",DI,j(t.currencySymbol)+j(y(w.amount_paid)),1),c("td",MI,j(t.currencySymbol)+j(y(w.total-w.amount_paid)),1),c("td",BI,[c("button",{onClick:C=>a("customer",w.id,w.total-w.amount_paid,w.order_number),class:"text-indigo-600 hover:text-indigo-900 font-bold uppercase border border-indigo-200 px-3 py-1 rounded-full hover:bg-indigo-50 transition text-[10px]"}," Record Payment ",8,FI)])]))),128)),t.receivables.length===0?(B(),F("tr",LI,[...x[21]||(x[21]=[c("td",{colspan:"7",class:"px-6 py-12 text-center text-gray-500"},[c("div",{class:"flex flex-col items-center justify-center text-sm"},[c("svg",{class:"w-12 h-12 text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),c("p",null,"No outstanding receivables found."),c("p",{class:"text-xs mt-1"},"Great job! All customer orders are paid.")])],-1)])])):_e("",!0)])]),t.receivablesHasPages?(B(),F("div",$I,[bi(b.$slots,"receivables-pagination")])):_e("",!0)])],512),[[Rt,r.value==="receivables"]]),le(c("div",null,[c("div",UI,[c("table",VI,[x[24]||(x[24]=c("thead",{class:"bg-gray-50 text-gray-500 border-b border-gray-100 uppercase text-xs"},[c("tr",null,[c("th",{class:"px-6 py-3"},"Invoice #"),c("th",{class:"px-6 py-3"},"Supplier"),c("th",{class:"px-6 py-3"},"Date"),c("th",{class:"px-6 py-3 text-right"},"Total"),c("th",{class:"px-6 py-3 text-right"},"Paid"),c("th",{class:"px-6 py-3 text-right"},"Balance Due"),c("th",{class:"px-6 py-3 text-right"},"Action")])],-1)),c("tbody",jI,[(B(!0),F(Re,null,Ke(t.payables,w=>(B(),F("tr",{key:w.id,class:"hover:bg-gray-50 transition-colors"},[c("td",HI,j(w.invoice_number),1),c("td",WI,j(w.supplier?.name),1),c("td",KI,j(v(w.invoice_date)),1),c("td",qI,j(t.currencySymbol)+j(y(w.total)),1),c("td",GI,j(t.currencySymbol)+j(y(w.amount_paid)),1),c("td",zI,j(t.currencySymbol)+j(y(w.total-w.amount_paid)),1),c("td",XI,[c("button",{onClick:C=>a("supplier",w.id,w.total-w.amount_paid,w.invoice_number),class:"text-red-600 hover:text-red-900 font-bold uppercase border border-red-200 px-3 py-1 rounded-full hover:bg-red-50 transition text-[10px]"}," Pay Bill ",8,YI)])]))),128)),t.payables.length===0?(B(),F("tr",ZI,[...x[23]||(x[23]=[c("td",{colspan:"7",class:"px-6 py-12 text-center text-gray-500"},[c("div",{class:"flex flex-col items-center justify-center text-sm"},[c("svg",{class:"w-12 h-12 text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),c("p",null,"No outstanding bills found.")])],-1)])])):_e("",!0)])]),t.payablesHasPages?(B(),F("div",JI,[bi(b.$slots,"payables-pagination")])):_e("",!0)])],512),[[Rt,r.value==="payables"]]),le(c("div",null,[c("div",QI,[c("table",eT,[x[26]||(x[26]=c("thead",{class:"bg-gray-50 text-gray-500 border-b border-gray-100 uppercase text-xs"},[c("tr",null,[c("th",{class:"px-6 py-3"},"Date"),c("th",{class:"px-6 py-3"},"Entity"),c("th",{class:"px-6 py-3"},"Source"),c("th",{class:"px-6 py-3 text-right"},"Total Amount"),c("th",{class:"px-6 py-3 text-right"},"Unallocated"),c("th",{class:"px-6 py-3 text-right"},"Action")])],-1)),c("tbody",tT,[(B(!0),F(Re,null,Ke(t.unallocatedPayments,w=>(B(),F("tr",{key:w.id,class:"hover:bg-gray-50 transition-colors"},[c("td",rT,j(v(w.payment_date)),1),c("td",nT,j(w.entity?.name),1),c("td",iT,[c("span",{class:Ue([w.entity_type.includes("Customer")?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700","px-2 py-0.5 rounded-full font-semibold"])},j(w.entity_type.includes("Customer")?"Customer":"Supplier"),3)]),c("td",oT,j(t.currencySymbol)+j(y(w.amount)),1),c("td",sT,j(t.currencySymbol)+j(y(w.unallocated_amount)),1),c("td",aT,[c("button",{onClick:C=>l(w),class:"text-green-600 hover:text-green-900 font-bold uppercase border border-green-200 px-3 py-1 rounded-full hover:bg-green-50 transition text-[10px]"}," Allocate ",8,lT)])]))),128)),t.unallocatedPayments.length===0?(B(),F("tr",uT,[...x[25]||(x[25]=[c("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-500"},[c("div",{class:"flex flex-col items-center justify-center text-sm"},[c("svg",{class:"w-12 h-12 text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm3-2a2 2 0 11-4 0 2 2 0 014 0z"})]),c("p",null,"No unallocated payments found.")])],-1)])])):_e("",!0)])]),t.unallocatedHasPages?(B(),F("div",cT,[bi(b.$slots,"unallocated-pagination")])):_e("",!0)])],512),[[Rt,r.value==="unallocated"]]),tt(Uo,{"is-open":n.open,"max-width":"lg",onClose:x[6]||(x[6]=w=>n.open=!1)},{default:Cr(()=>[c("form",{method:"POST",action:p(),class:"w-full"},[c("input",{type:"hidden",name:"_token",value:t.csrfToken},null,8,dT),c("div",hT,[c("div",pT,[x[34]||(x[34]=c("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10"},[c("svg",{class:"h-6 w-6 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),c("div",gT,[c("h3",vT,[x[27]||(x[27]=$e(" Record Payment ",-1)),c("span",null,j(n.type==="customer"?"from Customer":"to Supplier"),1)]),c("div",yT,[x[28]||(x[28]=$e(" Record payment for ",-1)),c("span",mT,j(n.ref),1),x[29]||(x[29]=$e(". ",-1))]),c("div",xT,[c("div",null,[x[30]||(x[30]=c("label",{class:"block text-sm font-medium text-gray-700"},"Amount",-1)),c("div",bT,[c("div",_T,[c("span",wT,j(t.currencySymbol),1)]),le(c("input",{type:"number",name:"amount",step:"0.01","onUpdate:modelValue":x[4]||(x[4]=w=>n.amount=w),class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md border-2"},null,512),[[Ee,n.amount]])])]),c("div",AT,[c("div",null,[x[31]||(x[31]=c("label",{class:"block text-sm font-medium text-gray-700"},"Payment Date",-1)),c("input",{type:"date",name:"payment_date",value:En(s),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md border-2"},null,8,CT)]),x[32]||(x[32]=c("div",null,[c("label",{class:"block text-sm font-medium text-gray-700"},"Method"),c("select",{name:"payment_method",class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[c("option",{value:"bank_transfer"},"Bank Transfer"),c("option",{value:"cash"},"Cash"),c("option",{value:"check"},"Check"),c("option",{value:"credit_card"},"Credit Card")])],-1))]),x[33]||(x[33]=c("div",null,[c("label",{class:"block text-sm font-medium text-gray-700"},"Reference / Notes"),c("input",{type:"text",name:"reference",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md border-2"})],-1))])])])]),c("div",ET,[x[35]||(x[35]=c("button",{type:"submit",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm"}," Confirm Payment ",-1)),c("button",{onClick:x[5]||(x[5]=w=>n.open=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],8,fT)]),_:1},8,["is-open"]),tt(Uo,{"is-open":i.open,"max-width":"lg",onClose:x[10]||(x[10]=w=>i.open=!1)},{default:Cr(()=>[c("form",{method:"POST",action:`/${t.tenantSlug}/admin/payments/advance`,class:"w-full"},[c("input",{type:"hidden",name:"_token",value:t.csrfToken},null,8,IT),c("div",TT,[c("div",OT,[x[44]||(x[44]=c("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10 text-indigo-600"},[c("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1)),c("div",kT,[x[42]||(x[42]=c("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Post Advance Payment",-1)),x[43]||(x[43]=c("div",{class:"mt-2 text-sm text-gray-500"},"Record a payment that isn't yet tied to a specific order or bill.",-1)),c("div",NT,[c("div",null,[x[36]||(x[36]=c("label",{class:"block text-sm font-medium text-gray-700"},"Source Type",-1)),c("div",RT,[c("button",{type:"button",onClick:x[7]||(x[7]=w=>i.type="customer"),class:Ue([i.type==="customer"?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-500","flex-1 border py-2 px-3 rounded-md text-sm font-medium transition-all"])},"Customer",2),c("button",{type:"button",onClick:x[8]||(x[8]=w=>i.type="supplier"),class:Ue([i.type==="supplier"?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-500","flex-1 border py-2 px-3 rounded-md text-sm font-medium transition-all"])},"Supplier",2),c("input",{type:"hidden",name:"type",value:i.type},null,8,PT)])]),i.type?(B(),F("div",DT,[c("label",MT,j(i.type==="customer"?"Customer":"Supplier"),1),c("select",BT,[c("option",FT,"Select "+j(i.type==="customer"?"Customer":"Supplier"),1),(B(!0),F(Re,null,Ke(i.type==="customer"?t.customers:t.suppliers,w=>(B(),F("option",{key:w.id,value:w.id},j(w.name),9,LT))),128))])])):_e("",!0),c("div",null,[x[38]||(x[38]=c("label",{class:"block text-sm font-medium text-gray-700"},"Amount",-1)),c("div",$T,[c("div",UT,[c("span",VT,j(t.currencySymbol),1)]),x[37]||(x[37]=c("input",{type:"number",name:"amount",required:"",step:"0.01",class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md border-2"},null,-1))])]),c("div",jT,[c("div",null,[x[39]||(x[39]=c("label",{class:"block text-sm font-medium text-gray-700"},"Date",-1)),c("input",{type:"date",name:"payment_date",value:En(s),required:"",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md border-2"},null,8,HT)]),x[40]||(x[40]=c("div",null,[c("label",{class:"block text-sm font-medium text-gray-700"},"Method"),c("select",{name:"payment_method",class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[c("option",{value:"bank_transfer"},"Bank Transfer"),c("option",{value:"cash"},"Cash"),c("option",{value:"check"},"Check")])],-1))]),x[41]||(x[41]=c("div",null,[c("label",{class:"block text-sm font-medium text-gray-700"},"Reference / Notes"),c("input",{type:"text",name:"notes",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md border-2"})],-1))])])])]),c("div",WT,[x[45]||(x[45]=c("button",{type:"submit",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm"}," Save Advance Payment ",-1)),c("button",{onClick:x[9]||(x[9]=w=>i.open=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],8,ST)]),_:1},8,["is-open"]),tt(Uo,{"is-open":o.open,"max-width":"lg",onClose:x[12]||(x[12]=w=>o.open=!1)},{default:Cr(()=>[o.payment?(B(),F("form",{key:0,method:"POST",action:`/${t.tenantSlug}/admin/payments/${o.payment.id}/allocate`,class:"w-full"},[c("input",{type:"hidden",name:"_token",value:t.csrfToken},null,8,qT),c("div",GT,[c("div",zT,[x[51]||(x[51]=c("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10 text-green-600"},[c("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),c("div",XT,[x[50]||(x[50]=c("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Allocate Payment",-1)),c("div",YT,[x[46]||(x[46]=$e(" Allocating credit from ",-1)),c("span",ZT,j(o.payment.entity?.name),1),x[47]||(x[47]=c("br",null,null,-1)),x[48]||(x[48]=$e(" Available: ",-1)),c("span",JT,j(t.currencySymbol)+j(y(o.payment.unallocated_amount)),1)]),c("div",QT,[c("div",null,[c("label",eO,"Match to Outstanding "+j(u(o.payment)?"Order":"Invoice"),1),c("select",tO,[c("option",rO,"Select "+j(u(o.payment)?"Order":"Invoice"),1),(B(!0),F(Re,null,Ke(f(o.payment),w=>(B(),F("option",{key:w.id,value:w.id},j(u(o.payment)?w.order_number:w.invoice_number)+" ("+j(t.currencySymbol)+j(y(w.total-w.amount_paid))+" due) ",9,nO))),128))]),c("input",{type:"hidden",name:"allocatable_type",value:u(o.payment)?"Order":"SupplierInvoice"},null,8,iO)]),c("div",null,[x[49]||(x[49]=c("label",{class:"block text-sm font-medium text-gray-700 text-left"},"Amount to Allocate",-1)),c("div",oO,[c("div",sO,[c("span",aO,j(t.currencySymbol),1)]),c("input",{type:"number",name:"amount",required:"",step:"0.01",max:o.payment.unallocated_amount,value:o.payment.unallocated_amount,class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md"},null,8,lO)])])])])])]),c("div",uO,[x[52]||(x[52]=c("button",{type:"submit",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm"}," Allocate Credit ",-1)),c("button",{onClick:x[11]||(x[11]=w=>o.open=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],8,KT)):_e("",!0)]),_:1},8,["is-open"])]))}},fO={class:"relative group flex-shrink-0"},dO=["src","alt"],hO={key:1,class:"h-10 w-10 md:h-16 md:w-16 bg-gray-200 rounded flex items-center justify-center text-gray-400"},pO={key:0,class:"fas fa-upload text-white text-xs md:text-sm"},gO={key:1,class:"fas fa-spinner fa-spin text-white text-xs md:text-sm"},vg={__name:"ProductImageUpload",props:{productId:{type:Number,required:!0},initialImageUrl:{type:String,default:null},productName:{type:String,default:"Product Image"},uploadUrl:{type:String,required:!0},csrfToken:{type:String,required:!0}},setup(t){const e=t,r=ye(e.initialImageUrl),n=ye(!1),i=ye(!1),o=l=>{i.value=!1;const u=l.dataTransfer.files[0];u&&u.type.startsWith("image/")&&a(u)},s=l=>{const u=l.target.files[0];u&&a(u)},a=async l=>{n.value=!0;const u=new FormData;u.append("image",l),u.append("_token",e.csrfToken);try{const d=await(await fetch(e.uploadUrl,{method:"POST",body:u,headers:{"X-CSRF-TOKEN":e.csrfToken,Accept:"application/json"}})).json();d.success?r.value=d.url:alert("Upload failed: "+(d.message||"Unknown error"))}catch(f){console.error("Upload error:",f),alert("Upload failed. Please try again.")}finally{n.value=!1}};return(l,u)=>(B(),F("div",fO,[r.value?(B(),F("img",{key:0,src:r.value,alt:t.productName,class:"h-10 w-10 md:h-16 md:w-16 rounded object-cover"},null,8,dO)):(B(),F("div",hO,[...u[3]||(u[3]=[c("span",{class:"text-xl md:text-2xl"},"ðŸ“¦",-1)])])),c("div",{onDragover:u[0]||(u[0]=In(f=>i.value=!0,["prevent"])),onDragleave:u[1]||(u[1]=f=>i.value=!1),onDrop:In(o,["prevent"]),onClick:u[2]||(u[2]=f=>l.$refs.fileInput.click()),class:Ue([i.value?"opacity-100":"opacity-0 group-hover:opacity-100","absolute inset-0 bg-black bg-opacity-60 rounded flex items-center justify-center cursor-pointer transition-opacity duration-200"])},[n.value?(B(),F("i",gO)):(B(),F("i",pO))],34),c("input",{type:"file",ref:"fileInput",onChange:s,accept:"image/*",class:"hidden"},null,544)]))}},vO={class:"content-wrapper"},yO={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 md:mb-6 gap-3"},mO={class:"flex gap-2 w-full md:w-auto"},xO={class:"relative"},bO={class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-100"},_O=["href"],wO=["href"],AO=["href"],CO=["href"],EO={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},SO={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},IO={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},TO=["action"],OO=["value"],kO={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},NO={class:"sm:flex sm:items-start"},RO={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},PO={class:"mt-2"},DO={class:"mt-4 text-xs text-gray-400"},MO=["href"],BO={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},FO={class:"bg-white rounded-lg shadow p-3 md:p-6 mb-4 md:mb-6"},LO={class:"bg-white rounded-lg shadow p-2 md:p-4 mb-3 md:mb-4"},$O={class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-2"},UO={class:"flex items-center gap-2 md:gap-4 w-full md:w-auto"},VO={class:"text-xs md:text-sm text-gray-600"},jO={class:"flex gap-2"},HO={class:"flex items-center justify-center min-h-screen px-4"},WO={class:"space-y-4"},KO={class:"flex gap-2 pt-4"},qO={class:"hidden lg:block bg-white rounded-lg shadow overflow-hidden"},GO={class:"min-w-full divide-y divide-gray-200"},zO={class:"bg-gray-50"},XO={class:"px-6 py-3 text-left"},YO=["checked"],ZO={class:"bg-white divide-y divide-gray-200"},JO={class:"px-6 py-4"},QO=["value"],e7={class:"px-6 py-4 whitespace-nowrap"},t7={class:"flex items-center"},r7={class:"text-sm font-medium text-gray-900"},n7={key:0,class:"text-xs text-yellow-600"},i7={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},o7={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},s7={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"},a7={class:"px-6 py-4 whitespace-nowrap"},l7={key:1,class:"text-sm text-gray-400"},u7={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},c7={class:"px-6 py-4 whitespace-nowrap"},f7={key:0,class:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800"},d7={key:1,class:"px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800"},h7={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},p7=["href"],g7=["onClick"],v7={key:0},y7={colspan:"9",class:"px-6 py-12 text-center text-gray-500"},m7=["href"],x7={class:"lg:hidden space-y-3"},b7={class:"flex items-start justify-between mb-2"},_7={class:"flex items-center gap-2"},w7=["value"],A7={class:"text-sm font-semibold text-gray-900 line-clamp-2"},C7={key:0,class:"text-lg"},E7={class:"flex gap-3"},S7={class:"flex-1 min-w-0 space-y-1"},I7={class:"flex items-center gap-2"},T7={class:"text-xs font-medium text-gray-900"},O7={class:"flex items-center gap-2"},k7={class:"text-xs text-gray-700"},N7={class:"flex items-center gap-2"},R7={class:"text-sm font-bold text-gray-900"},P7={class:"flex items-center gap-2"},D7={key:1,class:"text-xs text-gray-400"},M7={class:"flex gap-2 mt-3 pt-3 border-t border-gray-200"},B7=["href"],F7=["onClick"],L7={class:"mt-6"},$7={__name:"ProductList",props:{products:{type:Object,required:!0},currencySymbol:String,csrfToken:String,tenantSlug:String,routes:{type:Object,required:!0}},setup(t){const e=t,r=ye(!1),n=ye(!1),i=ye(""),o=ye([]),s=ye(!1),a=yr({price:"",start:"",end:""}),l=Gr({get:()=>o.value.length===e.products.data.length&&e.products.data.length>0,set:C=>{C?o.value=e.products.data.map(_=>_.id):o.value=[]}}),u=()=>{},f=C=>parseFloat(C).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),d=C=>C?new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-",p=C=>C.stock_quantity<=(C.low_stock_threshold||10),v=()=>{if(!i.value){alert("Please select an action first");return}if(o.value.length===0){alert("Please select at least one product");return}if(i.value==="enable_flash_sale"){s.value=!0;return}i.value==="delete"&&!confirm(`Are you sure you want to delete ${o.value.length} products?`)||b(i.value)},y=()=>{if(!a.price||!a.start||!a.end){alert("Please fill all flash sale fields");return}b("enable_flash_sale",{flash_sale_price:a.price,flash_sale_start:a.start,flash_sale_end:a.end})},b=(C,_={})=>{const E=document.createElement("form");E.method="POST",E.action=e.routes.bulkAction;const N=(M,T)=>{const I=document.createElement("input");I.type="hidden",I.name=M,I.value=T,E.appendChild(I)};N("_token",e.csrfToken),N("action",C);for(const[M,T]of Object.entries(_))N(M,T);o.value.forEach(M=>{N("product_ids[]",M)}),document.body.appendChild(E),E.submit()},x=C=>{if(!confirm("Are you sure you want to delete this product?"))return;const _=document.createElement("form");_.method="POST",_.action=`${e.routes.base}/${C}`;const E=(N,M)=>{const T=document.createElement("input");T.type="hidden",T.name=N,T.value=M,_.appendChild(T)};E("_token",e.csrfToken),E("_method","DELETE"),document.body.appendChild(_),_.submit()},w={mounted(C,_){C.clickOutsideEvent=function(E){C===E.target||C.contains(E.target)||_.value(E,C)},document.body.addEventListener("click",C.clickOutsideEvent)},unmounted(C){document.body.removeEventListener("click",C.clickOutsideEvent)}};return(C,_)=>(B(),F("div",vO,[c("div",yO,[_[18]||(_[18]=c("h2",{class:"text-xl md:text-2xl font-bold text-gray-800"},"Products",-1)),c("div",mO,[c("div",xO,[le((B(),F("button",{onClick:_[0]||(_[0]=E=>r.value=!r.value),class:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition border border-gray-300 flex items-center gap-2"},[..._[13]||(_[13]=[c("i",{class:"fas fa-file-export"},null,-1),$e(" Export / Import ",-1),c("i",{class:"fas fa-chevron-down text-xs ml-1"},null,-1)])])),[[w,()=>r.value=!1]]),le(c("div",bO,[c("a",{href:t.routes.export,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[..._[14]||(_[14]=[c("i",{class:"fas fa-download mr-2"},null,-1),$e(" Export CSV ",-1)])],8,_O),c("a",{href:t.routes.template,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[..._[15]||(_[15]=[c("i",{class:"fas fa-file-csv mr-2"},null,-1),$e(" Download Template ",-1)])],8,wO),c("button",{onClick:_[1]||(_[1]=E=>{n.value=!0,r.value=!1}),class:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[..._[16]||(_[16]=[c("i",{class:"fas fa-file-upload mr-2"},null,-1),$e(" Import CSV ",-1)])]),c("a",{href:t.routes.bulkUpload,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[..._[17]||(_[17]=[c("i",{class:"fas fa-images mr-2"},null,-1),$e(" Bulk Upload Images ",-1)])],8,AO)],512),[[Rt,r.value]])]),c("a",{href:t.routes.create,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 md:px-6 py-2 rounded-lg transition flex-1 md:flex-none text-center"}," + Add Product ",8,CO)])]),n.value?(B(),F("div",EO,[c("div",SO,[c("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:_[2]||(_[2]=E=>n.value=!1),"aria-hidden":"true"}),_[23]||(_[23]=c("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹",-1)),c("div",IO,[c("form",{action:t.routes.import,method:"POST",enctype:"multipart/form-data"},[c("input",{type:"hidden",name:"_token",value:t.csrfToken},null,8,OO),c("div",kO,[c("div",NO,[_[21]||(_[21]=c("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10"},[c("i",{class:"fas fa-file-import text-blue-600"})],-1)),c("div",RO,[_[20]||(_[20]=c("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},"Import Products",-1)),c("div",PO,[_[19]||(_[19]=ro(`<p class="text-sm text-gray-500 mb-4"> Upload a CSV file or ZIP file (containing CSV + images folder) to import products. Existing products with matching SKU will be updated. </p><div class="bg-blue-50 border-l-4 border-blue-400 p-3 mb-4"><p class="text-xs text-blue-700 font-medium mb-1">ZIP Import Structure:</p><pre class="text-xs text-blue-600 font-mono">products.zip
â”œâ”€â”€ products.csv
â””â”€â”€ images/
    â”œâ”€â”€ SKU-001.jpg
    â””â”€â”€ SKU-002.png</pre></div><div class="mt-2"><input type="file" name="file" accept=".csv,.txt,.zip" required class="w-full border p-2 rounded bg-gray-50 text-sm"></div>`,3)),c("div",DO,[c("a",{href:t.routes.template,class:"text-blue-600 hover:underline"},"Don't have a template? Download here.",8,MO)])])])])]),c("div",BO,[_[22]||(_[22]=c("button",{type:"submit",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm"}," Import Data ",-1)),c("button",{type:"button",onClick:_[3]||(_[3]=E=>n.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],8,TO)])])])):_e("",!0),c("div",FO,[bi(C.$slots,"filters")]),c("div",LO,[c("div",$O,[c("div",UO,[c("span",VO,j(o.value.length)+" selected ",1),c("div",jO,[le(c("select",{"onUpdate:modelValue":_[4]||(_[4]=E=>i.value=E),class:"border border-gray-300 rounded-lg px-2 md:px-4 py-1.5 md:py-2 text-xs md:text-sm focus:ring-2 focus:ring-indigo-500"},[..._[24]||(_[24]=[ro('<option value="">Bulk Actions</option><option value="mark_featured">â­ Mark as Featured</option><option value="unmark_featured">Remove Featured</option><option value="enable_flash_sale">ðŸ”¥ Enable Flash Sale</option><option value="disable_flash_sale">Disable Flash Sale</option><option value="activate">âœ… Activate</option><option value="deactivate">âŒ Deactivate</option><option value="delete">ðŸ—‘ï¸ Delete</option>',8)])],512),[[jt,i.value]]),c("button",{type:"button",onClick:v,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-1.5 md:py-2 rounded-lg text-xs md:text-sm transition"}," Apply ")])])])]),s.value?(B(),F("div",{key:1,class:"fixed inset-0 z-50 overflow-y-auto",onClick:_[10]||(_[10]=E=>s.value=!1)},[c("div",HO,[_[29]||(_[29]=c("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75"},null,-1)),c("div",{class:"relative bg-white rounded-lg p-6 max-w-md w-full",onClick:_[9]||(_[9]=In(()=>{},["stop"]))},[_[28]||(_[28]=c("h3",{class:"text-lg font-bold mb-4"},"Set Flash Sale",-1)),c("div",WO,[c("div",null,[_[25]||(_[25]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Flash Sale Price",-1)),le(c("input",{type:"number","onUpdate:modelValue":_[5]||(_[5]=E=>a.price=E),step:"0.01",class:"w-full border border-gray-300 rounded-lg px-4 py-2"},null,512),[[Ee,a.price]])]),c("div",null,[_[26]||(_[26]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date & Time",-1)),le(c("input",{type:"datetime-local","onUpdate:modelValue":_[6]||(_[6]=E=>a.start=E),class:"w-full border border-gray-300 rounded-lg px-4 py-2"},null,512),[[Ee,a.start]])]),c("div",null,[_[27]||(_[27]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date & Time",-1)),le(c("input",{type:"datetime-local","onUpdate:modelValue":_[7]||(_[7]=E=>a.end=E),class:"w-full border border-gray-300 rounded-lg px-4 py-2"},null,512),[[Ee,a.end]])]),c("div",KO,[c("button",{onClick:y,class:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg"}," Apply Flash Sale "),c("button",{onClick:_[8]||(_[8]=E=>s.value=!1),class:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg"}," Cancel ")])])])])])):_e("",!0),c("div",qO,[c("table",GO,[c("thead",zO,[c("tr",null,[c("th",XO,[c("input",{type:"checkbox",checked:l.value,onChange:u,class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,40,YO)]),_[30]||(_[30]=c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Product",-1)),_[31]||(_[31]=c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Serial Number",-1)),_[32]||(_[32]=c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Category",-1)),_[33]||(_[33]=c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Price",-1)),_[34]||(_[34]=c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Stock",-1)),_[35]||(_[35]=c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Expiry",-1)),_[36]||(_[36]=c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status",-1)),_[37]||(_[37]=c("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions",-1))])]),c("tbody",ZO,[(B(!0),F(Re,null,Ke(t.products.data,E=>(B(),F("tr",{key:E.id},[c("td",JO,[le(c("input",{type:"checkbox",value:E.id,"onUpdate:modelValue":_[11]||(_[11]=N=>o.value=N),class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,QO),[[tn,o.value]])]),c("td",e7,[c("div",t7,[tt(vg,{"product-id":E.id,"initial-image-url":E.image_url,"product-name":E.name,"upload-url":`/admin/products/${E.id}/quick-image`,"csrf-token":t.csrfToken,"tenant-slug":t.tenantSlug,class:"mr-3"},null,8,["product-id","initial-image-url","product-name","upload-url","csrf-token","tenant-slug"]),c("div",null,[c("div",r7,j(E.name),1),E.is_featured?(B(),F("span",n7,"â­ Featured")):_e("",!0)])])]),c("td",i7,j(E.sku),1),c("td",o7,j(E.category?.name||"-"),1),c("td",s7,j(t.currencySymbol)+j(f(E.price)),1),c("td",a7,[E.track_inventory?(B(),F("span",{key:0,class:Ue(["text-sm",p(E)?"text-red-600 font-bold":"text-gray-900"])},j(E.stock_quantity),3)):(B(),F("span",l7,"N/A"))]),c("td",u7,j(d(E.expiry_date)),1),c("td",c7,[E.is_active?(B(),F("span",f7,"Active")):(B(),F("span",d7,"Inactive"))]),c("td",h7,[c("a",{href:`${t.routes.base}/${E.id}/edit`,class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,p7),c("button",{type:"button",onClick:N=>x(E.id),class:"text-red-600 hover:text-red-900"},"Delete",8,g7)])]))),128)),t.products.data.length===0?(B(),F("tr",v7,[c("td",y7,[_[38]||(_[38]=$e(" No products found. ",-1)),c("a",{href:t.routes.create,class:"text-indigo-600 hover:underline"},"Create your first product",8,m7)])])):_e("",!0)])])]),c("div",x7,[(B(!0),F(Re,null,Ke(t.products.data,E=>(B(),F("div",{key:E.id,class:"bg-white rounded-lg shadow p-3"},[c("div",b7,[c("div",_7,[le(c("input",{type:"checkbox",value:E.id,"onUpdate:modelValue":_[12]||(_[12]=N=>o.value=N),class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,w7),[[tn,o.value]]),c("h3",A7,j(E.name),1)]),E.is_featured?(B(),F("span",C7,"â­")):_e("",!0)]),c("div",E7,[tt(vg,{"product-id":E.id,"initial-image-url":E.image_url,"product-name":E.name,"upload-url":`/admin/products/${E.id}/quick-image`,"csrf-token":t.csrfToken,"tenant-slug":t.tenantSlug},null,8,["product-id","initial-image-url","product-name","upload-url","csrf-token","tenant-slug"]),c("div",S7,[c("div",I7,[_[39]||(_[39]=c("span",{class:"text-xs text-gray-500"},"S/N:",-1)),c("span",T7,j(E.sku),1)]),c("div",O7,[_[40]||(_[40]=c("span",{class:"text-xs text-gray-500"},"Category:",-1)),c("span",k7,j(E.category?.name||"-"),1)]),c("div",N7,[_[41]||(_[41]=c("span",{class:"text-xs text-gray-500"},"Price:",-1)),c("span",R7,j(t.currencySymbol)+j(f(E.price)),1)]),c("div",P7,[_[42]||(_[42]=c("span",{class:"text-xs text-gray-500"},"Stock:",-1)),E.track_inventory?(B(),F("span",{key:0,class:Ue(["text-xs",p(E)?"text-red-600 font-bold":"text-gray-900"])},j(E.stock_quantity)+" units ",3)):(B(),F("span",D7,"N/A"))])])]),c("div",M7,[c("a",{href:`${t.routes.base}/${E.id}/edit`,class:"flex-1 text-center bg-indigo-50 hover:bg-indigo-100 text-indigo-600 px-3 py-2 rounded text-sm font-medium transition"},[..._[43]||(_[43]=[c("i",{class:"fas fa-edit mr-1"},null,-1),$e(" Edit ",-1)])],8,B7),c("button",{type:"button",onClick:N=>x(E.id),class:"flex-1 text-center bg-red-50 hover:bg-red-100 text-red-600 px-3 py-2 rounded text-sm font-medium transition"},[..._[44]||(_[44]=[c("i",{class:"fas fa-trash mr-1"},null,-1),$e(" Delete ",-1)])],8,F7)])]))),128))]),c("div",L7,[bi(C.$slots,"pagination")])]))}},U7={class:"max-w-4xl mx-auto px-3 md:px-0"},V7={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 md:mb-6 gap-2"},j7={class:"text-xl md:text-2xl font-bold text-gray-800"},H7=["href"],W7=["action"],K7=["value"],q7={key:0,type:"hidden",name:"_method",value:"PUT"},G7={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z7={class:"md:col-span-2"},X7={key:0,class:"text-red-500 text-xs mt-1"},Y7={class:"flex gap-2"},Z7=["value"],J7={class:"flex gap-2"},Q7=["value"],ek={key:0,class:"text-red-500 text-xs mt-1"},tk={key:0,class:"text-red-500 text-xs mt-1"},rk={key:0,class:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-red-50 rounded-lg border border-red-100"},nk={class:"md:col-span-2"},ik={class:"md:col-span-2"},ok={class:"md:col-span-2 border-t pt-6"},sk={class:"grid grid-cols-1 gap-4"},ak={class:"flex items-center"},lk={key:0,class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},uk={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ck={class:"block text-sm font-medium text-gray-700 mb-1"},fk={class:"text-xs text-gray-500"},dk=["name","onUpdate:modelValue"],hk={class:"mt-4 p-3 bg-indigo-50 rounded border border-indigo-200"},pk={class:"text-sm text-indigo-800"},gk={key:1},vk={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yk={key:1,class:"md:col-span-2 border-t pt-6"},mk={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},xk=["src"],bk={key:0,class:"absolute top-2 left-2 bg-indigo-600 text-white text-xs px-2 py-1 rounded"},_k={class:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center rounded-lg"},wk=["href","data-id"],Ak=["id","action"],Ck=["value"],Ek={class:"md:col-span-2 border-t pt-6"},Sk={class:"block text-sm font-medium text-gray-700 mb-2"},Ik={class:"flex flex-col gap-4"},Tk={class:"flex gap-2"},Ok={class:"md:col-span-2 border-t pt-6"},kk={class:"flex items-center space-x-6"},Nk={class:"flex items-center"},Rk={class:"flex items-center"},Pk={class:"mt-6 md:mt-8 flex flex-col sm:flex-row justify-end gap-3 sm:gap-4"},Dk=["href"],Mk={type:"submit",class:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition"},Bk={class:"mt-4"},Fk={key:0,class:"text-red-500 text-xs mt-1"},Lk={class:"mt-4 flex justify-end gap-2"},$k={class:"mt-4"},Uk={key:0,class:"text-red-500 text-xs mt-1"},Vk={class:"mt-4 flex justify-end gap-2"},jk={class:"relative bg-black rounded-lg overflow-hidden aspect-video mb-4"},Hk=["src"],Wk={class:"flex justify-center gap-4"},Kk={__name:"ProductForm",props:{isEdit:{type:Boolean,default:!1},initialProduct:{type:Object,default:()=>({})},oldInput:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})},categories:{type:Array,default:()=>[]},brands:{type:Array,default:()=>[]},warehouses:{type:Array,default:()=>[]},existingImages:{type:Array,default:()=>[]},actionUrl:{type:String,required:!0},csrfToken:{type:String,required:!0},routes:{type:Object,required:!0}},setup(t){const e=t,r=ye([...e.categories]),n=ye([...e.brands]),i=W=>{if(e.oldInput.warehouse_stock&&e.oldInput.warehouse_stock[W])return e.oldInput.warehouse_stock[W];if(e.initialProduct.warehouses){const D=e.initialProduct.warehouses.find(re=>re.id===W);return D?D.pivot.quantity:0}return 0},o={};e.warehouses.forEach(W=>{o[W.id]=i(W.id)});const s=yr({name:e.oldInput.name||e.initialProduct.name||"",category_id:e.oldInput.category_id||e.initialProduct.category_id||"",brand_id:e.oldInput.brand_id||e.initialProduct.brand_id||"",sku:e.oldInput.sku||e.initialProduct.sku||"",price:e.oldInput.price||e.initialProduct.price||"",compare_at_price:e.oldInput.compare_at_price||e.initialProduct.compare_at_price||"",cost_price:e.oldInput.cost_price||e.initialProduct.cost_price||"",barcode:e.oldInput.barcode||e.initialProduct.barcode||"",flash_sale_price:e.oldInput.flash_sale_price||e.initialProduct.flash_sale_price||"",flash_sale_end_date:e.oldInput.flash_sale_end_date||(e.initialProduct.flash_sale_end_date?e.initialProduct.flash_sale_end_date.substring(0,16):"")||"",short_description:e.oldInput.short_description||e.initialProduct.short_description||"",description:e.oldInput.description||e.initialProduct.description||"",track_inventory:e.oldInput.track_inventory?!0:e.initialProduct.track_inventory!==void 0?!!e.initialProduct.track_inventory:!1,stock_quantity:e.oldInput.stock_quantity??e.initialProduct.stock_quantity??0,warehouse_stock:o,low_stock_threshold:e.oldInput.low_stock_threshold??e.initialProduct.low_stock_threshold??10,expiry_date:e.oldInput.expiry_date||(e.initialProduct.expiry_date?e.initialProduct.expiry_date.substring(0,10):"")||"",is_active:e.oldInput.is_active!==void 0?!!e.oldInput.is_active:e.initialProduct.is_active!==void 0?!!e.initialProduct.is_active:!0,is_featured:e.oldInput.is_featured!==void 0?!!e.oldInput.is_featured:!!e.initialProduct.is_featured}),a=Gr(()=>Object.values(s.warehouse_stock).reduce((W,D)=>W+(parseInt(D)||0),0)),l=ye(!1),u=ye(""),f=ye(""),d=ye(!1),p=ye(""),v=ye(""),y=ye(!1),b=ye(null),x=ye(null),w=ye(null),C=ye(null);let _=null;const E=W=>e.errors[W]?"border-red-500":"border-gray-300",N=async()=>{if(!u.value.trim()){f.value="Name is required";return}f.value="";try{const D=await(await fetch(e.routes.storeCategory,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e.csrfToken,Accept:"application/json"},body:JSON.stringify({name:u.value,is_active:!0})})).json();D.success?(r.value.push(D.category),s.category_id=D.category.id,l.value=!1,u.value=""):f.value=D.message||"Error"}catch{f.value="Error occurred"}},M=async()=>{if(!p.value.trim()){v.value="Name is required";return}v.value="";try{const D=await(await fetch(e.routes.storeBrand,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e.csrfToken,Accept:"application/json"},body:JSON.stringify({name:p.value,is_active:!0})})).json();D.success?(n.value.push(D.brand),s.brand_id=D.brand.id,d.value=!1,p.value=""):v.value=D.message||"Error"}catch{v.value="Error occurred"}},T=async()=>{y.value=!0,C.value=null;try{_=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),setTimeout(()=>{b.value&&(b.value.srcObject=_)},100)}catch{alert("Could not access camera."),y.value=!1}},I=()=>{_&&_.getTracks().forEach(W=>W.stop()),y.value=!1,_=null},k=()=>{const W=b.value,D=x.value;D.width=W.videoWidth,D.height=W.videoHeight,D.getContext("2d").drawImage(W,0,0,D.width,D.height),C.value=D.toDataURL("image/jpeg")},V=()=>{C.value=null},ue=()=>{if(!C.value)return;const W=atob(C.value.split(",")[1]),D=C.value.split(",")[0].split(":")[1].split(";")[0],re=new ArrayBuffer(W.length),De=new Uint8Array(re);for(let ze=0;ze<W.length;ze++)De[ze]=W.charCodeAt(ze);const be=new Blob([re],{type:D}),Pe=new File([be],"camera-capture-"+Date.now()+".jpg",{type:D}),me=new DataTransfer;w.value.files&&Array.from(w.value.files).forEach(ze=>me.items.add(ze)),me.items.add(Pe),w.value.files=me.files,I()};return(W,D)=>(B(),F("div",U7,[c("div",V7,[c("h2",j7,j(t.isEdit?"Edit Product":"Add New Product"),1),c("a",{href:t.routes.index,class:"text-sm text-gray-600 hover:text-gray-900"},"â† Back to Products",8,H7)]),c("form",{action:t.actionUrl,method:"POST",enctype:"multipart/form-data",class:"bg-white rounded-lg shadow p-4 md:p-8"},[c("input",{type:"hidden",name:"_token",value:t.csrfToken},null,8,K7),t.isEdit?(B(),F("input",q7)):_e("",!0),c("div",G7,[c("div",z7,[D[26]||(D[26]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Product Name *",-1)),le(c("input",{type:"text",name:"name","onUpdate:modelValue":D[0]||(D[0]=re=>s.name=re),required:"",class:Ue(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",E("name")])},null,2),[[Ee,s.name]]),t.errors.name?(B(),F("p",X7,j(t.errors.name[0]),1)):_e("",!0)]),c("div",null,[D[29]||(D[29]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),c("div",Y7,[le(c("select",{name:"category_id","onUpdate:modelValue":D[1]||(D[1]=re=>s.category_id=re),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[D[27]||(D[27]=c("option",{value:""},"Select Category",-1)),(B(!0),F(Re,null,Ke(r.value,re=>(B(),F("option",{key:re.id,value:re.id},j(re.name),9,Z7))),128))],512),[[jt,s.category_id]]),c("button",{type:"button",onClick:D[2]||(D[2]=re=>l.value=!0),class:"px-3 py-2 bg-gray-100 hover:bg-gray-200 border border-gray-300 rounded-lg text-gray-600"},[...D[28]||(D[28]=[c("i",{class:"fas fa-plus"},null,-1)])])])]),c("div",null,[D[32]||(D[32]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Brand",-1)),c("div",J7,[le(c("select",{name:"brand_id","onUpdate:modelValue":D[3]||(D[3]=re=>s.brand_id=re),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[D[30]||(D[30]=c("option",{value:""},"Select Brand",-1)),(B(!0),F(Re,null,Ke(n.value,re=>(B(),F("option",{key:re.id,value:re.id},j(re.name),9,Q7))),128))],512),[[jt,s.brand_id]]),c("button",{type:"button",onClick:D[4]||(D[4]=re=>d.value=!0),class:"px-3 py-2 bg-gray-100 hover:bg-gray-200 border border-gray-300 rounded-lg text-gray-600"},[...D[31]||(D[31]=[c("i",{class:"fas fa-plus"},null,-1)])])])]),c("div",null,[D[33]||(D[33]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Serial Number (Auto-generated if empty)",-1)),le(c("input",{type:"text",name:"sku","onUpdate:modelValue":D[5]||(D[5]=re=>s.sku=re),class:Ue(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",E("sku")])},null,2),[[Ee,s.sku]]),t.errors.sku?(B(),F("p",ek,j(t.errors.sku[0]),1)):_e("",!0)]),c("div",null,[D[34]||(D[34]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Selling Price *",-1)),le(c("input",{type:"number",name:"price","onUpdate:modelValue":D[6]||(D[6]=re=>s.price=re),step:"0.01",min:"0",required:"",class:Ue(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",E("price")])},null,2),[[Ee,s.price]]),t.errors.price?(B(),F("p",tk,j(t.errors.price[0]),1)):_e("",!0)]),t.isEdit?(B(),F("div",rk,[c("div",null,[D[35]||(D[35]=c("label",{class:"block text-sm font-medium text-red-600 mb-2"},"âš¡ Flash Sale Price",-1)),le(c("input",{type:"number",name:"flash_sale_price","onUpdate:modelValue":D[7]||(D[7]=re=>s.flash_sale_price=re),step:"0.01",min:"0",class:"w-full px-4 py-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 bg-white",placeholder:"Optional override"},null,512),[[Ee,s.flash_sale_price]])]),c("div",null,[D[36]||(D[36]=c("label",{class:"block text-sm font-medium text-red-600 mb-2"},"âš¡ Flash Sale Ends At",-1)),le(c("input",{type:"datetime-local",name:"flash_sale_end_date","onUpdate:modelValue":D[8]||(D[8]=re=>s.flash_sale_end_date=re),class:"w-full px-4 py-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 bg-white"},null,512),[[Ee,s.flash_sale_end_date]])])])):_e("",!0),c("div",null,[D[37]||(D[37]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Compare At Price",-1)),le(c("input",{type:"number",name:"compare_at_price","onUpdate:modelValue":D[9]||(D[9]=re=>s.compare_at_price=re),step:"0.01",min:"0",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[Ee,s.compare_at_price]])]),c("div",null,[D[38]||(D[38]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cost Price",-1)),le(c("input",{type:"number",name:"cost_price","onUpdate:modelValue":D[10]||(D[10]=re=>s.cost_price=re),step:"0.01",min:"0",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[Ee,s.cost_price]])]),c("div",null,[D[39]||(D[39]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Barcode",-1)),le(c("input",{type:"text",name:"barcode","onUpdate:modelValue":D[11]||(D[11]=re=>s.barcode=re),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[Ee,s.barcode]])]),c("div",nk,[D[40]||(D[40]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Short Description",-1)),le(c("textarea",{name:"short_description","onUpdate:modelValue":D[12]||(D[12]=re=>s.short_description=re),rows:"2",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[Ee,s.short_description]])]),c("div",ik,[D[41]||(D[41]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),le(c("textarea",{name:"description","onUpdate:modelValue":D[13]||(D[13]=re=>s.description=re),rows:"4",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[Ee,s.description]])]),c("div",ok,[D[49]||(D[49]=c("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Inventory",-1)),c("div",sk,[c("div",null,[c("label",ak,[le(c("input",{type:"checkbox",name:"track_inventory",value:"1","onUpdate:modelValue":D[14]||(D[14]=re=>s.track_inventory=re),class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 mr-2"},null,512),[[tn,s.track_inventory]]),D[42]||(D[42]=c("span",{class:"text-sm font-medium text-gray-700"},"Track Inventory",-1))])]),t.warehouses.length>0?(B(),F("div",lk,[D[45]||(D[45]=c("h4",{class:"text-sm font-bold text-gray-700 mb-3"},"Stock by Warehouse",-1)),c("div",uk,[(B(!0),F(Re,null,Ke(t.warehouses,re=>(B(),F("div",{key:re.id},[c("label",ck,[$e(j(re.name)+" ",1),c("span",fk,"("+j(re.code)+")",1)]),le(c("input",{type:"number",name:`warehouse_stock[${re.id}]`,"onUpdate:modelValue":De=>s.warehouse_stock[re.id]=De,min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,8,dk),[[Ee,s.warehouse_stock[re.id]]])]))),128))]),c("div",hk,[c("p",pk,[D[43]||(D[43]=c("strong",null,"Total Stock:",-1)),c("span",null,j(a.value),1),D[44]||(D[44]=$e(" units ",-1))])])])):(B(),F("div",gk,[D[46]||(D[46]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Stock Quantity",-1)),le(c("input",{type:"number",name:"stock_quantity","onUpdate:modelValue":D[15]||(D[15]=re=>s.stock_quantity=re),min:"0",ref:"totalStockInput",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[Ee,s.stock_quantity]])])),c("div",vk,[c("div",null,[D[47]||(D[47]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Low Stock Threshold",-1)),le(c("input",{type:"number",name:"low_stock_threshold","onUpdate:modelValue":D[16]||(D[16]=re=>s.low_stock_threshold=re),min:"0",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[Ee,s.low_stock_threshold]])]),c("div",null,[D[48]||(D[48]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Expiry Date",-1)),le(c("input",{type:"date",name:"expiry_date","onUpdate:modelValue":D[17]||(D[17]=re=>s.expiry_date=re),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[Ee,s.expiry_date]])])])])]),t.isEdit&&t.existingImages.length>0?(B(),F("div",yk,[D[52]||(D[52]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Current Images",-1)),c("div",mk,[(B(!0),F(Re,null,Ke(t.existingImages,re=>(B(),F("div",{key:re.id,class:"relative group"},[c("img",{src:re.url,class:"h-32 w-full object-cover rounded-lg border border-gray-200"},null,8,xk),re.is_primary?(B(),F("span",bk,"Primary")):_e("",!0),c("div",_k,[c("a",{href:`${t.routes.deleteImageBase}/${re.id}`,onclick:"event.preventDefault(); if(confirm('Delete this image?')) document.getElementById('delete-img-' + this.getAttribute('data-id')).submit()","data-id":re.id,class:"text-white hover:text-red-400 cursor-pointer"},[...D[50]||(D[50]=[c("i",{class:"fas fa-trash text-2xl"},null,-1)])],8,wk)])]))),128))]),(B(!0),F(Re,null,Ke(t.existingImages,re=>(B(),F("div",{key:`form-${re.id}`,class:"hidden"},[c("form",{id:`delete-img-${re.id}`,action:`${t.routes.deleteImageBase}/${re.id}`,method:"POST"},[c("input",{type:"hidden",name:"_token",value:t.csrfToken},null,8,Ck),D[51]||(D[51]=c("input",{type:"hidden",name:"_method",value:"DELETE"},null,-1))],8,Ak)]))),128))])):_e("",!0),c("div",Ek,[c("label",Sk,j(t.isEdit?"Add More Images":"Product Images"),1),c("div",Ik,[c("div",Tk,[c("input",{type:"file",ref_key:"imageInput",ref:w,name:"images[]",multiple:"",accept:"image/*",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),c("button",{type:"button",onClick:T,class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2 whitespace-nowrap"},[...D[53]||(D[53]=[c("i",{class:"fas fa-camera"},null,-1),$e(" Use Camera ",-1)])])]),D[54]||(D[54]=c("p",{class:"text-sm text-gray-500"},"You can select multiple images or capture them from your camera. First image will be the primary image.",-1))])]),c("div",Ok,[c("div",kk,[c("label",Nk,[le(c("input",{type:"checkbox",name:"is_active",value:"1","onUpdate:modelValue":D[18]||(D[18]=re=>s.is_active=re),class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 mr-2"},null,512),[[tn,s.is_active]]),D[55]||(D[55]=c("span",{class:"text-sm font-medium text-gray-700"},"Active",-1))]),c("label",Rk,[le(c("input",{type:"checkbox",name:"is_featured",value:"1","onUpdate:modelValue":D[19]||(D[19]=re=>s.is_featured=re),class:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 mr-2"},null,512),[[tn,s.is_featured]]),D[56]||(D[56]=c("span",{class:"text-sm font-medium text-gray-700"},"Featured Product",-1))])])])]),c("div",Pk,[c("a",{href:t.routes.index,class:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-center"}," Cancel ",8,Dk),c("button",Mk,j(t.isEdit?"Update Product":"Create Product"),1)])],8,W7),tt(Uo,{show:l.value,title:"Create New Category",onClose:D[22]||(D[22]=re=>l.value=!1)},{default:Cr(()=>[c("div",Bk,[D[57]||(D[57]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Name",-1)),le(c("input",{type:"text","onUpdate:modelValue":D[20]||(D[20]=re=>u.value=re),onKeydown:ju(N,["enter"]),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,544),[[Ee,u.value]]),f.value?(B(),F("p",Fk,j(f.value),1)):_e("",!0)]),c("div",Lk,[c("button",{onClick:D[21]||(D[21]=re=>l.value=!1),class:"px-4 py-2 bg-gray-200 rounded text-gray-700"},"Cancel"),c("button",{onClick:N,class:"px-4 py-2 bg-indigo-600 text-white rounded"},"Create")])]),_:1},8,["show"]),tt(Uo,{show:d.value,title:"Create New Brand",onClose:D[25]||(D[25]=re=>d.value=!1)},{default:Cr(()=>[c("div",$k,[D[58]||(D[58]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Name",-1)),le(c("input",{type:"text","onUpdate:modelValue":D[23]||(D[23]=re=>p.value=re),onKeydown:ju(M,["enter"]),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,544),[[Ee,p.value]]),v.value?(B(),F("p",Uk,j(v.value),1)):_e("",!0)]),c("div",Vk,[c("button",{onClick:D[24]||(D[24]=re=>d.value=!1),class:"px-4 py-2 bg-gray-200 rounded text-gray-700"},"Cancel"),c("button",{onClick:M,class:"px-4 py-2 bg-indigo-600 text-white rounded"},"Create")])]),_:1},8,["show"]),tt(Uo,{show:y.value,title:"Capture Image",onClose:I,"max-width":"max-w-2xl"},{default:Cr(()=>[c("div",jk,[c("video",{ref_key:"videoElement",ref:b,class:"w-full h-full object-contain",autoplay:"",playsinline:""},null,512),c("canvas",{ref_key:"canvasElement",ref:x,class:"hidden"},null,512),C.value?(B(),F("img",{key:0,src:C.value,class:"absolute inset-0 w-full h-full object-contain bg-black"},null,8,Hk)):_e("",!0)]),c("div",Wk,[C.value?(B(),F(Re,{key:1},[c("button",{onClick:V,class:"px-6 py-2 bg-gray-600 text-white rounded-full"},[...D[60]||(D[60]=[c("i",{class:"fas fa-redo mr-2"},null,-1),$e(" Retake ",-1)])]),c("button",{onClick:ue,class:"px-6 py-2 bg-green-600 text-white rounded-full"},[...D[61]||(D[61]=[c("i",{class:"fas fa-check mr-2"},null,-1),$e(" Use Photo ",-1)])])],64)):(B(),F("button",{key:0,onClick:k,class:"px-6 py-2 bg-indigo-600 text-white rounded-full"},[...D[59]||(D[59]=[c("i",{class:"fas fa-camera mr-2"},null,-1),$e(" Capture ",-1)])]))])]),_:1},8,["show"])]))}},qk={class:"bg-white rounded-lg shadow p-8"},Gk={class:"text-center"},zk={class:"text-sm text-gray-500 mt-2"},Xk={key:0,class:"mt-6"},Yk={class:"text-lg font-medium text-gray-900 mb-4"},Zk={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},Jk=["src"],Qk={class:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded flex items-center justify-center"},e9=["onClick"],t9={class:"text-xs text-gray-600 mt-1 truncate"},r9={class:"text-xs font-mono text-indigo-600"},n9={key:0,class:"mt-6 bg-white rounded-lg shadow p-6"},i9={class:"grid grid-cols-3 gap-4 mb-6"},o9={class:"bg-green-50 p-4 rounded-lg"},s9={class:"text-2xl font-bold text-green-700"},a9={class:"bg-yellow-50 p-4 rounded-lg"},l9={class:"text-2xl font-bold text-yellow-700"},u9={class:"bg-red-50 p-4 rounded-lg"},c9={class:"text-2xl font-bold text-red-700"},f9={key:0,class:"mb-6"},d9={class:"space-y-2"},h9={class:"flex items-center"},p9=["src"],g9={class:"text-sm font-medium text-gray-900"},v9={class:"text-xs text-gray-500"},y9={key:1,class:"mb-6"},m9={class:"space-y-2"},x9={class:"text-sm font-medium text-gray-900"},b9={class:"text-xs text-gray-500"},_9={key:2},w9={class:"space-y-2"},A9={class:"text-sm font-medium text-gray-900"},C9={class:"text-xs text-red-600"},E9={__name:"BulkUploadManager",props:{uploadUrl:{type:String,required:!0},csrfToken:{type:String,required:!0}},setup(t){const e=t,r=ye([]),n=ye(!1),i=ye(!1),o=ye(0),s=ye(null),a=ye(null),l=b=>{const x=b.replace(/\.[^/.]+$/,""),w=[/^([A-Z0-9\-_]+)$/i,/^([A-Z0-9\-_]+?)[\-_](front|back|side|image|photo|main|\d+)/i,/[_\-]([A-Z0-9\-_]+)$/i];for(let C of w){const _=x.match(C);if(_)return _[1].toUpperCase()}return x.toUpperCase()},u=b=>{b.filter(w=>w.type.startsWith("image/")).forEach(w=>{const C=new FileReader;C.onload=_=>{r.value.push({file:w,name:w.name,preview:_.target.result,sku:l(w.name)})},C.readAsDataURL(w)})},f=b=>{n.value=!1;const x=Array.from(b.dataTransfer.files);u(x)},d=b=>{const x=Array.from(b.target.files);u(x),b.target.value=""},p=b=>{r.value.splice(b,1)},v=async()=>{if(r.value.length===0)return;i.value=!0,o.value=0;const b=new FormData;r.value.forEach((x,w)=>{b.append(`images[${w}]`,x.file)}),o.value=r.value.length;try{const w=await(await fetch(e.uploadUrl,{method:"POST",body:b,headers:{"X-CSRF-TOKEN":e.csrfToken,Accept:"application/json"}})).json();w.success?(s.value=w,r.value=[]):alert("Upload failed: "+(w.message||"Unknown error"))}catch(x){console.error("Upload error:",x),alert("Upload failed. Please try again.")}finally{i.value=!1}},y=()=>{r.value=[],s.value=null,o.value=0};return(b,x)=>(B(),F(Re,null,[c("div",qk,[c("div",{onDragover:x[0]||(x[0]=In(w=>n.value=!0,["prevent"])),onDragleave:x[1]||(x[1]=w=>n.value=!1),onDrop:In(f,["prevent"]),onClick:x[2]||(x[2]=w=>b.$refs.fileInput.click()),class:Ue([n.value?"border-indigo-500 bg-indigo-50":"border-gray-300","border-2 border-dashed rounded-lg p-12 text-center cursor-pointer transition-colors duration-200"])},[le(c("div",null,[...x[3]||(x[3]=[c("i",{class:"fas fa-cloud-upload-alt text-6xl text-gray-400 mb-4"},null,-1),c("p",{class:"text-lg font-medium text-gray-700 mb-2"},"Drag and drop images here",-1),c("p",{class:"text-sm text-gray-500"},"or click to browse",-1)])],512),[[Rt,!i.value&&r.value.length===0]]),le(c("div",Gk,[x[4]||(x[4]=c("i",{class:"fas fa-spinner fa-spin text-6xl text-indigo-600 mb-4"},null,-1)),x[5]||(x[5]=c("p",{class:"text-lg font-medium text-gray-700"},"Uploading images...",-1)),c("p",zk,"Processing "+j(o.value)+" of "+j(r.value.length)+" images",1)],512),[[Rt,i.value]]),c("input",{type:"file",ref_key:"fileInput",ref:a,onChange:d,accept:"image/*",multiple:"",class:"hidden"},null,544)],34),r.value.length>0&&!i.value?(B(),F("div",Xk,[c("h3",Yk,"Selected Images ("+j(r.value.length)+")",1),c("div",Zk,[(B(!0),F(Re,null,Ke(r.value,(w,C)=>(B(),F("div",{key:C,class:"relative group"},[c("img",{src:w.preview,class:"w-full h-24 object-cover rounded border"},null,8,Jk),c("div",Qk,[c("button",{onClick:In(_=>p(C),["stop"]),class:"text-white hover:text-red-400"},[...x[6]||(x[6]=[c("i",{class:"fas fa-times-circle text-2xl"},null,-1)])],8,e9)]),c("p",t9,j(w.name),1),c("p",r9,j(w.sku),1)]))),128))]),c("button",{onClick:v,class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 rounded-lg transition"},[x[7]||(x[7]=c("i",{class:"fas fa-upload mr-2"},null,-1)),$e(" Upload "+j(r.value.length)+" Images ",1)])])):_e("",!0)]),s.value?(B(),F("div",n9,[x[16]||(x[16]=c("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Upload Results",-1)),c("div",i9,[c("div",o9,[x[8]||(x[8]=c("p",{class:"text-sm text-green-600 font-medium"},"Matched",-1)),c("p",s9,j(s.value.summary.matched||0),1)]),c("div",a9,[x[9]||(x[9]=c("p",{class:"text-sm text-yellow-600 font-medium"},"Unmatched",-1)),c("p",l9,j(s.value.summary.unmatched||0),1)]),c("div",u9,[x[10]||(x[10]=c("p",{class:"text-sm text-red-600 font-medium"},"Errors",-1)),c("p",c9,j(s.value.summary.errors||0),1)])]),s.value.results.matched&&s.value.results.matched.length>0?(B(),F("div",f9,[x[12]||(x[12]=c("h4",{class:"font-medium text-green-700 mb-2"},"âœ“ Successfully Uploaded",-1)),c("div",d9,[(B(!0),F(Re,null,Ke(s.value.results.matched,w=>(B(),F("div",{key:w.filename,class:"flex items-center justify-between bg-green-50 p-3 rounded"},[c("div",h9,[c("img",{src:w.url,class:"w-12 h-12 object-cover rounded mr-3"},null,8,p9),c("div",null,[c("p",g9,j(w.product_name),1),c("p",v9,"SKU: "+j(w.sku)+" â€¢ "+j(w.filename),1)])]),x[11]||(x[11]=c("i",{class:"fas fa-check-circle text-green-600"},null,-1))]))),128))])])):_e("",!0),s.value.results.unmatched&&s.value.results.unmatched.length>0?(B(),F("div",y9,[x[14]||(x[14]=c("h4",{class:"font-medium text-yellow-700 mb-2"},"âš  No Matching Product Found",-1)),c("div",m9,[(B(!0),F(Re,null,Ke(s.value.results.unmatched,w=>(B(),F("div",{key:w.filename,class:"flex items-center justify-between bg-yellow-50 p-3 rounded"},[c("div",null,[c("p",x9,j(w.filename),1),c("p",b9,"Extracted SKU: "+j(w.sku),1)]),x[13]||(x[13]=c("i",{class:"fas fa-exclamation-triangle text-yellow-600"},null,-1))]))),128))])])):_e("",!0),s.value.results.errors&&s.value.results.errors.length>0?(B(),F("div",_9,[x[15]||(x[15]=c("h4",{class:"font-medium text-red-700 mb-2"},"âœ— Upload Errors",-1)),c("div",w9,[(B(!0),F(Re,null,Ke(s.value.results.errors,w=>(B(),F("div",{key:w.filename,class:"bg-red-50 p-3 rounded"},[c("p",A9,j(w.filename),1),c("p",C9,j(w.error),1)]))),128))])])):_e("",!0),c("button",{onClick:y,class:"mt-6 w-full bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 rounded-lg transition"}," Upload More Images ")])):_e("",!0)],64))}};var S9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I9(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bu={exports:{}},T9=bu.exports,yg;function O9(){return yg||(yg=1,(function(t,e){(function(r,n){t.exports=n()})(T9,function(){var r=function(h,g){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,A){m.__proto__=A}||function(m,A){for(var S in A)Object.prototype.hasOwnProperty.call(A,S)&&(m[S]=A[S])})(h,g)},n=function(){return(n=Object.assign||function(h){for(var g,m=1,A=arguments.length;m<A;m++)for(var S in g=arguments[m])Object.prototype.hasOwnProperty.call(g,S)&&(h[S]=g[S]);return h}).apply(this,arguments)};function i(h,g,m){for(var A,S=0,O=g.length;S<O;S++)!A&&S in g||((A=A||Array.prototype.slice.call(g,0,S))[S]=g[S]);return h.concat(A||Array.prototype.slice.call(g))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:S9,s=Object.keys,a=Array.isArray;function l(h,g){return typeof g!="object"||s(g).forEach(function(m){h[m]=g[m]}),h}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var u=Object.getPrototypeOf,f={}.hasOwnProperty;function d(h,g){return f.call(h,g)}function p(h,g){typeof g=="function"&&(g=g(u(h))),(typeof Reflect>"u"?s:Reflect.ownKeys)(g).forEach(function(m){y(h,m,g[m])})}var v=Object.defineProperty;function y(h,g,m,A){v(h,g,l(m&&d(m,"get")&&typeof m.get=="function"?{get:m.get,set:m.set,configurable:!0}:{value:m,configurable:!0,writable:!0},A))}function b(h){return{from:function(g){return h.prototype=Object.create(g.prototype),y(h.prototype,"constructor",h),{extend:p.bind(null,h.prototype)}}}}var x=Object.getOwnPropertyDescriptor,w=[].slice;function C(h,g,m){return w.call(h,g,m)}function _(h,g){return g(h)}function E(h){if(!h)throw new Error("Assertion Failed")}function N(h){o.setImmediate?setImmediate(h):setTimeout(h,0)}function M(h,g){if(typeof g=="string"&&d(h,g))return h[g];if(!g)return h;if(typeof g!="string"){for(var m=[],A=0,S=g.length;A<S;++A){var O=M(h,g[A]);m.push(O)}return m}var P=g.indexOf(".");if(P!==-1){var L=h[g.substr(0,P)];return L==null?void 0:M(L,g.substr(P+1))}}function T(h,g,m){if(h&&g!==void 0&&!("isFrozen"in Object&&Object.isFrozen(h)))if(typeof g!="string"&&"length"in g){E(typeof m!="string"&&"length"in m);for(var A=0,S=g.length;A<S;++A)T(h,g[A],m[A])}else{var O,P,L=g.indexOf(".");L!==-1?(O=g.substr(0,L),(P=g.substr(L+1))===""?m===void 0?a(h)&&!isNaN(parseInt(O))?h.splice(O,1):delete h[O]:h[O]=m:T(L=!(L=h[O])||!d(h,O)?h[O]={}:L,P,m)):m===void 0?a(h)&&!isNaN(parseInt(g))?h.splice(g,1):delete h[g]:h[g]=m}}function I(h){var g,m={};for(g in h)d(h,g)&&(m[g]=h[g]);return m}var k=[].concat;function V(h){return k.apply([],h)}var je="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(V([8,16,32,64].map(function(h){return["Int","Uint","Float"].map(function(g){return g+h+"Array"})}))).filter(function(h){return o[h]}),ue=new Set(je.map(function(h){return o[h]})),W=null;function D(h){return W=new WeakMap,h=(function g(m){if(!m||typeof m!="object")return m;var A=W.get(m);if(A)return A;if(a(m)){A=[],W.set(m,A);for(var S=0,O=m.length;S<O;++S)A.push(g(m[S]))}else if(ue.has(m.constructor))A=m;else{var P,L=u(m);for(P in A=L===Object.prototype?{}:Object.create(L),W.set(m,A),m)d(m,P)&&(A[P]=g(m[P]))}return A})(h),W=null,h}var re={}.toString;function De(h){return re.call(h).slice(8,-1)}var be=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Pe=typeof be=="symbol"?function(h){var g;return h!=null&&(g=h[be])&&g.apply(h)}:function(){return null};function me(h,g){return g=h.indexOf(g),0<=g&&h.splice(g,1),0<=g}var ze={};function Mt(h){var g,m,A,S;if(arguments.length===1){if(a(h))return h.slice();if(this===ze&&typeof h=="string")return[h];if(S=Pe(h)){for(m=[];!(A=S.next()).done;)m.push(A.value);return m}if(h==null)return[h];if(typeof(g=h.length)!="number")return[h];for(m=new Array(g);g--;)m[g]=h[g];return m}for(g=arguments.length,m=new Array(g);g--;)m[g]=arguments[g];return m}var Et=typeof Symbol<"u"?function(h){return h[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Be=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Be),$t={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $r(h,g){this.name=h,this.message=g}function Nn(h,g){return h+". Errors: "+Object.keys(g).map(function(m){return g[m].toString()}).filter(function(m,A,S){return S.indexOf(m)===A}).join(`
`)}function vn(h,g,m,A){this.failures=g,this.failedKeys=A,this.successCount=m,this.message=Nn(h,g)}function Xr(h,g){this.name="BulkError",this.failures=Object.keys(g).map(function(m){return g[m]}),this.failuresByPos=g,this.message=Nn(h,this.failures)}b($r).from(Error).extend({toString:function(){return this.name+": "+this.message}}),b(vn).from($r),b(Xr).from($r);var Gn=mn.reduce(function(h,g){return h[g]=g+"Error",h},{}),zn=$r,Le=mn.reduce(function(h,g){var m=g+"Error";function A(S,O){this.name=m,S?typeof S=="string"?(this.message="".concat(S).concat(O?`
 `+O:""),this.inner=O||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=$t[g]||m,this.inner=null)}return b(A).from(zn),h[g]=A,h},{});Le.Syntax=SyntaxError,Le.Type=TypeError,Le.Range=RangeError;var yn=Be.reduce(function(h,g){return h[g+"Error"]=Le[g],h},{}),Rn=mn.reduce(function(h,g){return["Syntax","Type","Range"].indexOf(g)===-1&&(h[g+"Error"]=Le[g]),h},{});function at(){}function $(h){return h}function G(h,g){return h==null||h===$?g:function(m){return g(h(m))}}function ae(h,g){return function(){h.apply(this,arguments),g.apply(this,arguments)}}function ve(h,g){return h===at?g:function(){var m=h.apply(this,arguments);m!==void 0&&(arguments[0]=m);var A=this.onsuccess,S=this.onerror;this.onsuccess=null,this.onerror=null;var O=g.apply(this,arguments);return A&&(this.onsuccess=this.onsuccess?ae(A,this.onsuccess):A),S&&(this.onerror=this.onerror?ae(S,this.onerror):S),O!==void 0?O:m}}function pe(h,g){return h===at?g:function(){h.apply(this,arguments);var m=this.onsuccess,A=this.onerror;this.onsuccess=this.onerror=null,g.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?ae(m,this.onsuccess):m),A&&(this.onerror=this.onerror?ae(A,this.onerror):A)}}function Q(h,g){return h===at?g:function(m){var A=h.apply(this,arguments);l(m,A);var S=this.onsuccess,O=this.onerror;return this.onsuccess=null,this.onerror=null,m=g.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?ae(S,this.onsuccess):S),O&&(this.onerror=this.onerror?ae(O,this.onerror):O),A===void 0?m===void 0?void 0:m:l(A,m)}}function Z(h,g){return h===at?g:function(){return g.apply(this,arguments)!==!1&&h.apply(this,arguments)}}function ie(h,g){return h===at?g:function(){var m=h.apply(this,arguments);if(m&&typeof m.then=="function"){for(var A=this,S=arguments.length,O=new Array(S);S--;)O[S]=arguments[S];return m.then(function(){return g.apply(A,O)})}return g.apply(this,arguments)}}Rn.ModifyError=vn,Rn.DexieError=$r,Rn.BulkError=Xr;var ge=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function he(h){ge=h}var Ve={},ke=100,je=typeof Promise>"u"?[]:(function(){var h=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[h,u(h),h];var g=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[g,u(g),h]})(),Be=je[0],mn=je[1],je=je[2],mn=mn&&mn.then,Ye=Be&&Be.constructor,xt=!!je,lt=function(h,g){Sr.push([h,g]),Wt&&(queueMicrotask(ob),Wt=!1)},ur=!0,Wt=!0,tr=[],cr=[],ai=$,Pn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:at,pgp:!1,env:{},finalize:at},Ne=Pn,Sr=[],Xn=0,uo=[];function Oe(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var g=this._PSD=Ne;if(typeof h!="function"){if(h!==Ve)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&jc(this,this._value))}this._state=null,this._value=null,++g.ref,(function m(A,S){try{S(function(O){if(A._state===null){if(O===A)throw new TypeError("A promise cannot be resolved with itself.");var P=A._lib&&Yo();O&&typeof O.then=="function"?m(A,function(L,H){O instanceof Oe?O._then(L,H):O.then(L,H)}):(A._state=!0,A._value=O,qh(A)),P&&Zo()}},jc.bind(null,A))}catch(O){jc(A,O)}})(this,h)}var Vc={get:function(){var h=Ne,g=gl;function m(A,S){var O=this,P=!h.global&&(h!==Ne||g!==gl),L=P&&!Oi(),H=new Oe(function(K,Y){Hc(O,new Kh(zh(A,h,P,L),zh(S,h,P,L),K,Y,h))});return this._consoleTask&&(H._consoleTask=this._consoleTask),H}return m.prototype=Ve,m},set:function(h){y(this,"then",h&&h.prototype===Ve?Vc:{get:function(){return h},set:Vc.set})}};function Kh(h,g,m,A,S){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof g=="function"?g:null,this.resolve=m,this.reject=A,this.psd=S}function jc(h,g){var m,A;cr.push(g),h._state===null&&(m=h._lib&&Yo(),g=ai(g),h._state=!1,h._value=g,A=h,tr.some(function(S){return S._value===A._value})||tr.push(A),qh(h),m&&Zo())}function qh(h){var g=h._listeners;h._listeners=[];for(var m=0,A=g.length;m<A;++m)Hc(h,g[m]);var S=h._PSD;--S.ref||S.finalize(),Xn===0&&(++Xn,lt(function(){--Xn==0&&Wc()},[]))}function Hc(h,g){if(h._state!==null){var m=h._state?g.onFulfilled:g.onRejected;if(m===null)return(h._state?g.resolve:g.reject)(h._value);++g.psd.ref,++Xn,lt(ib,[m,h,g])}else h._listeners.push(g)}function ib(h,g,m){try{var A,S=g._value;!g._state&&cr.length&&(cr=[]),A=ge&&g._consoleTask?g._consoleTask.run(function(){return h(S)}):h(S),g._state||cr.indexOf(S)!==-1||(function(O){for(var P=tr.length;P;)if(tr[--P]._value===O._value)return tr.splice(P,1)})(g),m.resolve(A)}catch(O){m.reject(O)}finally{--Xn==0&&Wc(),--m.psd.ref||m.psd.finalize()}}function ob(){co(Pn,function(){Yo()&&Zo()})}function Yo(){var h=ur;return Wt=ur=!1,h}function Zo(){var h,g,m;do for(;0<Sr.length;)for(h=Sr,Sr=[],m=h.length,g=0;g<m;++g){var A=h[g];A[0].apply(null,A[1])}while(0<Sr.length);Wt=ur=!0}function Wc(){var h=tr;tr=[],h.forEach(function(A){A._PSD.onunhandled.call(null,A._value,A)});for(var g=uo.slice(0),m=g.length;m;)g[--m]()}function dl(h){return new Oe(Ve,!1,h)}function Bt(h,g){var m=Ne;return function(){var A=Yo(),S=Ne;try{return ki(m,!0),h.apply(this,arguments)}catch(O){g&&g(O)}finally{ki(S,!1),A&&Zo()}}}p(Oe.prototype,{then:Vc,_then:function(h,g){Hc(this,new Kh(null,null,h,g,Ne))},catch:function(h){if(arguments.length===1)return this.then(null,h);var g=h,m=arguments[1];return typeof g=="function"?this.then(null,function(A){return(A instanceof g?m:dl)(A)}):this.then(null,function(A){return(A&&A.name===g?m:dl)(A)})},finally:function(h){return this.then(function(g){return Oe.resolve(h()).then(function(){return g})},function(g){return Oe.resolve(h()).then(function(){return dl(g)})})},timeout:function(h,g){var m=this;return h<1/0?new Oe(function(A,S){var O=setTimeout(function(){return S(new Le.Timeout(g))},h);m.then(A,S).finally(clearTimeout.bind(null,O))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&y(Oe.prototype,Symbol.toStringTag,"Dexie.Promise"),Pn.env=Gh(),p(Oe,{all:function(){var h=Mt.apply(null,arguments).map(vl);return new Oe(function(g,m){h.length===0&&g([]);var A=h.length;h.forEach(function(S,O){return Oe.resolve(S).then(function(P){h[O]=P,--A||g(h)},m)})})},resolve:function(h){return h instanceof Oe?h:h&&typeof h.then=="function"?new Oe(function(g,m){h.then(g,m)}):new Oe(Ve,!0,h)},reject:dl,race:function(){var h=Mt.apply(null,arguments).map(vl);return new Oe(function(g,m){h.map(function(A){return Oe.resolve(A).then(g,m)})})},PSD:{get:function(){return Ne},set:function(h){return Ne=h}},totalEchoes:{get:function(){return gl}},newPSD:Ti,usePSD:co,scheduler:{get:function(){return lt},set:function(h){lt=h}},rejectionMapper:{get:function(){return ai},set:function(h){ai=h}},follow:function(h,g){return new Oe(function(m,A){return Ti(function(S,O){var P=Ne;P.unhandleds=[],P.onunhandled=O,P.finalize=ae(function(){var L,H=this;L=function(){H.unhandleds.length===0?S():O(H.unhandleds[0])},uo.push(function K(){L(),uo.splice(uo.indexOf(K),1)}),++Xn,lt(function(){--Xn==0&&Wc()},[])},P.finalize),h()},g,m,A)})}}),Ye&&(Ye.allSettled&&y(Oe,"allSettled",function(){var h=Mt.apply(null,arguments).map(vl);return new Oe(function(g){h.length===0&&g([]);var m=h.length,A=new Array(m);h.forEach(function(S,O){return Oe.resolve(S).then(function(P){return A[O]={status:"fulfilled",value:P}},function(P){return A[O]={status:"rejected",reason:P}}).then(function(){return--m||g(A)})})})}),Ye.any&&typeof AggregateError<"u"&&y(Oe,"any",function(){var h=Mt.apply(null,arguments).map(vl);return new Oe(function(g,m){h.length===0&&m(new AggregateError([]));var A=h.length,S=new Array(A);h.forEach(function(O,P){return Oe.resolve(O).then(function(L){return g(L)},function(L){S[P]=L,--A||m(new AggregateError(S))})})})}),Ye.withResolvers&&(Oe.withResolvers=Ye.withResolvers));var fr={awaits:0,echoes:0,id:0},sb=0,hl=[],pl=0,gl=0,ab=0;function Ti(h,g,m,A){var S=Ne,O=Object.create(S);return O.parent=S,O.ref=0,O.global=!1,O.id=++ab,Pn.env,O.env=xt?{Promise:Oe,PromiseProp:{value:Oe,configurable:!0,writable:!0},all:Oe.all,race:Oe.race,allSettled:Oe.allSettled,any:Oe.any,resolve:Oe.resolve,reject:Oe.reject}:{},g&&l(O,g),++S.ref,O.finalize=function(){--this.parent.ref||this.parent.finalize()},A=co(O,h,m,A),O.ref===0&&O.finalize(),A}function Jo(){return fr.id||(fr.id=++sb),++fr.awaits,fr.echoes+=ke,fr.id}function Oi(){return!!fr.awaits&&(--fr.awaits==0&&(fr.id=0),fr.echoes=fr.awaits*ke,!0)}function vl(h){return fr.echoes&&h&&h.constructor===Ye?(Jo(),h.then(function(g){return Oi(),g},function(g){return Oi(),Kt(g)})):h}function lb(){var h=hl[hl.length-1];hl.pop(),ki(h,!1)}function ki(h,g){var m,A=Ne;(g?!fr.echoes||pl++&&h===Ne:!pl||--pl&&h===Ne)||queueMicrotask(g?(function(S){++gl,fr.echoes&&--fr.echoes!=0||(fr.echoes=fr.awaits=fr.id=0),hl.push(Ne),ki(S,!0)}).bind(null,h):lb),h!==Ne&&(Ne=h,A===Pn&&(Pn.env=Gh()),xt&&(m=Pn.env.Promise,g=h.env,(A.global||h.global)&&(Object.defineProperty(o,"Promise",g.PromiseProp),m.all=g.all,m.race=g.race,m.resolve=g.resolve,m.reject=g.reject,g.allSettled&&(m.allSettled=g.allSettled),g.any&&(m.any=g.any))))}function Gh(){var h=o.Promise;return xt?{Promise:h,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:h.all,race:h.race,allSettled:h.allSettled,any:h.any,resolve:h.resolve,reject:h.reject}:{}}function co(h,g,m,A,S){var O=Ne;try{return ki(h,!0),g(m,A,S)}finally{ki(O,!1)}}function zh(h,g,m,A){return typeof h!="function"?h:function(){var S=Ne;m&&Jo(),ki(g,!0);try{return h.apply(this,arguments)}finally{ki(S,!1),A&&queueMicrotask(Oi)}}}function Kc(h){Promise===Ye&&fr.echoes===0?pl===0?h():enqueueNativeMicroTask(h):setTimeout(h,0)}(""+mn).indexOf("[native code]")===-1&&(Jo=Oi=at);var Kt=Oe.reject,fo="ï¿¿",li="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Xh="String expected.",Qo=[],yl="__dbnames",qc="readonly",Gc="readwrite";function ho(h,g){return h?g?function(){return h.apply(this,arguments)&&g.apply(this,arguments)}:h:g}var Yh={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ml(h){return typeof h!="string"||/\./.test(h)?function(g){return g}:function(g){return g[h]===void 0&&h in g&&delete(g=D(g))[h],g}}function Zh(){throw Le.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ut(h,g){try{var m=Jh(h),A=Jh(g);if(m!==A)return m==="Array"?1:A==="Array"?-1:m==="binary"?1:A==="binary"?-1:m==="string"?1:A==="string"?-1:m==="Date"?1:A!=="Date"?NaN:-1;switch(m){case"number":case"Date":case"string":return g<h?1:h<g?-1:0;case"binary":return(function(S,O){for(var P=S.length,L=O.length,H=P<L?P:L,K=0;K<H;++K)if(S[K]!==O[K])return S[K]<O[K]?-1:1;return P===L?0:P<L?-1:1})(Qh(h),Qh(g));case"Array":return(function(S,O){for(var P=S.length,L=O.length,H=P<L?P:L,K=0;K<H;++K){var Y=ut(S[K],O[K]);if(Y!==0)return Y}return P===L?0:P<L?-1:1})(h,g)}}catch{}return NaN}function Jh(h){var g=typeof h;return g!="object"?g:ArrayBuffer.isView(h)?"binary":(h=De(h),h==="ArrayBuffer"?"binary":h)}function Qh(h){return h instanceof Uint8Array?h:ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h)}function xl(h,g,m){var A=h.schema.yProps;return A?(g&&0<m.numFailures&&(g=g.filter(function(S,O){return!m.failures[O]})),Promise.all(A.map(function(S){return S=S.updatesTable,g?h.db.table(S).where("k").anyOf(g).delete():h.db.table(S).clear()})).then(function(){return m})):m}var zs=(e1.prototype.execute=function(h){var g=this["@@propmod"];if(g.add!==void 0){var m=g.add;if(a(m))return i(i([],a(h)?h:[],!0),m).sort();if(typeof m=="number")return(Number(h)||0)+m;if(typeof m=="bigint")try{return BigInt(h)+m}catch{return BigInt(0)+m}throw new TypeError("Invalid term ".concat(m))}if(g.remove!==void 0){var A=g.remove;if(a(A))return a(h)?h.filter(function(S){return!A.includes(S)}).sort():[];if(typeof A=="number")return Number(h)-A;if(typeof A=="bigint")try{return BigInt(h)-A}catch{return BigInt(0)-A}throw new TypeError("Invalid subtrahend ".concat(A))}return m=(m=g.replacePrefix)===null||m===void 0?void 0:m[0],m&&typeof h=="string"&&h.startsWith(m)?g.replacePrefix[1]+h.substring(m.length):h},e1);function e1(h){this["@@propmod"]=h}function t1(h,g){for(var m=s(g),A=m.length,S=!1,O=0;O<A;++O){var P=m[O],L=g[P],H=M(h,P);L instanceof zs?(T(h,P,L.execute(H)),S=!0):H!==L&&(T(h,P,L),S=!0)}return S}var r1=(St.prototype._trans=function(h,g,m){var A=this._tx||Ne.trans,S=this.name,O=ge&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(h==="readonly"?"read":"write"," ").concat(this.name));function P(K,Y,U){if(!U.schema[S])throw new Le.NotFound("Table "+S+" not part of transaction");return g(U.idbtrans,U)}var L=Yo();try{var H=A&&A.db._novip===this.db._novip?A===Ne.trans?A._promise(h,P,m):Ti(function(){return A._promise(h,P,m)},{trans:A,transless:Ne.transless||Ne}):(function K(Y,U,ee,q){if(Y.idbdb&&(Y._state.openComplete||Ne.letThrough||Y._vip)){var z=Y._createTransaction(U,ee,Y._dbSchema);try{z.create(),Y._state.PR1398_maxLoop=3}catch(X){return X.name===Gn.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return K(Y,U,ee,q)})):Kt(X)}return z._promise(U,function(X,J){return Ti(function(){return Ne.trans=z,q(X,J,z)})}).then(function(X){if(U==="readwrite")try{z.idbtrans.commit()}catch{}return U==="readonly"?X:z._completion.then(function(){return X})})}if(Y._state.openComplete)return Kt(new Le.DatabaseClosed(Y._state.dbOpenError));if(!Y._state.isBeingOpened){if(!Y._state.autoOpen)return Kt(new Le.DatabaseClosed);Y.open().catch(at)}return Y._state.dbReadyPromise.then(function(){return K(Y,U,ee,q)})})(this.db,h,[this.name],P);return O&&(H._consoleTask=O,H=H.catch(function(K){return console.trace(K),Kt(K)})),H}finally{L&&Zo()}},St.prototype.get=function(h,g){var m=this;return h&&h.constructor===Object?this.where(h).first(g):h==null?Kt(new Le.Type("Invalid argument to Table.get()")):this._trans("readonly",function(A){return m.core.get({trans:A,key:h}).then(function(S){return m.hook.reading.fire(S)})}).then(g)},St.prototype.where=function(h){if(typeof h=="string")return new this.db.WhereClause(this,h);if(a(h))return new this.db.WhereClause(this,"[".concat(h.join("+"),"]"));var g=s(h);if(g.length===1)return this.where(g[0]).equals(h[g[0]]);var m=this.schema.indexes.concat(this.schema.primKey).filter(function(L){if(L.compound&&g.every(function(K){return 0<=L.keyPath.indexOf(K)})){for(var H=0;H<g.length;++H)if(g.indexOf(L.keyPath[H])===-1)return!1;return!0}return!1}).sort(function(L,H){return L.keyPath.length-H.keyPath.length})[0];if(m&&this.db._maxKey!==fo){var O=m.keyPath.slice(0,g.length);return this.where(O).equals(O.map(function(H){return h[H]}))}!m&&ge&&console.warn("The query ".concat(JSON.stringify(h)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(g.join("+"),"]"));var A=this.schema.idxByName;function S(L,H){return ut(L,H)===0}var P=g.reduce(function(U,H){var K=U[0],Y=U[1],U=A[H],ee=h[H];return[K||U,K||!U?ho(Y,U&&U.multi?function(q){return q=M(q,H),a(q)&&q.some(function(z){return S(ee,z)})}:function(q){return S(ee,M(q,H))}):Y]},[null,null]),O=P[0],P=P[1];return O?this.where(O.name).equals(h[O.keyPath]).filter(P):m?this.filter(P):this.where(g).equals("")},St.prototype.filter=function(h){return this.toCollection().and(h)},St.prototype.count=function(h){return this.toCollection().count(h)},St.prototype.offset=function(h){return this.toCollection().offset(h)},St.prototype.limit=function(h){return this.toCollection().limit(h)},St.prototype.each=function(h){return this.toCollection().each(h)},St.prototype.toArray=function(h){return this.toCollection().toArray(h)},St.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},St.prototype.orderBy=function(h){return new this.db.Collection(new this.db.WhereClause(this,a(h)?"[".concat(h.join("+"),"]"):h))},St.prototype.reverse=function(){return this.toCollection().reverse()},St.prototype.mapToClass=function(h){var g,m=this.db,A=this.name;function S(){return g!==null&&g.apply(this,arguments)||this}(this.schema.mappedClass=h).prototype instanceof Zh&&((function(H,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function Y(){this.constructor=H}r(H,K),H.prototype=K===null?Object.create(K):(Y.prototype=K.prototype,new Y)})(S,g=h),Object.defineProperty(S.prototype,"db",{get:function(){return m},enumerable:!1,configurable:!0}),S.prototype.table=function(){return A},h=S);for(var O=new Set,P=h.prototype;P;P=u(P))Object.getOwnPropertyNames(P).forEach(function(H){return O.add(H)});function L(H){if(!H)return H;var K,Y=Object.create(h.prototype);for(K in H)if(!O.has(K))try{Y[K]=H[K]}catch{}return Y}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=L,this.hook("reading",L),h},St.prototype.defineClass=function(){return this.mapToClass(function(h){l(this,h)})},St.prototype.add=function(h,g){var m=this,A=this.schema.primKey,S=A.auto,O=A.keyPath,P=h;return O&&S&&(P=ml(O)(h)),this._trans("readwrite",function(L){return m.core.mutate({trans:L,type:"add",keys:g!=null?[g]:null,values:[P]})}).then(function(L){return L.numFailures?Oe.reject(L.failures[0]):L.lastResult}).then(function(L){if(O)try{T(h,O,L)}catch{}return L})},St.prototype.upsert=function(h,g){var m=this,A=this.schema.primKey.keyPath;return this._trans("readwrite",function(S){return m.core.get({trans:S,key:h}).then(function(O){var P=O??{};return t1(P,g),A&&T(P,A,h),m.core.mutate({trans:S,type:"put",values:[P],keys:[h],upsert:!0,updates:{keys:[h],changeSpecs:[g]}}).then(function(L){return L.numFailures?Oe.reject(L.failures[0]):!!O})})})},St.prototype.update=function(h,g){return typeof h!="object"||a(h)?this.where(":id").equals(h).modify(g):(h=M(h,this.schema.primKey.keyPath),h===void 0?Kt(new Le.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(h).modify(g))},St.prototype.put=function(h,g){var m=this,A=this.schema.primKey,S=A.auto,O=A.keyPath,P=h;return O&&S&&(P=ml(O)(h)),this._trans("readwrite",function(L){return m.core.mutate({trans:L,type:"put",values:[P],keys:g!=null?[g]:null})}).then(function(L){return L.numFailures?Oe.reject(L.failures[0]):L.lastResult}).then(function(L){if(O)try{T(h,O,L)}catch{}return L})},St.prototype.delete=function(h){var g=this;return this._trans("readwrite",function(m){return g.core.mutate({trans:m,type:"delete",keys:[h]}).then(function(A){return xl(g,[h],A)}).then(function(A){return A.numFailures?Oe.reject(A.failures[0]):void 0})})},St.prototype.clear=function(){var h=this;return this._trans("readwrite",function(g){return h.core.mutate({trans:g,type:"deleteRange",range:Yh}).then(function(m){return xl(h,null,m)})}).then(function(g){return g.numFailures?Oe.reject(g.failures[0]):void 0})},St.prototype.bulkGet=function(h){var g=this;return this._trans("readonly",function(m){return g.core.getMany({keys:h,trans:m}).then(function(A){return A.map(function(S){return g.hook.reading.fire(S)})})})},St.prototype.bulkAdd=function(h,g,m){var A=this,S=Array.isArray(g)?g:void 0,O=(m=m||(S?void 0:g))?m.allKeys:void 0;return this._trans("readwrite",function(P){var K=A.schema.primKey,L=K.auto,K=K.keyPath;if(K&&S)throw new Le.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==h.length)throw new Le.InvalidArgument("Arguments objects and keys must have the same length");var H=h.length,K=K&&L?h.map(ml(K)):h;return A.core.mutate({trans:P,type:"add",keys:S,values:K,wantResults:O}).then(function(z){var U=z.numFailures,ee=z.results,q=z.lastResult,z=z.failures;if(U===0)return O?ee:q;throw new Xr("".concat(A.name,".bulkAdd(): ").concat(U," of ").concat(H," operations failed"),z)})})},St.prototype.bulkPut=function(h,g,m){var A=this,S=Array.isArray(g)?g:void 0,O=(m=m||(S?void 0:g))?m.allKeys:void 0;return this._trans("readwrite",function(P){var K=A.schema.primKey,L=K.auto,K=K.keyPath;if(K&&S)throw new Le.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==h.length)throw new Le.InvalidArgument("Arguments objects and keys must have the same length");var H=h.length,K=K&&L?h.map(ml(K)):h;return A.core.mutate({trans:P,type:"put",keys:S,values:K,wantResults:O}).then(function(z){var U=z.numFailures,ee=z.results,q=z.lastResult,z=z.failures;if(U===0)return O?ee:q;throw new Xr("".concat(A.name,".bulkPut(): ").concat(U," of ").concat(H," operations failed"),z)})})},St.prototype.bulkUpdate=function(h){var g=this,m=this.core,A=h.map(function(P){return P.key}),S=h.map(function(P){return P.changes}),O=[];return this._trans("readwrite",function(P){return m.getMany({trans:P,keys:A,cache:"clone"}).then(function(L){var H=[],K=[];h.forEach(function(U,ee){var q=U.key,z=U.changes,X=L[ee];if(X){for(var J=0,te=Object.keys(z);J<te.length;J++){var oe=te[J],ce=z[oe];if(oe===g.schema.primKey.keyPath){if(ut(ce,q)!==0)throw new Le.Constraint("Cannot update primary key in bulkUpdate()")}else T(X,oe,ce)}O.push(ee),H.push(q),K.push(X)}});var Y=H.length;return m.mutate({trans:P,type:"put",keys:H,values:K,updates:{keys:A,changeSpecs:S}}).then(function(U){var ee=U.numFailures,q=U.failures;if(ee===0)return Y;for(var z=0,X=Object.keys(q);z<X.length;z++){var J,te=X[z],oe=O[Number(te)];oe!=null&&(J=q[te],delete q[te],q[oe]=J)}throw new Xr("".concat(g.name,".bulkUpdate(): ").concat(ee," of ").concat(Y," operations failed"),q)})})})},St.prototype.bulkDelete=function(h){var g=this,m=h.length;return this._trans("readwrite",function(A){return g.core.mutate({trans:A,type:"delete",keys:h}).then(function(S){return xl(g,h,S)})}).then(function(P){var S=P.numFailures,O=P.lastResult,P=P.failures;if(S===0)return O;throw new Xr("".concat(g.name,".bulkDelete(): ").concat(S," of ").concat(m," operations failed"),P)})},St);function St(){}function Xs(h){function g(P,L){if(L){for(var H=arguments.length,K=new Array(H-1);--H;)K[H-1]=arguments[H];return m[P].subscribe.apply(null,K),h}if(typeof P=="string")return m[P]}var m={};g.addEventType=O;for(var A=1,S=arguments.length;A<S;++A)O(arguments[A]);return g;function O(P,L,H){if(typeof P!="object"){var K;L=L||Z;var Y={subscribers:[],fire:H=H||at,subscribe:function(U){Y.subscribers.indexOf(U)===-1&&(Y.subscribers.push(U),Y.fire=L(Y.fire,U))},unsubscribe:function(U){Y.subscribers=Y.subscribers.filter(function(ee){return ee!==U}),Y.fire=Y.subscribers.reduce(L,H)}};return m[P]=g[P]=Y}s(K=P).forEach(function(U){var ee=K[U];if(a(ee))O(U,K[U][0],K[U][1]);else{if(ee!=="asap")throw new Le.InvalidArgument("Invalid event config");var q=O(U,$,function(){for(var z=arguments.length,X=new Array(z);z--;)X[z]=arguments[z];q.subscribers.forEach(function(J){N(function(){J.apply(null,X)})})})}})}}function Ys(h,g){return b(g).from({prototype:h}),g}function es(h,g){return!(h.filter||h.algorithm||h.or)&&(g?h.justLimit:!h.replayFilter)}function zc(h,g){h.filter=ho(h.filter,g)}function Xc(h,g,m){var A=h.replayFilter;h.replayFilter=A?function(){return ho(A(),g())}:g,h.justLimit=m&&!A}function bl(h,g){if(h.isPrimKey)return g.primaryKey;var m=g.getIndexByKeyPath(h.index);if(!m)throw new Le.Schema("KeyPath "+h.index+" on object store "+g.name+" is not indexed");return m}function n1(h,g,m){var A=bl(h,g.schema);return g.openCursor({trans:m,values:!h.keysOnly,reverse:h.dir==="prev",unique:!!h.unique,query:{index:A,range:h.range}})}function _l(h,g,m,A){var S=h.replayFilter?ho(h.filter,h.replayFilter()):h.filter;if(h.or){var O={},P=function(L,H,K){var Y,U;S&&!S(H,K,function(ee){return H.stop(ee)},function(ee){return H.fail(ee)})||((U=""+(Y=H.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(Y)),d(O,U)||(O[U]=!0,g(L,H,K)))};return Promise.all([h.or._iterate(P,m),i1(n1(h,A,m),h.algorithm,P,!h.keysOnly&&h.valueMapper)])}return i1(n1(h,A,m),ho(h.algorithm,S),g,!h.keysOnly&&h.valueMapper)}function i1(h,g,m,A){var S=Bt(A?function(O,P,L){return m(A(O),P,L)}:m);return h.then(function(O){if(O)return O.start(function(){var P=function(){return O.continue()};g&&!g(O,function(L){return P=L},function(L){O.stop(L),P=at},function(L){O.fail(L),P=at})||S(O.value,O,function(L){return P=L}),P()})})}var ub=(ht.prototype._read=function(h,g){var m=this._ctx;return m.error?m.table._trans(null,Kt.bind(null,m.error)):m.table._trans("readonly",h).then(g)},ht.prototype._write=function(h){var g=this._ctx;return g.error?g.table._trans(null,Kt.bind(null,g.error)):g.table._trans("readwrite",h,"locked")},ht.prototype._addAlgorithm=function(h){var g=this._ctx;g.algorithm=ho(g.algorithm,h)},ht.prototype._iterate=function(h,g){return _l(this._ctx,h,g,this._ctx.table.core)},ht.prototype.clone=function(h){var g=Object.create(this.constructor.prototype),m=Object.create(this._ctx);return h&&l(m,h),g._ctx=m,g},ht.prototype.raw=function(){return this._ctx.valueMapper=null,this},ht.prototype.each=function(h){var g=this._ctx;return this._read(function(m){return _l(g,h,m,g.table.core)})},ht.prototype.count=function(h){var g=this;return this._read(function(m){var A=g._ctx,S=A.table.core;if(es(A,!0))return S.count({trans:m,query:{index:bl(A,S.schema),range:A.range}}).then(function(P){return Math.min(P,A.limit)});var O=0;return _l(A,function(){return++O,!1},m,S).then(function(){return O})}).then(h)},ht.prototype.sortBy=function(h,g){var m=h.split(".").reverse(),A=m[0],S=m.length-1;function O(H,K){return K?O(H[m[K]],K-1):H[A]}var P=this._ctx.dir==="next"?1:-1;function L(H,K){return ut(O(H,S),O(K,S))*P}return this.toArray(function(H){return H.sort(L)}).then(g)},ht.prototype.toArray=function(h){var g=this;return this._read(function(m){var A=g._ctx;if(A.dir==="next"&&es(A,!0)&&0<A.limit){var S=A.valueMapper,O=bl(A,A.table.core.schema);return A.table.core.query({trans:m,limit:A.limit,values:!0,query:{index:O,range:A.range}}).then(function(L){return L=L.result,S?L.map(S):L})}var P=[];return _l(A,function(L){return P.push(L)},m,A.table.core).then(function(){return P})},h)},ht.prototype.offset=function(h){var g=this._ctx;return h<=0||(g.offset+=h,es(g)?Xc(g,function(){var m=h;return function(A,S){return m===0||(m===1?--m:S(function(){A.advance(m),m=0}),!1)}}):Xc(g,function(){var m=h;return function(){return--m<0}})),this},ht.prototype.limit=function(h){return this._ctx.limit=Math.min(this._ctx.limit,h),Xc(this._ctx,function(){var g=h;return function(m,A,S){return--g<=0&&A(S),0<=g}},!0),this},ht.prototype.until=function(h,g){return zc(this._ctx,function(m,A,S){return!h(m.value)||(A(S),g)}),this},ht.prototype.first=function(h){return this.limit(1).toArray(function(g){return g[0]}).then(h)},ht.prototype.last=function(h){return this.reverse().first(h)},ht.prototype.filter=function(h){var g;return zc(this._ctx,function(m){return h(m.value)}),(g=this._ctx).isMatch=ho(g.isMatch,h),this},ht.prototype.and=function(h){return this.filter(h)},ht.prototype.or=function(h){return new this.db.WhereClause(this._ctx.table,h,this)},ht.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ht.prototype.desc=function(){return this.reverse()},ht.prototype.eachKey=function(h){var g=this._ctx;return g.keysOnly=!g.isMatch,this.each(function(m,A){h(A.key,A)})},ht.prototype.eachUniqueKey=function(h){return this._ctx.unique="unique",this.eachKey(h)},ht.prototype.eachPrimaryKey=function(h){var g=this._ctx;return g.keysOnly=!g.isMatch,this.each(function(m,A){h(A.primaryKey,A)})},ht.prototype.keys=function(h){var g=this._ctx;g.keysOnly=!g.isMatch;var m=[];return this.each(function(A,S){m.push(S.key)}).then(function(){return m}).then(h)},ht.prototype.primaryKeys=function(h){var g=this._ctx;if(g.dir==="next"&&es(g,!0)&&0<g.limit)return this._read(function(A){var S=bl(g,g.table.core.schema);return g.table.core.query({trans:A,values:!1,limit:g.limit,query:{index:S,range:g.range}})}).then(function(A){return A.result}).then(h);g.keysOnly=!g.isMatch;var m=[];return this.each(function(A,S){m.push(S.primaryKey)}).then(function(){return m}).then(h)},ht.prototype.uniqueKeys=function(h){return this._ctx.unique="unique",this.keys(h)},ht.prototype.firstKey=function(h){return this.limit(1).keys(function(g){return g[0]}).then(h)},ht.prototype.lastKey=function(h){return this.reverse().firstKey(h)},ht.prototype.distinct=function(){var h=this._ctx,h=h.index&&h.table.schema.idxByName[h.index];if(!h||!h.multi)return this;var g={};return zc(this._ctx,function(S){var A=S.primaryKey.toString(),S=d(g,A);return g[A]=!0,!S}),this},ht.prototype.modify=function(h){var g=this,m=this._ctx;return this._write(function(A){var S=typeof h=="function"?h:function(X){return t1(X,h)},O=m.table.core,K=O.schema.primaryKey,P=K.outbound,L=K.extractKey,H=200,K=g.db._options.modifyChunkSize;K&&(H=typeof K=="object"?K[O.name]||K["*"]||200:K);function Y(X,oe){var te=oe.failures,oe=oe.numFailures;ee+=X-oe;for(var ce=0,de=s(te);ce<de.length;ce++){var we=de[ce];U.push(te[we])}}var U=[],ee=0,q=[],z=h===o1;return g.clone().primaryKeys().then(function(X){function J(oe){var ce=Math.min(H,X.length-oe),de=X.slice(oe,oe+ce);return(z?Promise.resolve([]):O.getMany({trans:A,keys:de,cache:"immutable"})).then(function(we){var Ie=[],xe=[],Ae=P?[]:null,Te=z?de:[];if(!z)for(var Ce=0;Ce<ce;++Ce){var Me=we[Ce],Ze={value:D(Me),primKey:X[oe+Ce]};S.call(Ze,Ze.value,Ze)!==!1&&(Ze.value==null?Te.push(X[oe+Ce]):P||ut(L(Me),L(Ze.value))===0?(xe.push(Ze.value),P&&Ae.push(X[oe+Ce])):(Te.push(X[oe+Ce]),Ie.push(Ze.value)))}return Promise.resolve(0<Ie.length&&O.mutate({trans:A,type:"add",values:Ie}).then(function(et){for(var nt in et.failures)Te.splice(parseInt(nt),1);Y(Ie.length,et)})).then(function(){return(0<xe.length||te&&typeof h=="object")&&O.mutate({trans:A,type:"put",keys:Ae,values:xe,criteria:te,changeSpec:typeof h!="function"&&h,isAdditionalChunk:0<oe}).then(function(et){return Y(xe.length,et)})}).then(function(){return(0<Te.length||te&&z)&&O.mutate({trans:A,type:"delete",keys:Te,criteria:te,isAdditionalChunk:0<oe}).then(function(et){return xl(m.table,Te,et)}).then(function(et){return Y(Te.length,et)})}).then(function(){return X.length>oe+ce&&J(oe+H)})})}var te=es(m)&&m.limit===1/0&&(typeof h!="function"||z)&&{index:m.index,range:m.range};return J(0).then(function(){if(0<U.length)throw new vn("Error modifying one or more objects",U,ee,q);return X.length})})})},ht.prototype.delete=function(){var h=this._ctx,g=h.range;return!es(h)||h.table.schema.yProps||!h.isPrimKey&&g.type!==3?this.modify(o1):this._write(function(m){var A=h.table.core.schema.primaryKey,S=g;return h.table.core.count({trans:m,query:{index:A,range:S}}).then(function(O){return h.table.core.mutate({trans:m,type:"deleteRange",range:S}).then(function(H){var L=H.failures,H=H.numFailures;if(H)throw new vn("Could not delete some values",Object.keys(L).map(function(K){return L[K]}),O-H);return O-H})})})},ht);function ht(){}var o1=function(h,g){return g.value=null};function cb(h,g){return h<g?-1:h===g?0:1}function fb(h,g){return g<h?-1:h===g?0:1}function un(h,g,m){return h=h instanceof a1?new h.Collection(h):h,h._ctx.error=new(m||TypeError)(g),h}function ts(h){return new h.Collection(h,function(){return s1("")}).limit(0)}function wl(h,g,m,A){var S,O,P,L,H,K,Y,U=m.length;if(!m.every(function(z){return typeof z=="string"}))return un(h,Xh);function ee(z){S=z==="next"?function(J){return J.toUpperCase()}:function(J){return J.toLowerCase()},O=z==="next"?function(J){return J.toLowerCase()}:function(J){return J.toUpperCase()},P=z==="next"?cb:fb;var X=m.map(function(J){return{lower:O(J),upper:S(J)}}).sort(function(J,te){return P(J.lower,te.lower)});L=X.map(function(J){return J.upper}),H=X.map(function(J){return J.lower}),Y=(K=z)==="next"?"":A}ee("next"),h=new h.Collection(h,function(){return Ni(L[0],H[U-1]+A)}),h._ondirectionchange=function(z){ee(z)};var q=0;return h._addAlgorithm(function(z,X,J){var te=z.key;if(typeof te!="string")return!1;var oe=O(te);if(g(oe,H,q))return!0;for(var ce=null,de=q;de<U;++de){var we=(function(Ie,xe,Ae,Te,Ce,Me){for(var Ze=Math.min(Ie.length,Te.length),et=-1,nt=0;nt<Ze;++nt){var cn=xe[nt];if(cn!==Te[nt])return Ce(Ie[nt],Ae[nt])<0?Ie.substr(0,nt)+Ae[nt]+Ae.substr(nt+1):Ce(Ie[nt],Te[nt])<0?Ie.substr(0,nt)+Te[nt]+Ae.substr(nt+1):0<=et?Ie.substr(0,et)+xe[et]+Ae.substr(et+1):null;Ce(Ie[nt],cn)<0&&(et=nt)}return Ze<Te.length&&Me==="next"?Ie+Ae.substr(Ie.length):Ze<Ie.length&&Me==="prev"?Ie.substr(0,Ae.length):et<0?null:Ie.substr(0,et)+Te[et]+Ae.substr(et+1)})(te,oe,L[de],H[de],P,K);we===null&&ce===null?q=de+1:(ce===null||0<P(ce,we))&&(ce=we)}return X(ce!==null?function(){z.continue(ce+Y)}:J),!1}),h}function Ni(h,g,m,A){return{type:2,lower:h,upper:g,lowerOpen:m,upperOpen:A}}function s1(h){return{type:1,lower:h,upper:h}}var a1=(Object.defineProperty(dr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),dr.prototype.between=function(h,g,m,A){m=m!==!1,A=A===!0;try{return 0<this._cmp(h,g)||this._cmp(h,g)===0&&(m||A)&&(!m||!A)?ts(this):new this.Collection(this,function(){return Ni(h,g,!m,!A)})}catch{return un(this,li)}},dr.prototype.equals=function(h){return h==null?un(this,li):new this.Collection(this,function(){return s1(h)})},dr.prototype.above=function(h){return h==null?un(this,li):new this.Collection(this,function(){return Ni(h,void 0,!0)})},dr.prototype.aboveOrEqual=function(h){return h==null?un(this,li):new this.Collection(this,function(){return Ni(h,void 0,!1)})},dr.prototype.below=function(h){return h==null?un(this,li):new this.Collection(this,function(){return Ni(void 0,h,!1,!0)})},dr.prototype.belowOrEqual=function(h){return h==null?un(this,li):new this.Collection(this,function(){return Ni(void 0,h)})},dr.prototype.startsWith=function(h){return typeof h!="string"?un(this,Xh):this.between(h,h+fo,!0,!0)},dr.prototype.startsWithIgnoreCase=function(h){return h===""?this.startsWith(h):wl(this,function(g,m){return g.indexOf(m[0])===0},[h],fo)},dr.prototype.equalsIgnoreCase=function(h){return wl(this,function(g,m){return g===m[0]},[h],"")},dr.prototype.anyOfIgnoreCase=function(){var h=Mt.apply(ze,arguments);return h.length===0?ts(this):wl(this,function(g,m){return m.indexOf(g)!==-1},h,"")},dr.prototype.startsWithAnyOfIgnoreCase=function(){var h=Mt.apply(ze,arguments);return h.length===0?ts(this):wl(this,function(g,m){return m.some(function(A){return g.indexOf(A)===0})},h,fo)},dr.prototype.anyOf=function(){var h=this,g=Mt.apply(ze,arguments),m=this._cmp;try{g.sort(m)}catch{return un(this,li)}if(g.length===0)return ts(this);var A=new this.Collection(this,function(){return Ni(g[0],g[g.length-1])});A._ondirectionchange=function(O){m=O==="next"?h._ascending:h._descending,g.sort(m)};var S=0;return A._addAlgorithm(function(O,P,L){for(var H=O.key;0<m(H,g[S]);)if(++S===g.length)return P(L),!1;return m(H,g[S])===0||(P(function(){O.continue(g[S])}),!1)}),A},dr.prototype.notEqual=function(h){return this.inAnyRange([[-1/0,h],[h,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},dr.prototype.noneOf=function(){var h=Mt.apply(ze,arguments);if(h.length===0)return new this.Collection(this);try{h.sort(this._ascending)}catch{return un(this,li)}var g=h.reduce(function(m,A){return m?m.concat([[m[m.length-1][1],A]]):[[-1/0,A]]},null);return g.push([h[h.length-1],this.db._maxKey]),this.inAnyRange(g,{includeLowers:!1,includeUppers:!1})},dr.prototype.inAnyRange=function(te,g){var m=this,A=this._cmp,S=this._ascending,O=this._descending,P=this._min,L=this._max;if(te.length===0)return ts(this);if(!te.every(function(oe){return oe[0]!==void 0&&oe[1]!==void 0&&S(oe[0],oe[1])<=0}))return un(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Le.InvalidArgument);var H=!g||g.includeLowers!==!1,K=g&&g.includeUppers===!0,Y,U=S;function ee(oe,ce){return U(oe[0],ce[0])}try{(Y=te.reduce(function(oe,ce){for(var de=0,we=oe.length;de<we;++de){var Ie=oe[de];if(A(ce[0],Ie[1])<0&&0<A(ce[1],Ie[0])){Ie[0]=P(Ie[0],ce[0]),Ie[1]=L(Ie[1],ce[1]);break}}return de===we&&oe.push(ce),oe},[])).sort(ee)}catch{return un(this,li)}var q=0,z=K?function(oe){return 0<S(oe,Y[q][1])}:function(oe){return 0<=S(oe,Y[q][1])},X=H?function(oe){return 0<O(oe,Y[q][0])}:function(oe){return 0<=O(oe,Y[q][0])},J=z,te=new this.Collection(this,function(){return Ni(Y[0][0],Y[Y.length-1][1],!H,!K)});return te._ondirectionchange=function(oe){U=oe==="next"?(J=z,S):(J=X,O),Y.sort(ee)},te._addAlgorithm(function(oe,ce,de){for(var we,Ie=oe.key;J(Ie);)if(++q===Y.length)return ce(de),!1;return!z(we=Ie)&&!X(we)||(m._cmp(Ie,Y[q][1])===0||m._cmp(Ie,Y[q][0])===0||ce(function(){U===S?oe.continue(Y[q][0]):oe.continue(Y[q][1])}),!1)}),te},dr.prototype.startsWithAnyOf=function(){var h=Mt.apply(ze,arguments);return h.every(function(g){return typeof g=="string"})?h.length===0?ts(this):this.inAnyRange(h.map(function(g){return[g,g+fo]})):un(this,"startsWithAnyOf() only works with strings")},dr);function dr(){}function Yn(h){return Bt(function(g){return Zs(g),h(g.target.error),!1})}function Zs(h){h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault()}var Js="storagemutated",Yc="x-storagemutated-1",Ri=Xs(null,Js),db=(Zn.prototype._lock=function(){return E(!Ne.global),++this._reculock,this._reculock!==1||Ne.global||(Ne.lockOwnerFor=this),this},Zn.prototype._unlock=function(){if(E(!Ne.global),--this._reculock==0)for(Ne.global||(Ne.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var h=this._blockedFuncs.shift();try{co(h[1],h[0])}catch{}}return this},Zn.prototype._locked=function(){return this._reculock&&Ne.lockOwnerFor!==this},Zn.prototype.create=function(h){var g=this;if(!this.mode)return this;var m=this.db.idbdb,A=this.db._state.dbOpenError;if(E(!this.idbtrans),!h&&!m)switch(A&&A.name){case"DatabaseClosedError":throw new Le.DatabaseClosed(A);case"MissingAPIError":throw new Le.MissingAPI(A.message,A);default:throw new Le.OpenFailed(A)}if(!this.active)throw new Le.TransactionInactive;return E(this._completion._state===null),(h=this.idbtrans=h||(this.db.core||m).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Bt(function(S){Zs(S),g._reject(h.error)}),h.onabort=Bt(function(S){Zs(S),g.active&&g._reject(new Le.Abort(h.error)),g.active=!1,g.on("abort").fire(S)}),h.oncomplete=Bt(function(){g.active=!1,g._resolve(),"mutatedParts"in h&&Ri.storagemutated.fire(h.mutatedParts)}),this},Zn.prototype._promise=function(h,g,m){var A=this;if(h==="readwrite"&&this.mode!=="readwrite")return Kt(new Le.ReadOnly("Transaction is readonly"));if(!this.active)return Kt(new Le.TransactionInactive);if(this._locked())return new Oe(function(O,P){A._blockedFuncs.push([function(){A._promise(h,g,m).then(O,P)},Ne])});if(m)return Ti(function(){var O=new Oe(function(P,L){A._lock();var H=g(P,L,A);H&&H.then&&H.then(P,L)});return O.finally(function(){return A._unlock()}),O._lib=!0,O});var S=new Oe(function(O,P){var L=g(O,P,A);L&&L.then&&L.then(O,P)});return S._lib=!0,S},Zn.prototype._root=function(){return this.parent?this.parent._root():this},Zn.prototype.waitFor=function(h){var g,m=this._root(),A=Oe.resolve(h);m._waitingFor?m._waitingFor=m._waitingFor.then(function(){return A}):(m._waitingFor=A,m._waitingQueue=[],g=m.idbtrans.objectStore(m.storeNames[0]),(function O(){for(++m._spinCount;m._waitingQueue.length;)m._waitingQueue.shift()();m._waitingFor&&(g.get(-1/0).onsuccess=O)})());var S=m._waitingFor;return new Oe(function(O,P){A.then(function(L){return m._waitingQueue.push(Bt(O.bind(null,L)))},function(L){return m._waitingQueue.push(Bt(P.bind(null,L)))}).finally(function(){m._waitingFor===S&&(m._waitingFor=null)})})},Zn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Le.Abort))},Zn.prototype.table=function(h){var g=this._memoizedTables||(this._memoizedTables={});if(d(g,h))return g[h];var m=this.schema[h];if(!m)throw new Le.NotFound("Table "+h+" not part of transaction");return m=new this.db.Table(h,m,this),m.core=this.db.core.table(h),g[h]=m},Zn);function Zn(){}function Zc(h,g,m,A,S,O,P,L){return{name:h,keyPath:g,unique:m,multi:A,auto:S,compound:O,src:(m&&!P?"&":"")+(A?"*":"")+(S?"++":"")+l1(g),type:L}}function l1(h){return typeof h=="string"?h:h?"["+[].join.call(h,"+")+"]":""}function Jc(h,g,m){return{name:h,primKey:g,indexes:m,mappedClass:null,idxByName:(A=function(S){return[S.name,S]},m.reduce(function(S,O,P){return P=A(O,P),P&&(S[P[0]]=P[1]),S},{}))};var A}var Qs=function(h){try{return h.only([[]]),Qs=function(){return[[]]},[[]]}catch{return Qs=function(){return fo},fo}};function Qc(h){return h==null?function(){}:typeof h=="string"?(g=h).split(".").length===1?function(m){return m[g]}:function(m){return M(m,g)}:function(m){return M(m,h)};var g}function u1(h){return[].slice.call(h)}var hb=0;function ea(h){return h==null?":id":typeof h=="string"?h:"[".concat(h.join("+"),"]")}function pb(h,g,H){function A(J){if(J.type===3)return null;if(J.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var q=J.lower,z=J.upper,X=J.lowerOpen,J=J.upperOpen;return q===void 0?z===void 0?null:g.upperBound(z,!!J):z===void 0?g.lowerBound(q,!!X):g.bound(q,z,!!X,!!J)}function S(ee){var q,z=ee.name;return{name:z,schema:ee,mutate:function(X){var J=X.trans,te=X.type,oe=X.keys,ce=X.values,de=X.range;return new Promise(function(we,Ie){we=Bt(we);var xe=J.objectStore(z),Ae=xe.keyPath==null,Te=te==="put"||te==="add";if(!Te&&te!=="delete"&&te!=="deleteRange")throw new Error("Invalid operation type: "+te);var Ce,Me=(oe||ce||{length:1}).length;if(oe&&ce&&oe.length!==ce.length)throw new Error("Given keys array must have same length as given values array.");if(Me===0)return we({numFailures:0,failures:{},results:[],lastResult:void 0});function Ze(Ur){++cn,Zs(Ur)}var et=[],nt=[],cn=0;if(te==="deleteRange"){if(de.type===4)return we({numFailures:cn,failures:nt,results:[],lastResult:void 0});de.type===3?et.push(Ce=xe.clear()):et.push(Ce=xe.delete(A(de)))}else{var Ae=Te?Ae?[ce,oe]:[ce,null]:[oe,null],Xe=Ae[0],Tr=Ae[1];if(Te)for(var Or=0;Or<Me;++Or)et.push(Ce=Tr&&Tr[Or]!==void 0?xe[te](Xe[Or],Tr[Or]):xe[te](Xe[Or])),Ce.onerror=Ze;else for(Or=0;Or<Me;++Or)et.push(Ce=xe[te](Xe[Or])),Ce.onerror=Ze}function Dl(Ur){Ur=Ur.target.result,et.forEach(function(vo,mf){return vo.error!=null&&(nt[mf]=vo.error)}),we({numFailures:cn,failures:nt,results:te==="delete"?oe:et.map(function(vo){return vo.result}),lastResult:Ur})}Ce.onerror=function(Ur){Ze(Ur),Dl(Ur)},Ce.onsuccess=Dl})},getMany:function(X){var J=X.trans,te=X.keys;return new Promise(function(oe,ce){oe=Bt(oe);for(var de,we=J.objectStore(z),Ie=te.length,xe=new Array(Ie),Ae=0,Te=0,Ce=function(et){et=et.target,xe[et._pos]=et.result,++Te===Ae&&oe(xe)},Me=Yn(ce),Ze=0;Ze<Ie;++Ze)te[Ze]!=null&&((de=we.get(te[Ze]))._pos=Ze,de.onsuccess=Ce,de.onerror=Me,++Ae);Ae===0&&oe(xe)})},get:function(X){var J=X.trans,te=X.key;return new Promise(function(oe,ce){oe=Bt(oe);var de=J.objectStore(z).get(te);de.onsuccess=function(we){return oe(we.target.result)},de.onerror=Yn(ce)})},query:(q=K,function(X){return new Promise(function(J,te){J=Bt(J);var oe,ce,de,Ae=X.trans,we=X.values,Ie=X.limit,Ce=X.query,xe=Ie===1/0?void 0:Ie,Te=Ce.index,Ce=Ce.range,Ae=Ae.objectStore(z),Te=Te.isPrimaryKey?Ae:Ae.index(Te.name),Ce=A(Ce);if(Ie===0)return J({result:[]});q?((xe=we?Te.getAll(Ce,xe):Te.getAllKeys(Ce,xe)).onsuccess=function(Me){return J({result:Me.target.result})},xe.onerror=Yn(te)):(oe=0,ce=!we&&"openKeyCursor"in Te?Te.openKeyCursor(Ce):Te.openCursor(Ce),de=[],ce.onsuccess=function(Me){var Ze=ce.result;return Ze?(de.push(we?Ze.value:Ze.primaryKey),++oe===Ie?J({result:de}):void Ze.continue()):J({result:de})},ce.onerror=Yn(te))})}),openCursor:function(X){var J=X.trans,te=X.values,oe=X.query,ce=X.reverse,de=X.unique;return new Promise(function(we,Ie){we=Bt(we);var Te=oe.index,xe=oe.range,Ae=J.objectStore(z),Ae=Te.isPrimaryKey?Ae:Ae.index(Te.name),Te=ce?de?"prevunique":"prev":de?"nextunique":"next",Ce=!te&&"openKeyCursor"in Ae?Ae.openKeyCursor(A(xe),Te):Ae.openCursor(A(xe),Te);Ce.onerror=Yn(Ie),Ce.onsuccess=Bt(function(Me){var Ze,et,nt,cn,Xe=Ce.result;Xe?(Xe.___id=++hb,Xe.done=!1,Ze=Xe.continue.bind(Xe),et=(et=Xe.continuePrimaryKey)&&et.bind(Xe),nt=Xe.advance.bind(Xe),cn=function(){throw new Error("Cursor not stopped")},Xe.trans=J,Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=function(){throw new Error("Cursor not started")},Xe.fail=Bt(Ie),Xe.next=function(){var Tr=this,Or=1;return this.start(function(){return Or--?Tr.continue():Tr.stop()}).then(function(){return Tr})},Xe.start=function(Tr){function Or(){if(Ce.result)try{Tr()}catch(Ur){Xe.fail(Ur)}else Xe.done=!0,Xe.start=function(){throw new Error("Cursor behind last entry")},Xe.stop()}var Dl=new Promise(function(Ur,vo){Ur=Bt(Ur),Ce.onerror=Yn(vo),Xe.fail=vo,Xe.stop=function(mf){Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=cn,Ur(mf)}});return Ce.onsuccess=Bt(function(Ur){Ce.onsuccess=Or,Or()}),Xe.continue=Ze,Xe.continuePrimaryKey=et,Xe.advance=nt,Or(),Dl},we(Xe)):we(null)},Ie)})},count:function(X){var J=X.query,te=X.trans,oe=J.index,ce=J.range;return new Promise(function(de,we){var Ie=te.objectStore(z),xe=oe.isPrimaryKey?Ie:Ie.index(oe.name),Ie=A(ce),xe=Ie?xe.count(Ie):xe.count();xe.onsuccess=Bt(function(Ae){return de(Ae.target.result)}),xe.onerror=Yn(we)})}}}var O,P,L,Y=(P=H,L=u1((O=h).objectStoreNames),{schema:{name:O.name,tables:L.map(function(ee){return P.objectStore(ee)}).map(function(ee){var q=ee.keyPath,J=ee.autoIncrement,z=a(q),X={},J={name:ee.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:q==null,compound:z,keyPath:q,autoIncrement:J,unique:!0,extractKey:Qc(q)},indexes:u1(ee.indexNames).map(function(te){return ee.index(te)}).map(function(de){var oe=de.name,ce=de.unique,we=de.multiEntry,de=de.keyPath,we={name:oe,compound:a(de),keyPath:de,unique:ce,multiEntry:we,extractKey:Qc(de)};return X[ea(de)]=we}),getIndexByKeyPath:function(te){return X[ea(te)]}};return X[":id"]=J.primaryKey,q!=null&&(X[ea(q)]=J.primaryKey),J})},hasGetAll:0<L.length&&"getAll"in P.objectStore(L[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),H=Y.schema,K=Y.hasGetAll,Y=H.tables.map(S),U={};return Y.forEach(function(ee){return U[ee.name]=ee}),{stack:"dbcore",transaction:h.transaction.bind(h),table:function(ee){if(!U[ee])throw new Error("Table '".concat(ee,"' not found"));return U[ee]},MIN_KEY:-1/0,MAX_KEY:Qs(g),schema:H}}function gb(h,g,m,A){var S=m.IDBKeyRange;return m.indexedDB,{dbcore:(A=pb(g,S,A),h.dbcore.reduce(function(O,P){return P=P.create,n(n({},O),P(O))},A))}}function Al(h,A){var m=A.db,A=gb(h._middlewares,m,h._deps,A);h.core=A.dbcore,h.tables.forEach(function(S){var O=S.name;h.core.schema.tables.some(function(P){return P.name===O})&&(S.core=h.core.table(O),h[O]instanceof h.Table&&(h[O].core=S.core))})}function Cl(h,g,m,A){m.forEach(function(S){var O=A[S];g.forEach(function(P){var L=(function H(K,Y){return x(K,Y)||(K=u(K))&&H(K,Y)})(P,S);(!L||"value"in L&&L.value===void 0)&&(P===h.Transaction.prototype||P instanceof h.Transaction?y(P,S,{get:function(){return this.table(S)},set:function(H){v(this,S,{value:H,writable:!0,configurable:!0,enumerable:!0})}}):P[S]=new h.Table(S,O))})})}function ef(h,g){g.forEach(function(m){for(var A in m)m[A]instanceof h.Table&&delete m[A]})}function vb(h,g){return h._cfg.version-g._cfg.version}function yb(h,g,m,A){var S=h._dbSchema;m.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=Jc("$meta",f1("")[0],[]),h._storeNames.push("$meta"));var O=h._createTransaction("readwrite",h._storeNames,S);O.create(m),O._completion.catch(A);var P=O._reject.bind(O),L=Ne.transless||Ne;Ti(function(){return Ne.trans=O,Ne.transless=L,g!==0?(Al(h,m),K=g,((H=O).storeNames.includes("$meta")?H.table("$meta").get("version").then(function(Y){return Y??K}):Oe.resolve(K)).then(function(Y){return ee=Y,q=O,z=m,X=[],Y=(U=h)._versions,J=U._dbSchema=Sl(0,U.idbdb,z),(Y=Y.filter(function(te){return te._cfg.version>=ee})).length!==0?(Y.forEach(function(te){X.push(function(){var oe=J,ce=te._cfg.dbschema;Il(U,oe,z),Il(U,ce,z),J=U._dbSchema=ce;var de=tf(oe,ce);de.add.forEach(function(Te){rf(z,Te[0],Te[1].primKey,Te[1].indexes)}),de.change.forEach(function(Te){if(Te.recreate)throw new Le.Upgrade("Not yet support for changing primary key");var Ce=z.objectStore(Te.name);Te.add.forEach(function(Me){return El(Ce,Me)}),Te.change.forEach(function(Me){Ce.deleteIndex(Me.name),El(Ce,Me)}),Te.del.forEach(function(Me){return Ce.deleteIndex(Me)})});var we=te._cfg.contentUpgrade;if(we&&te._cfg.version>ee){Al(U,z),q._memoizedTables={};var Ie=I(ce);de.del.forEach(function(Te){Ie[Te]=oe[Te]}),ef(U,[U.Transaction.prototype]),Cl(U,[U.Transaction.prototype],s(Ie),Ie),q.schema=Ie;var xe,Ae=Et(we);return Ae&&Jo(),de=Oe.follow(function(){var Te;(xe=we(q))&&Ae&&(Te=Oi.bind(null,null),xe.then(Te,Te))}),xe&&typeof xe.then=="function"?Oe.resolve(xe):de.then(function(){return xe})}}),X.push(function(oe){var ce,de,we=te._cfg.dbschema;ce=we,de=oe,[].slice.call(de.db.objectStoreNames).forEach(function(Ie){return ce[Ie]==null&&de.db.deleteObjectStore(Ie)}),ef(U,[U.Transaction.prototype]),Cl(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),q.schema=U._dbSchema}),X.push(function(oe){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===te._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(ce){return ce!=="$meta"})):oe.objectStore("$meta").put(te._cfg.version,"version"))})}),(function te(){return X.length?Oe.resolve(X.shift()(q.idbtrans)).then(te):Oe.resolve()})().then(function(){c1(J,z)})):Oe.resolve();var U,ee,q,z,X,J}).catch(P)):(s(S).forEach(function(Y){rf(m,Y,S[Y].primKey,S[Y].indexes)}),Al(h,m),void Oe.follow(function(){return h.on.populate.fire(O)}).catch(P));var H,K})}function mb(h,g){c1(h._dbSchema,g),g.db.version%10!=0||g.objectStoreNames.contains("$meta")||g.db.createObjectStore("$meta").add(Math.ceil(g.db.version/10-1),"version");var m=Sl(0,h.idbdb,g);Il(h,h._dbSchema,g);for(var A=0,S=tf(m,h._dbSchema).change;A<S.length;A++){var O=(function(P){if(P.change.length||P.recreate)return console.warn("Unable to patch indexes of table ".concat(P.name," because it has changes on the type of index or primary key.")),{value:void 0};var L=g.objectStore(P.name);P.add.forEach(function(H){ge&&console.debug("Dexie upgrade patch: Creating missing index ".concat(P.name,".").concat(H.src)),El(L,H)})})(S[A]);if(typeof O=="object")return O.value}}function tf(h,g){var m,A={del:[],add:[],change:[]};for(m in h)g[m]||A.del.push(m);for(m in g){var S=h[m],O=g[m];if(S){var P={name:m,def:O,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(O.primKey.keyPath||"")||S.primKey.auto!==O.primKey.auto)P.recreate=!0,A.change.push(P);else{var L=S.idxByName,H=O.idxByName,K=void 0;for(K in L)H[K]||P.del.push(K);for(K in H){var Y=L[K],U=H[K];Y?Y.src!==U.src&&P.change.push(U):P.add.push(U)}(0<P.del.length||0<P.add.length||0<P.change.length)&&A.change.push(P)}}else A.add.push([m,O])}return A}function rf(h,g,m,A){var S=h.db.createObjectStore(g,m.keyPath?{keyPath:m.keyPath,autoIncrement:m.auto}:{autoIncrement:m.auto});return A.forEach(function(O){return El(S,O)}),S}function c1(h,g){s(h).forEach(function(m){g.db.objectStoreNames.contains(m)||(ge&&console.debug("Dexie: Creating missing table",m),rf(g,m,h[m].primKey,h[m].indexes))})}function El(h,g){h.createIndex(g.name,g.keyPath,{unique:g.unique,multiEntry:g.multi})}function Sl(h,g,m){var A={};return C(g.objectStoreNames,0).forEach(function(S){for(var O=m.objectStore(S),P=Zc(l1(K=O.keyPath),K||"",!0,!1,!!O.autoIncrement,K&&typeof K!="string",!0),L=[],H=0;H<O.indexNames.length;++H){var Y=O.index(O.indexNames[H]),K=Y.keyPath,Y=Zc(Y.name,K,!!Y.unique,!!Y.multiEntry,!1,K&&typeof K!="string",!1);L.push(Y)}A[S]=Jc(S,P,L)}),A}function Il(h,g,m){for(var A=m.db.objectStoreNames,S=0;S<A.length;++S){var O=A[S],P=m.objectStore(O);h._hasGetAll="getAll"in P;for(var L=0;L<P.indexNames.length;++L){var H=P.indexNames[L],K=P.index(H).keyPath,Y=typeof K=="string"?K:"["+C(K).join("+")+"]";!g[O]||(K=g[O].idxByName[Y])&&(K.name=H,delete g[O].idxByName[Y],g[O].idxByName[H]=K)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(h._hasGetAll=!1)}function f1(h){return h.split(",").map(function(g,m){var O=g.split(":"),A=(S=O[1])===null||S===void 0?void 0:S.trim(),S=(g=O[0].trim()).replace(/([&*]|\+\+)/g,""),O=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return Zc(S,O||null,/\&/.test(g),/\*/.test(g),/\+\+/.test(g),a(O),m===0,A)})}var xb=(rs.prototype._createTableSchema=Jc,rs.prototype._parseIndexSyntax=f1,rs.prototype._parseStoresSpec=function(h,g){var m=this;s(h).forEach(function(A){if(h[A]!==null){var S=m._parseIndexSyntax(h[A]),O=S.shift();if(!O)throw new Le.Schema("Invalid schema for table "+A+": "+h[A]);if(O.unique=!0,O.multi)throw new Le.Schema("Primary key cannot be multiEntry*");S.forEach(function(P){if(P.auto)throw new Le.Schema("Only primary key can be marked as autoIncrement (++)");if(!P.keyPath)throw new Le.Schema("Index must have a name and cannot be an empty string")}),S=m._createTableSchema(A,O,S),g[A]=S}})},rs.prototype.stores=function(m){var g=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,m):m;var m=g._versions,A={},S={};return m.forEach(function(O){l(A,O._cfg.storesSource),S=O._cfg.dbschema={},O._parseStoresSpec(A,S)}),g._dbSchema=S,ef(g,[g._allTables,g,g.Transaction.prototype]),Cl(g,[g._allTables,g,g.Transaction.prototype,this._cfg.tables],s(S),S),g._storeNames=s(S),this},rs.prototype.upgrade=function(h){return this._cfg.contentUpgrade=ie(this._cfg.contentUpgrade||at,h),this},rs);function rs(){}function nf(h,g){var m=h._dbNamesDB;return m||(m=h._dbNamesDB=new ui(yl,{addons:[],indexedDB:h,IDBKeyRange:g})).version(1).stores({dbnames:"name"}),m.table("dbnames")}function of(h){return h&&typeof h.databases=="function"}function sf(h){return Ti(function(){return Ne.letThrough=!0,h()})}function af(h){return!("from"in h)}var Ir=function(h,g){if(!this){var m=new Ir;return h&&"d"in h&&l(m,h),m}l(this,arguments.length?{d:1,from:h,to:1<arguments.length?g:h}:{d:0})};function ta(h,g,m){var A=ut(g,m);if(!isNaN(A)){if(0<A)throw RangeError();if(af(h))return l(h,{from:g,to:m,d:1});var S=h.l,A=h.r;if(ut(m,h.from)<0)return S?ta(S,g,m):h.l={from:g,to:m,d:1,l:null,r:null},h1(h);if(0<ut(g,h.to))return A?ta(A,g,m):h.r={from:g,to:m,d:1,l:null,r:null},h1(h);ut(g,h.from)<0&&(h.from=g,h.l=null,h.d=A?A.d+1:1),0<ut(m,h.to)&&(h.to=m,h.r=null,h.d=h.l?h.l.d+1:1),m=!h.r,S&&!h.l&&ra(h,S),A&&m&&ra(h,A)}}function ra(h,g){af(g)||(function m(A,H){var O=H.from,P=H.to,L=H.l,H=H.r;ta(A,O,P),L&&m(A,L),H&&m(A,H)})(h,g)}function d1(h,g){var m=Tl(g),A=m.next();if(A.done)return!1;for(var S=A.value,O=Tl(h),P=O.next(S.from),L=P.value;!A.done&&!P.done;){if(ut(L.from,S.to)<=0&&0<=ut(L.to,S.from))return!0;ut(S.from,L.from)<0?S=(A=m.next(L.from)).value:L=(P=O.next(S.from)).value}return!1}function Tl(h){var g=af(h)?null:{s:0,n:h};return{next:function(m){for(var A=0<arguments.length;g;)switch(g.s){case 0:if(g.s=1,A)for(;g.n.l&&ut(m,g.n.from)<0;)g={up:g,n:g.n.l,s:1};else for(;g.n.l;)g={up:g,n:g.n.l,s:1};case 1:if(g.s=2,!A||ut(m,g.n.to)<=0)return{value:g.n,done:!1};case 2:if(g.n.r){g.s=3,g={up:g,n:g.n.r,s:0};continue}case 3:g=g.up}return{done:!0}}}}function h1(h){var g,m,A=(((g=h.r)===null||g===void 0?void 0:g.d)||0)-(((m=h.l)===null||m===void 0?void 0:m.d)||0),S=1<A?"r":A<-1?"l":"";S&&(g=S=="r"?"l":"r",m=n({},h),A=h[S],h.from=A.from,h.to=A.to,h[S]=A[S],m[S]=A[g],(h[g]=m).d=p1(m)),h.d=p1(h)}function p1(m){var g=m.r,m=m.l;return(g?m?Math.max(g.d,m.d):g.d:m?m.d:0)+1}function Ol(h,g){return s(g).forEach(function(m){h[m]?ra(h[m],g[m]):h[m]=(function A(S){var O,P,L={};for(O in S)d(S,O)&&(P=S[O],L[O]=!P||typeof P!="object"||ue.has(P.constructor)?P:A(P));return L})(g[m])}),h}function lf(h,g){return h.all||g.all||Object.keys(h).some(function(m){return g[m]&&d1(g[m],h[m])})}p(Ir.prototype,((mn={add:function(h){return ra(this,h),this},addKey:function(h){return ta(this,h,h),this},addKeys:function(h){var g=this;return h.forEach(function(m){return ta(g,m,m)}),this},hasKey:function(h){var g=Tl(this).next(h).value;return g&&ut(g.from,h)<=0&&0<=ut(g.to,h)}})[be]=function(){return Tl(this)},mn));var po={},uf={},cf=!1;function kl(h){Ol(uf,h),cf||(cf=!0,setTimeout(function(){cf=!1,ff(uf,!(uf={}))},0))}function ff(h,g){g===void 0&&(g=!1);var m=new Set;if(h.all)for(var A=0,S=Object.values(po);A<S.length;A++)g1(P=S[A],h,m,g);else for(var O in h){var P,L=/^idb\:\/\/(.*)\/(.*)\//.exec(O);L&&(O=L[1],L=L[2],(P=po["idb://".concat(O,"/").concat(L)])&&g1(P,h,m,g))}m.forEach(function(H){return H()})}function g1(h,g,m,A){for(var S=[],O=0,P=Object.entries(h.queries.query);O<P.length;O++){for(var L=P[O],H=L[0],K=[],Y=0,U=L[1];Y<U.length;Y++){var ee=U[Y];lf(g,ee.obsSet)?ee.subscribers.forEach(function(J){return m.add(J)}):A&&K.push(ee)}A&&S.push([H,K])}if(A)for(var q=0,z=S;q<z.length;q++){var X=z[q],H=X[0],K=X[1];h.queries.query[H]=K}}function bb(h){var g=h._state,m=h._deps.indexedDB;if(g.isBeingOpened||h.idbdb)return g.dbReadyPromise.then(function(){return g.dbOpenError?Kt(g.dbOpenError):h});g.isBeingOpened=!0,g.dbOpenError=null,g.openComplete=!1;var A=g.openCanceller,S=Math.round(10*h.verno),O=!1;function P(){if(g.openCanceller!==A)throw new Le.DatabaseClosed("db.open() was cancelled")}function L(){return new Oe(function(ee,q){if(P(),!m)throw new Le.MissingAPI;var z=h.name,X=g.autoSchema||!S?m.open(z):m.open(z,S);if(!X)throw new Le.MissingAPI;X.onerror=Yn(q),X.onblocked=Bt(h._fireOnBlocked),X.onupgradeneeded=Bt(function(J){var te;Y=X.transaction,g.autoSchema&&!h._options.allowEmptyDB?(X.onerror=Zs,Y.abort(),X.result.close(),(te=m.deleteDatabase(z)).onsuccess=te.onerror=Bt(function(){q(new Le.NoSuchDatabase("Database ".concat(z," doesnt exist")))})):(Y.onerror=Yn(q),J=J.oldVersion>Math.pow(2,62)?0:J.oldVersion,U=J<1,h.idbdb=X.result,O&&mb(h,Y),yb(h,J/10,Y,q))},q),X.onsuccess=Bt(function(){Y=null;var J,te,oe,ce,de,we=h.idbdb=X.result,Ie=C(we.objectStoreNames);if(0<Ie.length)try{var xe=we.transaction((ce=Ie).length===1?ce[0]:ce,"readonly");if(g.autoSchema)te=we,oe=xe,(J=h).verno=te.version/10,oe=J._dbSchema=Sl(0,te,oe),J._storeNames=C(te.objectStoreNames,0),Cl(J,[J._allTables],s(oe),oe);else if(Il(h,h._dbSchema,xe),((de=tf(Sl(0,(de=h).idbdb,xe),de._dbSchema)).add.length||de.change.some(function(Ae){return Ae.add.length||Ae.change.length}))&&!O)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),we.close(),S=we.version+1,O=!0,ee(L());Al(h,xe)}catch{}Qo.push(h),we.onversionchange=Bt(function(Ae){g.vcFired=!0,h.on("versionchange").fire(Ae)}),we.onclose=Bt(function(){h.close({disableAutoOpen:!1})}),U&&(de=h._deps,xe=z,we=de.indexedDB,de=de.IDBKeyRange,of(we)||xe===yl||nf(we,de).put({name:xe}).catch(at)),ee()},q)}).catch(function(ee){switch(ee?.name){case"UnknownError":if(0<g.PR1398_maxLoop)return g.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),L();break;case"VersionError":if(0<S)return S=0,L()}return Oe.reject(ee)})}var H,K=g.dbReadyResolve,Y=null,U=!1;return Oe.race([A,(typeof navigator>"u"?Oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ee){function q(){return indexedDB.databases().finally(ee)}H=setInterval(q,100),q()}).finally(function(){return clearInterval(H)}):Promise.resolve()).then(L)]).then(function(){return P(),g.onReadyBeingFired=[],Oe.resolve(sf(function(){return h.on.ready.fire(h.vip)})).then(function ee(){if(0<g.onReadyBeingFired.length){var q=g.onReadyBeingFired.reduce(ie,at);return g.onReadyBeingFired=[],Oe.resolve(sf(function(){return q(h.vip)})).then(ee)}})}).finally(function(){g.openCanceller===A&&(g.onReadyBeingFired=null,g.isBeingOpened=!1)}).catch(function(ee){g.dbOpenError=ee;try{Y&&Y.abort()}catch{}return A===g.openCanceller&&h._close(),Kt(ee)}).finally(function(){g.openComplete=!0,K()}).then(function(){var ee;return U&&(ee={},h.tables.forEach(function(q){q.schema.indexes.forEach(function(z){z.name&&(ee["idb://".concat(h.name,"/").concat(q.name,"/").concat(z.name)]=new Ir(-1/0,[[[]]]))}),ee["idb://".concat(h.name,"/").concat(q.name,"/")]=ee["idb://".concat(h.name,"/").concat(q.name,"/:dels")]=new Ir(-1/0,[[[]]])}),Ri(Js).fire(ee),ff(ee,!0)),h})}function df(h){function g(O){return h.next(O)}var m=S(g),A=S(function(O){return h.throw(O)});function S(O){return function(H){var L=O(H),H=L.value;return L.done?H:H&&typeof H.then=="function"?H.then(m,A):a(H)?Promise.all(H).then(m,A):m(H)}}return S(g)()}function Nl(h,g,m){for(var A=a(h)?h.slice():[h],S=0;S<m;++S)A.push(g);return A}var _b={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(h){return n(n({},h),{table:function(g){var m=h.table(g),A=m.schema,S={},O=[];function P(U,ee,q){var z=ea(U),X=S[z]=S[z]||[],J=U==null?0:typeof U=="string"?1:U.length,te=0<ee,te=n(n({},q),{name:te?"".concat(z,"(virtual-from:").concat(q.name,")"):q.name,lowLevelIndex:q,isVirtual:te,keyTail:ee,keyLength:J,extractKey:Qc(U),unique:!te&&q.unique});return X.push(te),te.isPrimaryKey||O.push(te),1<J&&P(J===2?U[0]:U.slice(0,J-1),ee+1,q),X.sort(function(oe,ce){return oe.keyTail-ce.keyTail}),te}g=P(A.primaryKey.keyPath,0,A.primaryKey),S[":id"]=[g];for(var L=0,H=A.indexes;L<H.length;L++){var K=H[L];P(K.keyPath,0,K)}function Y(U){var ee,q=U.query.index;return q.isVirtual?n(n({},U),{query:{index:q.lowLevelIndex,range:(ee=U.query.range,q=q.keyTail,{type:ee.type===1?2:ee.type,lower:Nl(ee.lower,ee.lowerOpen?h.MAX_KEY:h.MIN_KEY,q),lowerOpen:!0,upper:Nl(ee.upper,ee.upperOpen?h.MIN_KEY:h.MAX_KEY,q),upperOpen:!0})}}):U}return n(n({},m),{schema:n(n({},A),{primaryKey:g,indexes:O,getIndexByKeyPath:function(U){return(U=S[ea(U)])&&U[0]}}),count:function(U){return m.count(Y(U))},query:function(U){return m.query(Y(U))},openCursor:function(U){var ee=U.query.index,q=ee.keyTail,z=ee.isVirtual,X=ee.keyLength;return z?m.openCursor(Y(U)).then(function(te){return te&&J(te)}):m.openCursor(U);function J(te){return Object.create(te,{continue:{value:function(oe){oe!=null?te.continue(Nl(oe,U.reverse?h.MAX_KEY:h.MIN_KEY,q)):U.unique?te.continue(te.key.slice(0,X).concat(U.reverse?h.MIN_KEY:h.MAX_KEY,q)):te.continue()}},continuePrimaryKey:{value:function(oe,ce){te.continuePrimaryKey(Nl(oe,h.MAX_KEY,q),ce)}},primaryKey:{get:function(){return te.primaryKey}},key:{get:function(){var oe=te.key;return X===1?oe[0]:oe.slice(0,X)}},value:{get:function(){return te.value}}})}}})}})}};function hf(h,g,m,A){return m=m||{},A=A||"",s(h).forEach(function(S){var O,P,L;d(g,S)?(O=h[S],P=g[S],typeof O=="object"&&typeof P=="object"&&O&&P?(L=De(O))!==De(P)?m[A+S]=g[S]:L==="Object"?hf(O,P,m,A+S+"."):O!==P&&(m[A+S]=g[S]):O!==P&&(m[A+S]=g[S])):m[A+S]=void 0}),s(g).forEach(function(S){d(h,S)||(m[A+S]=g[S])}),m}function pf(h,g){return g.type==="delete"?g.keys:g.keys||g.values.map(h.extractKey)}var wb={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(h){return n(n({},h),{table:function(g){var m=h.table(g),A=m.schema.primaryKey;return n(n({},m),{mutate:function(S){var O=Ne.trans,P=O.table(g).hook,L=P.deleting,H=P.creating,K=P.updating;switch(S.type){case"add":if(H.fire===at)break;return O._promise("readwrite",function(){return Y(S)},!0);case"put":if(H.fire===at&&K.fire===at)break;return O._promise("readwrite",function(){return Y(S)},!0);case"delete":if(L.fire===at)break;return O._promise("readwrite",function(){return Y(S)},!0);case"deleteRange":if(L.fire===at)break;return O._promise("readwrite",function(){return(function U(ee,q,z){return m.query({trans:ee,values:!1,query:{index:A,range:q},limit:z}).then(function(X){var J=X.result;return Y({type:"delete",keys:J,trans:ee}).then(function(te){return 0<te.numFailures?Promise.reject(te.failures[0]):J.length<z?{failures:[],numFailures:0,lastResult:void 0}:U(ee,n(n({},q),{lower:J[J.length-1],lowerOpen:!0}),z)})})})(S.trans,S.range,1e4)},!0)}return m.mutate(S);function Y(U){var ee,q,z,X=Ne.trans,J=U.keys||pf(A,U);if(!J)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?n(n({},U),{keys:J}):n({},U)).type!=="delete"&&(U.values=i([],U.values)),U.keys&&(U.keys=i([],U.keys)),ee=m,z=J,((q=U).type==="add"?Promise.resolve([]):ee.getMany({trans:q.trans,keys:z,cache:"immutable"})).then(function(te){var oe=J.map(function(ce,de){var we,Ie,xe,Ae=te[de],Te={onerror:null,onsuccess:null};return U.type==="delete"?L.fire.call(Te,ce,Ae,X):U.type==="add"||Ae===void 0?(we=H.fire.call(Te,ce,U.values[de],X),ce==null&&we!=null&&(U.keys[de]=ce=we,A.outbound||T(U.values[de],A.keyPath,ce))):(we=hf(Ae,U.values[de]),(Ie=K.fire.call(Te,we,ce,Ae,X))&&(xe=U.values[de],Object.keys(Ie).forEach(function(Ce){d(xe,Ce)?xe[Ce]=Ie[Ce]:T(xe,Ce,Ie[Ce])}))),Te});return m.mutate(U).then(function(ce){for(var de=ce.failures,we=ce.results,Ie=ce.numFailures,ce=ce.lastResult,xe=0;xe<J.length;++xe){var Ae=(we||J)[xe],Te=oe[xe];Ae==null?Te.onerror&&Te.onerror(de[xe]):Te.onsuccess&&Te.onsuccess(U.type==="put"&&te[xe]?U.values[xe]:Ae)}return{failures:de,results:we,numFailures:Ie,lastResult:ce}}).catch(function(ce){return oe.forEach(function(de){return de.onerror&&de.onerror(ce)}),Promise.reject(ce)})})}}})}})}};function v1(h,g,m){try{if(!g||g.keys.length<h.length)return null;for(var A=[],S=0,O=0;S<g.keys.length&&O<h.length;++S)ut(g.keys[S],h[O])===0&&(A.push(m?D(g.values[S]):g.values[S]),++O);return A.length===h.length?A:null}catch{return null}}var Ab={stack:"dbcore",level:-1,create:function(h){return{table:function(g){var m=h.table(g);return n(n({},m),{getMany:function(A){if(!A.cache)return m.getMany(A);var S=v1(A.keys,A.trans._cache,A.cache==="clone");return S?Oe.resolve(S):m.getMany(A).then(function(O){return A.trans._cache={keys:A.keys,values:A.cache==="clone"?D(O):O},O})},mutate:function(A){return A.type!=="add"&&(A.trans._cache=null),m.mutate(A)}})}}}};function y1(h,g){return h.trans.mode==="readonly"&&!!h.subscr&&!h.trans.explicit&&h.trans.db._options.cache!=="disabled"&&!g.schema.primaryKey.outbound}function m1(h,g){switch(h){case"query":return g.values&&!g.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Cb={stack:"dbcore",level:0,name:"Observability",create:function(h){var g=h.schema.name,m=new Ir(h.MIN_KEY,h.MAX_KEY);return n(n({},h),{transaction:function(A,S,O){if(Ne.subscr&&S!=="readonly")throw new Le.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ne.querier));return h.transaction(A,S,O)},table:function(A){var S=h.table(A),O=S.schema,P=O.primaryKey,U=O.indexes,L=P.extractKey,H=P.outbound,K=P.autoIncrement&&U.filter(function(q){return q.compound&&q.keyPath.includes(P.keyPath)}),Y=n(n({},S),{mutate:function(q){function z(Ce){return Ce="idb://".concat(g,"/").concat(A,"/").concat(Ce),ce[Ce]||(ce[Ce]=new Ir)}var X,J,te,oe=q.trans,ce=q.mutatedParts||(q.mutatedParts={}),de=z(""),we=z(":dels"),Ie=q.type,Te=q.type==="deleteRange"?[q.range]:q.type==="delete"?[q.keys]:q.values.length<50?[pf(P,q).filter(function(Ce){return Ce}),q.values]:[],xe=Te[0],Ae=Te[1],Te=q.trans._cache;return a(xe)?(de.addKeys(xe),(Te=Ie==="delete"||xe.length===Ae.length?v1(xe,Te):null)||we.addKeys(xe),(Te||Ae)&&(X=z,J=Te,te=Ae,O.indexes.forEach(function(Ce){var Me=X(Ce.name||"");function Ze(nt){return nt!=null?Ce.extractKey(nt):null}function et(nt){return Ce.multiEntry&&a(nt)?nt.forEach(function(cn){return Me.addKey(cn)}):Me.addKey(nt)}(J||te).forEach(function(nt,Tr){var Xe=J&&Ze(J[Tr]),Tr=te&&Ze(te[Tr]);ut(Xe,Tr)!==0&&(Xe!=null&&et(Xe),Tr!=null&&et(Tr))})}))):xe?(Ae={from:(Ae=xe.lower)!==null&&Ae!==void 0?Ae:h.MIN_KEY,to:(Ae=xe.upper)!==null&&Ae!==void 0?Ae:h.MAX_KEY},we.add(Ae),de.add(Ae)):(de.add(m),we.add(m),O.indexes.forEach(function(Ce){return z(Ce.name).add(m)})),S.mutate(q).then(function(Ce){return!xe||q.type!=="add"&&q.type!=="put"||(de.addKeys(Ce.results),K&&K.forEach(function(Me){for(var Ze=q.values.map(function(Xe){return Me.extractKey(Xe)}),et=Me.keyPath.findIndex(function(Xe){return Xe===P.keyPath}),nt=0,cn=Ce.results.length;nt<cn;++nt)Ze[nt][et]=Ce.results[nt];z(Me.name).addKeys(Ze)})),oe.mutatedParts=Ol(oe.mutatedParts||{},ce),Ce})}}),U=function(z){var X=z.query,z=X.index,X=X.range;return[z,new Ir((z=X.lower)!==null&&z!==void 0?z:h.MIN_KEY,(X=X.upper)!==null&&X!==void 0?X:h.MAX_KEY)]},ee={get:function(q){return[P,new Ir(q.key)]},getMany:function(q){return[P,new Ir().addKeys(q.keys)]},count:U,query:U,openCursor:U};return s(ee).forEach(function(q){Y[q]=function(z){var X=Ne.subscr,J=!!X,te=y1(Ne,S)&&m1(q,z)?z.obsSet={}:X;if(J){var oe=function(Ae){return Ae="idb://".concat(g,"/").concat(A,"/").concat(Ae),te[Ae]||(te[Ae]=new Ir)},ce=oe(""),de=oe(":dels"),X=ee[q](z),J=X[0],X=X[1];if((q==="query"&&J.isPrimaryKey&&!z.values?de:oe(J.name||"")).add(X),!J.isPrimaryKey){if(q!=="count"){var we=q==="query"&&H&&z.values&&S.query(n(n({},z),{values:!1}));return S[q].apply(this,arguments).then(function(Ae){if(q==="query"){if(H&&z.values)return we.then(function(Ze){return Ze=Ze.result,ce.addKeys(Ze),Ae});var Te=z.values?Ae.result.map(L):Ae.result;(z.values?ce:de).addKeys(Te)}else if(q==="openCursor"){var Ce=Ae,Me=z.values;return Ce&&Object.create(Ce,{key:{get:function(){return de.addKey(Ce.primaryKey),Ce.key}},primaryKey:{get:function(){var Ze=Ce.primaryKey;return de.addKey(Ze),Ze}},value:{get:function(){return Me&&ce.addKey(Ce.primaryKey),Ce.value}}})}return Ae})}de.add(m)}}return S[q].apply(this,arguments)}}),Y}})}};function x1(h,g,m){if(m.numFailures===0)return g;if(g.type==="deleteRange")return null;var A=g.keys?g.keys.length:"values"in g&&g.values?g.values.length:1;return m.numFailures===A?null:(g=n({},g),a(g.keys)&&(g.keys=g.keys.filter(function(S,O){return!(O in m.failures)})),"values"in g&&a(g.values)&&(g.values=g.values.filter(function(S,O){return!(O in m.failures)})),g)}function gf(h,g){return m=h,((A=g).lower===void 0||(A.lowerOpen?0<ut(m,A.lower):0<=ut(m,A.lower)))&&(h=h,(g=g).upper===void 0||(g.upperOpen?ut(h,g.upper)<0:ut(h,g.upper)<=0));var m,A}function b1(h,g,ee,A,S,O){if(!ee||ee.length===0)return h;var P=g.query.index,L=P.multiEntry,H=g.query.range,K=A.schema.primaryKey.extractKey,Y=P.extractKey,U=(P.lowLevelIndex||P).extractKey,ee=ee.reduce(function(q,z){var X=q,J=[];if(z.type==="add"||z.type==="put")for(var te=new Ir,oe=z.values.length-1;0<=oe;--oe){var ce,de=z.values[oe],we=K(de);te.hasKey(we)||(ce=Y(de),(L&&a(ce)?ce.some(function(Ce){return gf(Ce,H)}):gf(ce,H))&&(te.addKey(we),J.push(de)))}switch(z.type){case"add":var Ie=new Ir().addKeys(g.values?q.map(function(Me){return K(Me)}):q),X=q.concat(g.values?J.filter(function(Me){return Me=K(Me),!Ie.hasKey(Me)&&(Ie.addKey(Me),!0)}):J.map(function(Me){return K(Me)}).filter(function(Me){return!Ie.hasKey(Me)&&(Ie.addKey(Me),!0)}));break;case"put":var xe=new Ir().addKeys(z.values.map(function(Me){return K(Me)}));X=q.filter(function(Me){return!xe.hasKey(g.values?K(Me):Me)}).concat(g.values?J:J.map(function(Me){return K(Me)}));break;case"delete":var Ae=new Ir().addKeys(z.keys);X=q.filter(function(Me){return!Ae.hasKey(g.values?K(Me):Me)});break;case"deleteRange":var Te=z.range;X=q.filter(function(Me){return!gf(K(Me),Te)})}return X},h);return ee===h?h:(ee.sort(function(q,z){return ut(U(q),U(z))||ut(K(q),K(z))}),g.limit&&g.limit<1/0&&(ee.length>g.limit?ee.length=g.limit:h.length===g.limit&&ee.length<g.limit&&(S.dirty=!0)),O?Object.freeze(ee):ee)}function _1(h,g){return ut(h.lower,g.lower)===0&&ut(h.upper,g.upper)===0&&!!h.lowerOpen==!!g.lowerOpen&&!!h.upperOpen==!!g.upperOpen}function Eb(h,g){return(function(m,A,S,O){if(m===void 0)return A!==void 0?-1:0;if(A===void 0)return 1;if((A=ut(m,A))===0){if(S&&O)return 0;if(S)return 1;if(O)return-1}return A})(h.lower,g.lower,h.lowerOpen,g.lowerOpen)<=0&&0<=(function(m,A,S,O){if(m===void 0)return A!==void 0?1:0;if(A===void 0)return-1;if((A=ut(m,A))===0){if(S&&O)return 0;if(S)return-1;if(O)return 1}return A})(h.upper,g.upper,h.upperOpen,g.upperOpen)}function Sb(h,g,m,A){h.subscribers.add(m),A.addEventListener("abort",function(){var S,O;h.subscribers.delete(m),h.subscribers.size===0&&(S=h,O=g,setTimeout(function(){S.subscribers.size===0&&me(O,S)},3e3))})}var Ib={stack:"dbcore",level:0,name:"Cache",create:function(h){var g=h.schema.name;return n(n({},h),{transaction:function(m,A,S){var O,P,L=h.transaction(m,A,S);return A==="readwrite"&&(P=(O=new AbortController).signal,S=function(H){return function(){if(O.abort(),A==="readwrite"){for(var K=new Set,Y=0,U=m;Y<U.length;Y++){var ee=U[Y],q=po["idb://".concat(g,"/").concat(ee)];if(q){var z=h.table(ee),X=q.optimisticOps.filter(function(Me){return Me.trans===L});if(L._explicit&&H&&L.mutatedParts)for(var J=0,te=Object.values(q.queries.query);J<te.length;J++)for(var oe=0,ce=(Ie=te[J]).slice();oe<ce.length;oe++)lf((xe=ce[oe]).obsSet,L.mutatedParts)&&(me(Ie,xe),xe.subscribers.forEach(function(Me){return K.add(Me)}));else if(0<X.length){q.optimisticOps=q.optimisticOps.filter(function(Me){return Me.trans!==L});for(var de=0,we=Object.values(q.queries.query);de<we.length;de++)for(var Ie,xe,Ae,Te=0,Ce=(Ie=we[de]).slice();Te<Ce.length;Te++)(xe=Ce[Te]).res!=null&&L.mutatedParts&&(H&&!xe.dirty?(Ae=Object.isFrozen(xe.res),Ae=b1(xe.res,xe.req,X,z,xe,Ae),xe.dirty?(me(Ie,xe),xe.subscribers.forEach(function(Me){return K.add(Me)})):Ae!==xe.res&&(xe.res=Ae,xe.promise=Oe.resolve({result:Ae}))):(xe.dirty&&me(Ie,xe),xe.subscribers.forEach(function(Me){return K.add(Me)})))}}}K.forEach(function(Me){return Me()})}}},L.addEventListener("abort",S(!1),{signal:P}),L.addEventListener("error",S(!1),{signal:P}),L.addEventListener("complete",S(!0),{signal:P})),L},table:function(m){var A=h.table(m),S=A.schema.primaryKey;return n(n({},A),{mutate:function(O){var P=Ne.trans;if(S.outbound||P.db._options.cache==="disabled"||P.explicit||P.idbtrans.mode!=="readwrite")return A.mutate(O);var L=po["idb://".concat(g,"/").concat(m)];return L?(P=A.mutate(O),O.type!=="add"&&O.type!=="put"||!(50<=O.values.length||pf(S,O).some(function(H){return H==null}))?(L.optimisticOps.push(O),O.mutatedParts&&kl(O.mutatedParts),P.then(function(H){0<H.numFailures&&(me(L.optimisticOps,O),(H=x1(0,O,H))&&L.optimisticOps.push(H),O.mutatedParts&&kl(O.mutatedParts))}),P.catch(function(){me(L.optimisticOps,O),O.mutatedParts&&kl(O.mutatedParts)})):P.then(function(H){var K=x1(0,n(n({},O),{values:O.values.map(function(Y,U){var ee;return H.failures[U]?Y:(Y=(ee=S.keyPath)!==null&&ee!==void 0&&ee.includes(".")?D(Y):n({},Y),T(Y,S.keyPath,H.results[U]),Y)})}),H);L.optimisticOps.push(K),queueMicrotask(function(){return O.mutatedParts&&kl(O.mutatedParts)})}),P):A.mutate(O)},query:function(O){if(!y1(Ne,A)||!m1("query",O))return A.query(O);var P=((K=Ne.trans)===null||K===void 0?void 0:K.db._options.cache)==="immutable",U=Ne,L=U.requery,H=U.signal,K=(function(z,X,J,te){var oe=po["idb://".concat(z,"/").concat(X)];if(!oe)return[];if(!(X=oe.queries[J]))return[null,!1,oe,null];var ce=X[(te.query?te.query.index.name:null)||""];if(!ce)return[null,!1,oe,null];switch(J){case"query":var de=ce.find(function(we){return we.req.limit===te.limit&&we.req.values===te.values&&_1(we.req.query.range,te.query.range)});return de?[de,!0,oe,ce]:[ce.find(function(we){return("limit"in we.req?we.req.limit:1/0)>=te.limit&&(!te.values||we.req.values)&&Eb(we.req.query.range,te.query.range)}),!1,oe,ce];case"count":return de=ce.find(function(we){return _1(we.req.query.range,te.query.range)}),[de,!!de,oe,ce]}})(g,m,"query",O),Y=K[0],U=K[1],ee=K[2],q=K[3];return Y&&U?Y.obsSet=O.obsSet:(U=A.query(O).then(function(z){var X=z.result;if(Y&&(Y.res=X),P){for(var J=0,te=X.length;J<te;++J)Object.freeze(X[J]);Object.freeze(X)}else z.result=D(X);return z}).catch(function(z){return q&&Y&&me(q,Y),Promise.reject(z)}),Y={obsSet:O.obsSet,promise:U,subscribers:new Set,type:"query",req:O,dirty:!1},q?q.push(Y):(q=[Y],(ee=ee||(po["idb://".concat(g,"/").concat(m)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[O.query.index.name||""]=q)),Sb(Y,q,L,H),Y.promise.then(function(z){return{result:b1(z.result,O,ee?.optimisticOps,A,Y,P)}})}})}})}};function Rl(h,g){return new Proxy(h,{get:function(m,A,S){return A==="db"?g:Reflect.get(m,A,S)}})}var ui=(qt.prototype.version=function(h){if(isNaN(h)||h<.1)throw new Le.Type("Given version is not a positive number");if(h=Math.round(10*h)/10,this.idbdb||this._state.isBeingOpened)throw new Le.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,h);var g=this._versions,m=g.filter(function(A){return A._cfg.version===h})[0];return m||(m=new this.Version(h),g.push(m),g.sort(vb),m.stores({}),this._state.autoSchema=!1,m)},qt.prototype._whenReady=function(h){var g=this;return this.idbdb&&(this._state.openComplete||Ne.letThrough||this._vip)?h():new Oe(function(m,A){if(g._state.openComplete)return A(new Le.DatabaseClosed(g._state.dbOpenError));if(!g._state.isBeingOpened){if(!g._state.autoOpen)return void A(new Le.DatabaseClosed);g.open().catch(at)}g._state.dbReadyPromise.then(m,A)}).then(h)},qt.prototype.use=function(h){var g=h.stack,m=h.create,A=h.level,S=h.name;return S&&this.unuse({stack:g,name:S}),h=this._middlewares[g]||(this._middlewares[g]=[]),h.push({stack:g,create:m,level:A??10,name:S}),h.sort(function(O,P){return O.level-P.level}),this},qt.prototype.unuse=function(h){var g=h.stack,m=h.name,A=h.create;return g&&this._middlewares[g]&&(this._middlewares[g]=this._middlewares[g].filter(function(S){return A?S.create!==A:!!m&&S.name!==m})),this},qt.prototype.open=function(){var h=this;return co(Pn,function(){return bb(h)})},qt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var h=this._state,g=Qo.indexOf(this);if(0<=g&&Qo.splice(g,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}h.isBeingOpened||(h.dbReadyPromise=new Oe(function(m){h.dbReadyResolve=m}),h.openCanceller=new Oe(function(m,A){h.cancelOpen=A}))},qt.prototype.close=function(m){var g=(m===void 0?{disableAutoOpen:!0}:m).disableAutoOpen,m=this._state;g?(m.isBeingOpened&&m.cancelOpen(new Le.DatabaseClosed),this._close(),m.autoOpen=!1,m.dbOpenError=new Le.DatabaseClosed):(this._close(),m.autoOpen=this._options.autoOpen||m.isBeingOpened,m.openComplete=!1,m.dbOpenError=null)},qt.prototype.delete=function(h){var g=this;h===void 0&&(h={disableAutoOpen:!0});var m=0<arguments.length&&typeof arguments[0]!="object",A=this._state;return new Oe(function(S,O){function P(){g.close(h);var L=g._deps.indexedDB.deleteDatabase(g.name);L.onsuccess=Bt(function(){var H,K,Y;H=g._deps,K=g.name,Y=H.indexedDB,H=H.IDBKeyRange,of(Y)||K===yl||nf(Y,H).delete(K).catch(at),S()}),L.onerror=Yn(O),L.onblocked=g._fireOnBlocked}if(m)throw new Le.InvalidArgument("Invalid closeOptions argument to db.delete()");A.isBeingOpened?A.dbReadyPromise.then(P):P()})},qt.prototype.backendDB=function(){return this.idbdb},qt.prototype.isOpen=function(){return this.idbdb!==null},qt.prototype.hasBeenClosed=function(){var h=this._state.dbOpenError;return h&&h.name==="DatabaseClosed"},qt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},qt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(qt.prototype,"tables",{get:function(){var h=this;return s(this._allTables).map(function(g){return h._allTables[g]})},enumerable:!1,configurable:!0}),qt.prototype.transaction=function(){var h=(function(g,m,A){var S=arguments.length;if(S<2)throw new Le.InvalidArgument("Too few arguments");for(var O=new Array(S-1);--S;)O[S-1]=arguments[S];return A=O.pop(),[g,V(O),A]}).apply(this,arguments);return this._transaction.apply(this,h)},qt.prototype._transaction=function(h,g,m){var A=this,S=Ne.trans;S&&S.db===this&&h.indexOf("!")===-1||(S=null);var O,P,L=h.indexOf("?")!==-1;h=h.replace("!","").replace("?","");try{if(P=g.map(function(K){if(K=K instanceof A.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),h=="r"||h===qc)O=qc;else{if(h!="rw"&&h!=Gc)throw new Le.InvalidArgument("Invalid transaction mode: "+h);O=Gc}if(S){if(S.mode===qc&&O===Gc){if(!L)throw new Le.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");S=null}S&&P.forEach(function(K){if(S&&S.storeNames.indexOf(K)===-1){if(!L)throw new Le.SubTransaction("Table "+K+" not included in parent transaction.");S=null}}),L&&S&&!S.active&&(S=null)}}catch(K){return S?S._promise(null,function(Y,U){U(K)}):Kt(K)}var H=(function K(Y,U,ee,q,z){return Oe.resolve().then(function(){var X=Ne.transless||Ne,J=Y._createTransaction(U,ee,Y._dbSchema,q);if(J.explicit=!0,X={trans:J,transless:X},q)J.idbtrans=q.idbtrans;else try{J.create(),J.idbtrans._explicit=!0,Y._state.PR1398_maxLoop=3}catch(ce){return ce.name===Gn.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return K(Y,U,ee,null,z)})):Kt(ce)}var te,oe=Et(z);return oe&&Jo(),X=Oe.follow(function(){var ce;(te=z.call(J,J))&&(oe?(ce=Oi.bind(null,null),te.then(ce,ce)):typeof te.next=="function"&&typeof te.throw=="function"&&(te=df(te)))},X),(te&&typeof te.then=="function"?Oe.resolve(te).then(function(ce){return J.active?ce:Kt(new Le.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):X.then(function(){return te})).then(function(ce){return q&&J._resolve(),J._completion.then(function(){return ce})}).catch(function(ce){return J._reject(ce),Kt(ce)})})}).bind(null,this,O,P,S,m);return S?S._promise(O,H,"lock"):Ne.trans?co(Ne.transless,function(){return A._whenReady(H)}):this._whenReady(H)},qt.prototype.table=function(h){if(!d(this._allTables,h))throw new Le.InvalidTable("Table ".concat(h," does not exist"));return this._allTables[h]},qt);function qt(h,g){var m=this;this._middlewares={},this.verno=0;var A=qt.dependencies;this._options=g=n({addons:qt.addons,autoOpen:!0,indexedDB:A.indexedDB,IDBKeyRange:A.IDBKeyRange,cache:"cloned"},g),this._deps={indexedDB:g.indexedDB,IDBKeyRange:g.IDBKeyRange},A=g.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var S,O,P,L,H,K={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:at,dbReadyPromise:null,cancelOpen:at,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:g.autoOpen};K.dbReadyPromise=new Oe(function(U){K.dbReadyResolve=U}),K.openCanceller=new Oe(function(U,ee){K.cancelOpen=ee}),this._state=K,this.name=h,this.on=Xs(this,"populate","blocked","versionchange","close",{ready:[ie,at]}),this.once=function(U,ee){var q=function(){for(var z=[],X=0;X<arguments.length;X++)z[X]=arguments[X];m.on(U).unsubscribe(q),ee.apply(m,z)};return m.on(U,q)},this.on.ready.subscribe=_(this.on.ready.subscribe,function(U){return function(ee,q){qt.vip(function(){var z,X=m._state;X.openComplete?(X.dbOpenError||Oe.resolve().then(ee),q&&U(ee)):X.onReadyBeingFired?(X.onReadyBeingFired.push(ee),q&&U(ee)):(U(ee),z=m,q||U(function J(){z.on.ready.unsubscribe(ee),z.on.ready.unsubscribe(J)}))})}}),this.Collection=(S=this,Ys(ub.prototype,function(te,J){this.db=S;var q=Yh,z=null;if(J)try{q=J()}catch(oe){z=oe}var X=te._ctx,J=X.table,te=J.hook.reading.fire;this._ctx={table:J,index:X.index,isPrimKey:!X.index||J.schema.primKey.keyPath&&X.index===J.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:z,or:X.or,valueMapper:te!==$?te:null}})),this.Table=(O=this,Ys(r1.prototype,function(U,ee,q){this.db=O,this._tx=q,this.name=U,this.schema=ee,this.hook=O._allTables[U]?O._allTables[U].hook:Xs(null,{creating:[ve,at],reading:[G,$],updating:[Q,at],deleting:[pe,at]})})),this.Transaction=(P=this,Ys(db.prototype,function(U,ee,q,z,X){var J=this;U!=="readonly"&&ee.forEach(function(te){te=(te=q[te])===null||te===void 0?void 0:te.yProps,te&&(ee=ee.concat(te.map(function(oe){return oe.updatesTable})))}),this.db=P,this.mode=U,this.storeNames=ee,this.schema=q,this.chromeTransactionDurability=z,this.idbtrans=null,this.on=Xs(this,"complete","error","abort"),this.parent=X||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Oe(function(te,oe){J._resolve=te,J._reject=oe}),this._completion.then(function(){J.active=!1,J.on.complete.fire()},function(te){var oe=J.active;return J.active=!1,J.on.error.fire(te),J.parent?J.parent._reject(te):oe&&J.idbtrans&&J.idbtrans.abort(),Kt(te)})})),this.Version=(L=this,Ys(xb.prototype,function(U){this.db=L,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(H=this,Ys(a1.prototype,function(U,ee,q){if(this.db=H,this._ctx={table:U,index:ee===":id"?null:ee,or:q},this._cmp=this._ascending=ut,this._descending=function(z,X){return ut(X,z)},this._max=function(z,X){return 0<ut(z,X)?z:X},this._min=function(z,X){return ut(z,X)<0?z:X},this._IDBKeyRange=H._deps.IDBKeyRange,!this._IDBKeyRange)throw new Le.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(m.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(m.name,"'. Closing db now to resume the delete request.")),m.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(m.name,"') was blocked")):console.warn("Upgrade '".concat(m.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=Qs(g.IDBKeyRange),this._createTransaction=function(U,ee,q,z){return new m.Transaction(U,ee,q,m._options.chromeTransactionDurability,z)},this._fireOnBlocked=function(U){m.on("blocked").fire(U),Qo.filter(function(ee){return ee.name===m.name&&ee!==m&&!ee._state.vcFired}).map(function(ee){return ee.on("versionchange").fire(U)})},this.use(Ab),this.use(Ib),this.use(Cb),this.use(_b),this.use(wb);var Y=new Proxy(this,{get:function(U,ee,q){if(ee==="_vip")return!0;if(ee==="table")return function(X){return Rl(m.table(X),Y)};var z=Reflect.get(U,ee,q);return z instanceof r1?Rl(z,Y):ee==="tables"?z.map(function(X){return Rl(X,Y)}):ee==="_createTransaction"?function(){return Rl(z.apply(this,arguments),Y)}:z}});this.vip=Y,A.forEach(function(U){return U(m)})}var Pl,mn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Tb=(vf.prototype.subscribe=function(h,g,m){return this._subscribe(h&&typeof h!="function"?h:{next:h,error:g,complete:m})},vf.prototype[mn]=function(){return this},vf);function vf(h){this._subscribe=h}try{Pl={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Pl={indexedDB:null,IDBKeyRange:null}}function w1(h){var g,m=!1,A=new Tb(function(S){var O=Et(h),P,L=!1,H={},K={},Y={get closed(){return L},unsubscribe:function(){L||(L=!0,P&&P.abort(),U&&Ri.storagemutated.unsubscribe(q))}};S.start&&S.start(Y);var U=!1,ee=function(){return Kc(z)},q=function(X){Ol(H,X),lf(K,H)&&ee()},z=function(){var X,J,te;!L&&Pl.indexedDB&&(H={},X={},P&&P.abort(),P=new AbortController,te=(function(oe){var ce=Yo();try{O&&Jo();var de=Ti(h,oe);return de=O?de.finally(Oi):de}finally{ce&&Zo()}})(J={subscr:X,signal:P.signal,requery:ee,querier:h,trans:null}),Promise.resolve(te).then(function(oe){m=!0,g=oe,L||J.signal.aborted||(H={},(function(ce){for(var de in ce)if(d(ce,de))return;return 1})(K=X)||U||(Ri(Js,q),U=!0),Kc(function(){return!L&&S.next&&S.next(oe)}))},function(oe){m=!1,["DatabaseClosedError","AbortError"].includes(oe?.name)||L||Kc(function(){L||S.error&&S.error(oe)})}))};return setTimeout(ee,0),Y});return A.hasValue=function(){return m},A.getValue=function(){return g},A}var go=ui;function yf(h){var g=Pi;try{Pi=!0,Ri.storagemutated.fire(h),ff(h,!0)}finally{Pi=g}}p(go,n(n({},Rn),{delete:function(h){return new go(h,{addons:[]}).delete()},exists:function(h){return new go(h,{addons:[]}).open().then(function(g){return g.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(h){try{return g=go.dependencies,m=g.indexedDB,g=g.IDBKeyRange,(of(m)?Promise.resolve(m.databases()).then(function(A){return A.map(function(S){return S.name}).filter(function(S){return S!==yl})}):nf(m,g).toCollection().primaryKeys()).then(h)}catch{return Kt(new Le.MissingAPI)}var g,m},defineClass:function(){return function(h){l(this,h)}},ignoreTransaction:function(h){return Ne.trans?co(Ne.transless,h):h()},vip:sf,async:function(h){return function(){try{var g=df(h.apply(this,arguments));return g&&typeof g.then=="function"?g:Oe.resolve(g)}catch(m){return Kt(m)}}},spawn:function(h,g,m){try{var A=df(h.apply(m,g||[]));return A&&typeof A.then=="function"?A:Oe.resolve(A)}catch(S){return Kt(S)}},currentTransaction:{get:function(){return Ne.trans||null}},waitFor:function(h,g){return g=Oe.resolve(typeof h=="function"?go.ignoreTransaction(h):h).timeout(g||6e4),Ne.trans?Ne.trans.waitFor(g):g},Promise:Oe,debug:{get:function(){return ge},set:function(h){he(h)}},derive:b,extend:l,props:p,override:_,Events:Xs,on:Ri,liveQuery:w1,extendObservabilitySet:Ol,getByKeyPath:M,setByKeyPath:T,delByKeyPath:function(h,g){typeof g=="string"?T(h,g,void 0):"length"in g&&[].map.call(g,function(m){T(h,m,void 0)})},shallowClone:I,deepClone:D,getObjectDiff:hf,cmp:ut,asap:N,minKey:-1/0,addons:[],connections:Qo,errnames:Gn,dependencies:Pl,cache:po,semVer:"4.2.1",version:"4.2.1".split(".").map(function(h){return parseInt(h)}).reduce(function(h,g,m){return h+g/Math.pow(10,2*m)})})),go.maxKey=Qs(go.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ri(Js,function(h){Pi||(h=new CustomEvent(Yc,{detail:h}),Pi=!0,dispatchEvent(h),Pi=!1)}),addEventListener(Yc,function(h){h=h.detail,Pi||yf(h)}));var ns,Pi=!1,A1=function(){};return typeof BroadcastChannel<"u"&&((A1=function(){(ns=new BroadcastChannel(Yc)).onmessage=function(h){return h.data&&yf(h.data)}})(),typeof ns.unref=="function"&&ns.unref(),Ri(Js,function(h){Pi||ns.postMessage(h)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(h){if(!ui.disableBfCache&&h.persisted){ge&&console.debug("Dexie: handling persisted pagehide"),ns?.close();for(var g=0,m=Qo;g<m.length;g++)m[g].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(h){!ui.disableBfCache&&h.persisted&&(ge&&console.debug("Dexie: handling persisted pageshow"),A1(),yf({all:new Ir(-1/0,[[]])}))})),Oe.rejectionMapper=function(h,g){return!h||h instanceof $r||h instanceof TypeError||h instanceof SyntaxError||!h.name||!yn[h.name]?h:(g=new yn[h.name](g||h.message,h),"stack"in h&&y(g,"stack",{get:function(){return this.inner.stack}}),g)},he(ge),n(ui,Object.freeze({__proto__:null,Dexie:ui,liveQuery:w1,Entity:Zh,cmp:ut,PropModification:zs,replacePrefix:function(h,g){return new zs({replacePrefix:[h,g]})},add:function(h){return new zs({add:h})},remove:function(h){return new zs({remove:h})},default:ui,RangeSet:Ir,mergeRanges:ra,rangesOverlap:d1}),{default:ui}),ui})})(bu)),bu.exports}var k9=O9();const t0=I9(k9),mg=Symbol.for("Dexie"),Qu=globalThis[mg]||(globalThis[mg]=t0);if(t0.semVer!==Qu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${t0.semVer} and ${Qu.semVer}`);const{liveQuery:Oj,mergeRanges:kj,rangesOverlap:Nj,RangeSet:Rj,cmp:Pj,Entity:Dj,PropModification:Mj,replacePrefix:Bj,add:Fj,remove:Lj,DexieYProvider:$j}=Qu;function N9(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function R9(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var P9=(function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),D9=(function(t){P9(e,t);function e(r,n){var i=this.constructor,o=t.call(this,r,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),N9(o,i.prototype),R9(o),o}return e})(Error),M9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ln=(function(t){M9(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e})(D9),B9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Mn=(function(t){B9(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(ln),F9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),We=(function(t){F9(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(ln),L9=(function(){function t(e){if(this.binarizer=e,e===null)throw new We("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var o=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),$9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),gr=(function(t){$9(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(ln),U9=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),Tt=(function(){function t(){}return t.arraycopy=function(e,r,n,i,o){for(;o--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t})(),V9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Fh=(function(t){V9(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(ln),j9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),xg=(function(t){j9(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e})(Fh),H9=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ar=(function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var o=r;o<n;o++)e[o]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new We("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new xg(r);if(n>e)throw new xg(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var o=H9(e),s=o.next();!s.done;s=o.next()){var a=s.value;i=31*i+a}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,o=new Int32Array(i);return Tt.arraycopy(e,r,o,0,i),o},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var s=o+i>>1,a=n(r,e[s]);if(a>0)i=s+1;else if(a<0)o=s-1;else return s}return-i-1},t.numberComparator=function(e,r){return e-r},t})(),it=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),vr=(function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Tt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=n[i];o&=~((1<<(e&31))-1);for(var s=n.length;o===0;){if(++i===s)return r;o=n[i]}var a=i*32+it.numberOfTrailingZeros(o);return a>r?r:a},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=~n[i];o&=~((1<<(e&31))-1);for(var s=n.length;o===0;){if(++i===s)return r;o=~n[i]}var a=i*32+it.numberOfTrailingZeros(o);return a>r?r:a},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new We;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),o=this.bits,s=n;s<=i;s++){var a=s>n?0:e&31,l=s<i?31:r&31,u=(2<<l)-(1<<a);o[s]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new We;if(r===e)return!0;r--;for(var i=Math.floor(e/32),o=Math.floor(r/32),s=this.bits,a=i;a<=o;a++){var l=a>i?0:e&31,u=a<o?31:r&31,f=(2<<u)-(1<<l)&4294967295;if((s[a]&f)!==(n?f:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new We("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new We("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var o=0;o<i;o++){for(var s=0,a=0;a<8;a++)this.get(e)&&(s|=1<<7-a),e++;r[n+o]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,o=0;o<n;o++){var s=i[o];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[r-o]=s}if(this.size!==n*32){for(var a=n*32-this.size,l=e[0]>>>a,o=1;o<n;o++){var u=e[o];l|=u<<32-a,e[o-1]=l,l=u>>>a}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&ar.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+ar.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t})(),r0;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(r0||(r0={}));const Lt=r0;var W9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Se=(function(t){W9(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(ln),K9=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(wt||(wt={}));var sr=(function(){function t(e,r,n){for(var i,o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,u=0,f=l.length;u!==f;u++){var d=l[u];t.VALUES_TO_ECI.set(d,this)}try{for(var p=K9(s),v=p.next();!v.done;v=p.next()){var y=v.value;t.NAME_TO_ECI.set(y,this)}}catch(b){i={error:b}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Se("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new Se("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new Se("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(wt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(wt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(wt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(wt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(wt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(wt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(wt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(wt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(wt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(wt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(wt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(wt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(wt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(wt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(wt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(wt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(wt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(wt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(wt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(wt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(wt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(wt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(wt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(wt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(wt.Big5,28,"Big5"),t.GB18030=new t(wt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(wt.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),q9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),_u=(function(t){q9(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(ln),Tn=(function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof sr?e:sr.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",o=0,s=e.length;o<s;o++){var a=e[o].toString(16);a.length<2&&(a="0"+a),i+="%"+a}return decodeURIComponent(i)}if(n.equals(sr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _u("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(sr.UTF8)||e.equals(sr.ISO8859_1)||e.equals(sr.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],o=0;o<n.length;o++)i.push(n[o].charCodeAt(0));return new Uint8Array(i)},t})(),ft=(function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Tn.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Lt.CHARACTER_SET)!==void 0)return r.get(Lt.CHARACTER_SET).toString();for(var n=e.length,i=!0,o=!0,s=!0,a=0,l=0,u=0,f=0,d=0,p=0,v=0,y=0,b=0,x=0,w=0,C=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,_=0;_<n&&(i||o||s);_++){var E=e[_]&255;s&&(a>0?(E&128)===0?s=!1:a--:(E&128)!==0&&((E&64)===0?s=!1:(a++,(E&32)===0?l++:(a++,(E&16)===0?u++:(a++,(E&8)===0?f++:s=!1))))),i&&(E>127&&E<160?i=!1:E>159&&(E<192||E===215||E===247)&&w++),o&&(d>0?E<64||E===127||E>252?o=!1:d--:E===128||E===160||E>239?o=!1:E>160&&E<224?(p++,y=0,v++,v>b&&(b=v)):E>127?(d++,v=0,y++,y>x&&(x=y)):(v=0,y=0))}return s&&a>0&&(s=!1),o&&d>0&&(o=!1),s&&(C||l+u+f>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||b>=3||x>=3)?t.SHIFT_JIS:i&&o?b===2&&p===2||w*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function o(a,l,u,f,d,p){if(a==="%%")return"%";if(r[++i]!==void 0){a=f?parseInt(f.substr(1)):void 0;var v=d?parseInt(d.substr(1)):void 0,y;switch(p){case"s":y=r[i];break;case"c":y=r[i][0];break;case"f":y=parseFloat(r[i]).toFixed(a);break;case"p":y=parseFloat(r[i]).toPrecision(a);break;case"e":y=parseFloat(r[i]).toExponential(a);break;case"x":y=parseInt(r[i]).toString(v||16);break;case"d":y=parseFloat(parseInt(r[i],v||10).toPrecision(a)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(v);for(var b=parseInt(u),x=u&&u[0]+""=="0"?"0":" ";y.length<b;)y=l!==void 0?y+x:x+y;return y}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,o)},t.getBytes=function(e,r){return Tn.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=sr.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=sr.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=sr.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),rt=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ft.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t})(),si=(function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new We("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),o=0;o<r;o++)for(var s=e[o],a=0;a<n;a++)s[a]&&i.set(a,o);return i},t.parseFromString=function(e,r,n){if(e===null)throw new We("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,s=0,a=-1,l=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(o>s){if(a===-1)a=o-s;else if(o-s!==a)throw new We("row lengths do not match");s=o,l++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,i[o]=!0,o++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[o]=!1,o++;else throw new We("illegal character encountered: "+e.substring(u));if(o>s){if(a===-1)a=o-s;else if(o-s!==a)throw new We("row lengths do not match");l++}for(var f=new t(a,l),d=0;d<o;d++)i[d]&&f.set(Math.floor(d%a),Math.floor(d/a));return f},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new We("input matrix dimensions do not match");for(var r=new vr(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,o=0,s=this.height;o<s;o++)for(var a=o*n,l=e.getRow(o,r).getBitArray(),u=0;u<n;u++)i[a+u]^=l[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new We("Left and top must be nonnegative");if(i<1||n<1)throw new We("Height and width must be at least 1");var o=e+n,s=r+i;if(s>this.height||o>this.width)throw new We("The region must fit inside the matrix");for(var a=this.rowSize,l=this.bits,u=r;u<s;u++)for(var f=u*a,d=e;d<o;d++)l[f+Math.floor(d/32)]|=1<<(d&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new vr(this.width):r.clear();for(var n=this.rowSize,i=this.bits,o=e*n,s=0;s<n;s++)r.setBulk(s*32,i[o+s]);return r},t.prototype.setRow=function(e,r){Tt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new vr(e),i=new vr(e),o=0,s=Math.floor((r+1)/2);o<s;o++)n=this.getRow(o,n),i=this.getRow(r-1-o,i),n.reverse(),i.reverse(),this.setRow(o,i),this.setRow(r-1-o,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,o=e,s=r,a=-1,l=-1,u=0;u<r;u++)for(var f=0;f<n;f++){var d=i[u*n+f];if(d!==0){if(u<s&&(s=u),u>l&&(l=u),f*32<o){for(var p=0;(d<<31-p&4294967295)===0;)p++;f*32+p<o&&(o=f*32+p)}if(f*32+31>a){for(var p=31;!(d>>>p);)p--;f*32+p>a&&(a=f*32+p)}}}return a<o||l<s?null:Int32Array.from([o,s,a-o+1,l-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,o=n%e*32,s=r[n],a=0;(s<<31-a&4294967295)===0;)a++;return o+=a,Int32Array.from([o,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),o=Math.floor(n%e)*32,s=r[n],a=31;!(s>>>a);)a--;return o+=a,Int32Array.from([o,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&ar.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ar.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new rt,o=0,s=this.height;o<s;o++){for(var a=0,l=this.width;a<l;a++)i.append(this.get(a,o)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),G9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fe=(function(t){G9(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(ln),z9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),X9=(function(t){z9(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new vr(o):n.clear(),this.initArrays(o);for(var s=i.getRow(r,this.luminances),a=this.buckets,l=0;l<o;l++)a[(s[l]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(a);if(o<3)for(var l=0;l<o;l++)(s[l]&255)<u&&n.set(l);else for(var f=s[0]&255,d=s[1]&255,l=1;l<o-1;l++){var p=s[l+1]&255;(d*4-f-p)/2<u&&n.set(l),f=d,d=p}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),o=new si(n,i);this.initArrays(n);for(var s=this.buckets,a=1;a<5;a++)for(var l=Math.floor(i*a/5),u=r.getRow(l,this.luminances),f=Math.floor(n*4/5),d=Math.floor(n/5);d<f;d++){var p=u[d]&255;s[p>>e.LUMINANCE_SHIFT]++}for(var v=e.estimateBlackPoint(s),y=r.getMatrix(),a=0;a<i;a++)for(var b=a*n,d=0;d<n;d++){var p=y[b+d]&255;p<v&&o.set(d,a)}return o},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,o=0,s=0,a=0;a<n;a++)r[a]>s&&(o=a,s=r[a]),r[a]>i&&(i=r[a]);for(var l=0,u=0,a=0;a<n;a++){var f=a-o,d=r[a]*f*f;d>u&&(l=a,u=d)}if(o>l){var p=o;o=l,l=p}if(l-o<=n/16)throw new fe;for(var v=l-1,y=-1,a=l-1;a>o;a--){var b=a-o,d=b*b*(l-a)*(i-r[a]);d>y&&(v=a,y=d)}return v<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(U9),Y9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Z9=(function(t){Y9(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=r.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&s++;var a=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&a++;var l=e.calculateBlackPoints(o,s,a,n,i),u=new si(n,i);e.calculateThresholdForBlock(o,s,a,n,i,l,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,o,s,a,l){for(var u=s-e.BLOCK_SIZE,f=o-e.BLOCK_SIZE,d=0;d<i;d++){var p=d<<e.BLOCK_SIZE_POWER;p>u&&(p=u);for(var v=e.cap(d,2,i-3),y=0;y<n;y++){var b=y<<e.BLOCK_SIZE_POWER;b>f&&(b=f);for(var x=e.cap(y,2,n-3),w=0,C=-2;C<=2;C++){var _=a[v+C];w+=_[x-2]+_[x-1]+_[x]+_[x+1]+_[x+2]}var E=w/25;e.thresholdBlock(r,b,p,E,o,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,o,s,a){for(var l=0,u=i*s+n;l<e.BLOCK_SIZE;l++,u+=s)for(var f=0;f<e.BLOCK_SIZE;f++)(r[u+f]&255)<=o&&a.set(n+f,i+l)},e.calculateBlackPoints=function(r,n,i,o,s){for(var a=s-e.BLOCK_SIZE,l=o-e.BLOCK_SIZE,u=new Array(i),f=0;f<i;f++){u[f]=new Int32Array(n);var d=f<<e.BLOCK_SIZE_POWER;d>a&&(d=a);for(var p=0;p<n;p++){var v=p<<e.BLOCK_SIZE_POWER;v>l&&(v=l);for(var y=0,b=255,x=0,w=0,C=d*o+v;w<e.BLOCK_SIZE;w++,C+=o){for(var _=0;_<e.BLOCK_SIZE;_++){var E=r[C+_]&255;y+=E,E<b&&(b=E),E>x&&(x=E)}if(x-b>e.MIN_DYNAMIC_RANGE)for(w++,C+=o;w<e.BLOCK_SIZE;w++,C+=o)for(var _=0;_<e.BLOCK_SIZE;_++)y+=r[C+_]&255}var N=y>>e.BLOCK_SIZE_POWER*2;if(x-b<=e.MIN_DYNAMIC_RANGE&&(N=b/2,f>0&&p>0)){var M=(u[f-1][p]+2*u[f][p-1]+u[f-1][p-1])/4;b<M&&(N=M)}u[f][p]=N}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(X9),Lc=(function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new _u("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new _u("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new _u("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new rt,n=0;n<this.height;n++){for(var i=this.getRow(n,e),o=0;o<this.width;o++){var s=i[o]&255,a=void 0;s<64?a="#":s<128?a="+":s<192?a=".":a=" ",r.append(a)}r.append(`
`)}return r.toString()},t})(),J9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Lh=(function(t){J9(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),o=this.getWidth(),s=0;s<o;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),o=0;o<n;o++)i[o]=255-(r[o]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,o){return new e(this.delegate.crop(r,n,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Lc),Q9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),eN=(function(t){Q9(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,o){o===void 0&&(o=!1);var s=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!o)for(var a=0,l=0,u=r.length;a<u;a+=4,l++){var f=void 0,d=r[a+3];if(d===0)f=255;else{var p=r[a],v=r[a+1],y=r[a+2];f=306*p+601*v+117*y+512>>10}s[l]=f}else for(var a=0,l=0,b=r.length;a<b;a+=4,l++){var f=void 0,d=r[a+3];if(d===0)f=255;else{var p=r[a],v=r[a+1],y=r[a+2];f=306*p+601*v+117*y+512>>10}s[l]=255-f}return s},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new We("Requested row is outside the image: "+r);var i=this.getWidth(),o=r*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return t.prototype.crop.call(this,r,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),o=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(o))*s+Math.abs(Math.sin(o))*a),u=Math.ceil(Math.abs(Math.sin(o))*s+Math.abs(Math.cos(o))*a);return n.width=l,n.height=u,i.translate(l/2,u/2),i.rotate(o),i.drawImage(this.canvas,s/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Lh(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Lc),tN=(function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),Vr=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{u(n.next(f))}catch(d){s(d)}}function l(f){try{u(n.throw(f))}catch(d){s(d)}}function u(f){f.done?o(f.value):i(f.value).then(a,l)}u((n=n.apply(t,e||[])).next())})},jr=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},rN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gs=(function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Vr(this,void 0,void 0,function(){var e,r,n,i,o,s,a,l,u,f,d,p;return jr(this,function(v){switch(v.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=v.sent(),r=[];try{for(n=rN(e),i=n.next();!i.done;i=n.next())o=i.value,s=o.kind==="video"?"videoinput":o.kind,s==="videoinput"&&(a=o.deviceId||o.id,l=o.label||"Video device "+(r.length+1),u=o.groupId,f={deviceId:a,label:l,kind:s,groupId:u},r.push(f))}catch(y){d={error:y}}finally{try{i&&!i.done&&(p=n.return)&&p.call(n)}finally{if(d)throw d.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Vr(this,void 0,void 0,function(){var e;return jr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new tN(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Vr(this,void 0,void 0,function(){var r;return jr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Vr(this,void 0,void 0,function(){return jr(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Vr(this,void 0,void 0,function(){var n,i;return jr(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Vr(this,void 0,void 0,function(){var n;return jr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Vr(this,void 0,void 0,function(){var n,i;return jr(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return i=o.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Vr(this,void 0,void 0,function(){return jr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Vr(this,void 0,void 0,function(){var i,o;return jr(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Vr(this,void 0,void 0,function(){var i;return jr(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Vr(this,void 0,void 0,function(){var i;return jr(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,o.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Vr(this,void 0,void 0,function(){var n;return jr(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Vr(this,void 0,void 0,function(){return jr(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Mn("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Mn("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Mn("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Mn("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Mn("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Mn("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Mn("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Mn("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Mn("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Mn("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Vr(this,void 0,void 0,function(){return jr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Vr(this,void 0,void 0,function(){return jr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(s,a){if(i._stopAsyncDecode){a(new fe("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);s(l)}catch(p){var u=r&&p instanceof fe,f=p instanceof gr||p instanceof Se,d=f&&n;if(u||d)return setTimeout(o,i._timeBetweenDecodingAttempts,s,a);a(p)}};return new Promise(function(s,a){return o(s,a)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);r(o,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var s=l instanceof gr||l instanceof Se,a=l instanceof fe;(s||a)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new eN(n,r),o=new Z9(i);return new L9(o)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),Lr=(function(){function t(e,r,n,i,o,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=Tt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=o,this.timestamp=s,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=o,this.resultMetadata=null,s==null?this.timestamp=Tt.currentTimeMillis():this.timestamp=s}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Tt.arraycopy(r,0,n,0,r.length),Tt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),n0;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(n0||(n0={}));const He=n0;var i0;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(i0||(i0={}));const Ar=i0;var $c=(function(){function t(e,r,n,i,o,s){o===void 0&&(o=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),ya=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new We;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t})(),Ji=(function(){function t(e,r){if(r.length===0)throw new We;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Tt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,o=r.length;i!==o;i++){var s=r[i];n=ya.addOrSubtract(n,s)}return n}n=r[0];for(var a=r.length,l=this.field,i=1;i<a;i++)n=ya.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new We("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),s=n.length-r.length;Tt.arraycopy(n,0,o,0,s);for(var a=s;a<n.length;a++)o[a]=ya.addOrSubtract(r[a-s],n[a]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new We("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,s=new Int32Array(n+o-1),a=this.field,l=0;l<n;l++)for(var u=r[l],f=0;f<o;f++)s[l+f]=ya.addOrSubtract(s[l+f],a.multiply(u,i[f]));return new t(a,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),o=this.coefficients,s=0;s<r;s++)i[s]=n.multiply(o[s],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new We;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,o=new Int32Array(i+e),s=this.field,a=0;a<i;a++)o[a]=s.multiply(n[a],r);return new t(s,o)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new We("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new We("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,o=e.getCoefficient(e.getDegree()),s=r.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var a=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),s),u=e.multiplyByMonomial(a,l),f=r.buildMonomial(a,l);n=n.addOrSubtract(f),i=i.addOrSubtract(u)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t})(),nN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),H2=(function(t){nN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(ln),iN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),en=(function(t){iN(e,t);function e(r,n,i){var o=t.call(this)||this;o.primitive=r,o.size=n,o.generatorBase=i;for(var s=new Int32Array(n),a=1,l=0;l<n;l++)s[l]=a,a*=2,a>=n&&(a^=r,a&=n-1);o.expTable=s;for(var u=new Int32Array(n),l=0;l<n-1;l++)u[s[l]]=l;return o.logTable=u,o.zero=new Ji(o,Int32Array.from([0])),o.one=new Ji(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new We;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Ji(this,i)},e.prototype.inverse=function(r){if(r===0)throw new H2;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+it.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(ya),oN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),tu=(function(t){oN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(ln),sN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fl=(function(t){sN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(ln),Uc=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Ji(n,e),o=new Int32Array(r),s=!0,a=0;a<r;a++){var l=i.evaluateAt(n.exp(a+n.getGeneratorBase()));o[o.length-1-a]=l,l!==0&&(s=!1)}if(!s)for(var u=new Ji(n,o),f=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),d=f[0],p=f[1],v=this.findErrorLocations(d),y=this.findErrorMagnitudes(p,v),a=0;a<v.length;a++){var b=e.length-1-n.log(v[a]);if(b<0)throw new tu("Bad error location");e[b]=en.addOrSubtract(e[b],y[a])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=this.field,s=e,a=r,l=o.getZero(),u=o.getOne();a.getDegree()>=(n/2|0);){var f=s,d=l;if(s=a,l=u,s.isZero())throw new tu("r_{i-1} was zero");a=f;for(var p=o.getZero(),v=s.getCoefficient(s.getDegree()),y=o.inverse(v);a.getDegree()>=s.getDegree()&&!a.isZero();){var b=a.getDegree()-s.getDegree(),x=o.multiply(a.getCoefficient(a.getDegree()),y);p=p.addOrSubtract(o.buildMonomial(b,x)),a=a.addOrSubtract(s.multiplyByMonomial(b,x))}if(u=p.multiply(l).addOrSubtract(d),a.getDegree()>=s.getDegree())throw new fl("Division algorithm failed to reduce polynomial?")}var w=u.getCoefficient(0);if(w===0)throw new tu("sigmaTilde(0) was zero");var C=o.inverse(w),_=u.multiplyScalar(C),E=a.multiplyScalar(C);return[_,E]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,o=this.field,s=1;s<o.getSize()&&i<r;s++)e.evaluateAt(s)===0&&(n[i]=o.inverse(s),i++);if(i!==r)throw new tu("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),o=this.field,s=0;s<n;s++){for(var a=o.inverse(r[s]),l=1,u=0;u<n;u++)if(s!==u){var f=o.multiply(r[u],a),d=(f&1)===0?f|1:f&-2;l=o.multiply(l,d)}i[s]=o.multiply(e.evaluateAt(a),o.inverse(l)),o.getGeneratorBase()!==0&&(i[s]=o.multiply(i[s],a))}return i},t})(),mr;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(mr||(mr={}));var bg=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),o=t.convertBoolArrayToByteArray(i),s=t.getEncodedData(i),a=new $c(o,s,null,null);return a.setNumBits(i.length),a},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=mr.UPPER,i=mr.UPPER,o="",s=0;s<r;)if(i===mr.BINARY){if(r-s<5)break;var a=t.readCode(e,s,5);if(s+=5,a===0){if(r-s<11)break;a=t.readCode(e,s,11)+31,s+=11}for(var l=0;l<a;l++){if(r-s<8){s=r;break}var u=t.readCode(e,s,8);o+=ft.castAsNonUtf8Char(u),s+=8}i=n}else{var f=i===mr.DIGIT?4:5;if(r-s<f)break;var u=t.readCode(e,s,f);s+=f;var d=t.getCharacter(i,u);d.startsWith("CTRL_")?(n=i,i=t.getTable(d.charAt(5)),d.charAt(6)==="L"&&(n=i)):(o+=d,i=n)}return o},t.getTable=function(e){switch(e){case"L":return mr.LOWER;case"P":return mr.PUNCT;case"M":return mr.MIXED;case"D":return mr.DIGIT;case"B":return mr.BINARY;case"U":default:return mr.UPPER}},t.getCharacter=function(e,r){switch(e){case mr.UPPER:return t.UPPER_TABLE[r];case mr.LOWER:return t.LOWER_TABLE[r];case mr.MIXED:return t.MIXED_TABLE[r];case mr.PUNCT:return t.PUNCT_TABLE[r];case mr.DIGIT:return t.DIGIT_TABLE[r];default:throw new fl("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=en.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=en.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=en.AZTEC_DATA_10):(n=12,r=en.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/n;if(o<i)throw new Se;for(var s=e.length%n,a=new Int32Array(o),l=0;l<o;l++,s+=n)a[l]=t.readCode(e,s,n);try{var u=new Uc(r);u.decode(a,o-i)}catch(x){throw new Se(x)}for(var f=(1<<n)-1,d=0,l=0;l<i;l++){var p=a[l];if(p===0||p===f)throw new Se;(p===1||p===f-1)&&d++}for(var v=new Array(i*n-d),y=0,l=0;l<i;l++){var p=a[l];if(p===1||p===f-1)v.fill(p>1,y,y+n-1),y+=n-1;else for(var b=n-1;b>=0;--b)v[y++]=(p&1<<b)!==0}return v},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,o=new Int32Array(i),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var a=0;a<o.length;a++)o[a]=a;else for(var l=i+1+2*it.truncDivision(it.truncDivision(i,2)-1,15),u=i/2,f=it.truncDivision(l,2),a=0;a<u;a++){var d=a+it.truncDivision(a,15);o[u-a-1]=f-d-1,o[u+a]=f+d+1}for(var a=0,p=0;a<n;a++){for(var v=(n-a)*4+(r?9:12),y=a*2,b=i-1-y,x=0;x<v;x++)for(var w=x*2,C=0;C<2;C++)s[p+w+C]=e.get(o[y+C],o[y+x]),s[p+2*v+w+C]=e.get(o[y+x],o[b-C]),s[p+4*v+w+C]=e.get(o[b-C],o[b-x]),s[p+6*v+w+C]=e.get(o[b-x],o[y+C]);p+=v*8}return s},t.readCode=function(e,r,n){for(var i=0,o=r;o<r+n;o++)i<<=1,e[o]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),pt=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var o=e-n,s=r-i;return Math.sqrt(o*o+s*s)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var o=e[n];r+=o}return r},t})(),o0=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Fe=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*o0.floatToIntBits(this.x)+o0.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),o,s,a;if(n>=r&&n>=i?(s=e[0],o=e[1],a=e[2]):i>=n&&i>=r?(s=e[1],o=e[0],a=e[2]):(s=e[2],o=e[0],a=e[1]),this.crossProductZ(o,s,a)<0){var l=o;o=a,a=l}e[0]=o,e[1]=s,e[2]=a},t.distance=function(e,r){return pt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,o=r.y;return(n.x-i)*(e.y-o)-(n.y-o)*(e.x-i)},t})(),$h=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),aN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),lN=(function(t){aN(e,t);function e(r,n,i,o,s){var a=t.call(this,r,n)||this;return a.compact=i,a.nbDatablocks=o,a.nbLayers=s,a}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})($h),s0=(function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var o=r/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new fe}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,o=!1,s=!0,a=!1,l=!1,u=!1,f=!1,d=!1,p=this.width,v=this.height;s;){s=!1;for(var y=!0;(y||!l)&&r<p;)y=this.containsBlackPoint(n,i,r,!1),y?(r++,s=!0,l=!0):l||r++;if(r>=p){o=!0;break}for(var b=!0;(b||!u)&&i<v;)b=this.containsBlackPoint(e,r,i,!0),b?(i++,s=!0,u=!0):u||i++;if(i>=v){o=!0;break}for(var x=!0;(x||!f)&&e>=0;)x=this.containsBlackPoint(n,i,e,!1),x?(e--,s=!0,f=!0):f||e--;if(e<0){o=!0;break}for(var w=!0;(w||!d)&&n>=0;)w=this.containsBlackPoint(e,r,n,!0),w?(n--,s=!0,d=!0):d||n--;if(n<0){o=!0;break}s&&(a=!0)}if(!o&&a){for(var C=r-e,_=null,E=1;_===null&&E<C;E++)_=this.getBlackPointOnSegment(e,i-E,e+E,i);if(_==null)throw new fe;for(var N=null,E=1;N===null&&E<C;E++)N=this.getBlackPointOnSegment(e,n+E,e+E,n);if(N==null)throw new fe;for(var M=null,E=1;M===null&&E<C;E++)M=this.getBlackPointOnSegment(r,n+E,r-E,n);if(M==null)throw new fe;for(var T=null,E=1;T===null&&E<C;E++)T=this.getBlackPointOnSegment(r,i-E,r-E,i);if(T==null)throw new fe;return this.centerEdges(T,_,M,N)}else throw new fe},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var o=pt.round(pt.distance(e,r,n,i)),s=(n-e)/o,a=(i-r)/o,l=this.image,u=0;u<o;u++){var f=pt.round(e+u*s),d=pt.round(r+u*a);if(l.get(f,d))return new Fe(f,d)}return null},t.prototype.centerEdges=function(e,r,n,i){var o=e.getX(),s=e.getY(),a=r.getX(),l=r.getY(),u=n.getX(),f=n.getY(),d=i.getX(),p=i.getY(),v=t.CORR;return o<this.width/2?[new Fe(d-v,p+v),new Fe(a+v,l+v),new Fe(u-v,f-v),new Fe(o+v,s-v)]:[new Fe(d+v,p+v),new Fe(a+v,l-v),new Fe(u-v,f+v),new Fe(o-v,s-v)]},t.prototype.containsBlackPoint=function(e,r,n,i){var o=this.image;if(i){for(var s=e;s<=r;s++)if(o.get(s,n))return!0}else for(var a=e;a<=r;a++)if(o.get(n,a))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),_g=(function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),o=!0,s=0;s<r.length&&o;s+=2){var a=Math.floor(r[s]),l=Math.floor(r[s+1]);if(a<-1||a>n||l<-1||l>i)throw new fe;o=!1,a===-1?(r[s]=0,o=!0):a===n&&(r[s]=n-1,o=!0),l===-1?(r[s+1]=0,o=!0):l===i&&(r[s+1]=i-1,o=!0)}o=!0;for(var s=r.length-2;s>=0&&o;s-=2){var a=Math.floor(r[s]),l=Math.floor(r[s+1]);if(a<-1||a>n||l<-1||l>i)throw new fe;o=!1,a===-1?(r[s]=0,o=!0):a===n&&(r[s]=n-1,o=!0),l===-1?(r[s+1]=0,o=!0):l===i&&(r[s+1]=i-1,o=!0)}},t})(),W2=(function(){function t(e,r,n,i,o,s,a,l,u){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=o,this.a32=s,this.a13=a,this.a23=l,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,i,o,s,a,l,u,f,d,p,v,y,b,x){var w=t.quadrilateralToSquare(e,r,n,i,o,s,a,l),C=t.squareToQuadrilateral(u,f,d,p,v,y,b,x);return C.times(w)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,o=this.a13,s=this.a21,a=this.a22,l=this.a23,u=this.a31,f=this.a32,d=this.a33,p=0;p<r;p+=2){var v=e[p],y=e[p+1],b=o*v+l*y+d;e[p]=(n*v+s*y+u)/b,e[p+1]=(i*v+a*y+f)/b}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,o=this.a13,s=this.a21,a=this.a22,l=this.a23,u=this.a31,f=this.a32,d=this.a33,p=e.length,v=0;v<p;v++){var y=e[v],b=r[v],x=o*y+l*b+d;e[v]=(n*y+s*b+u)/x,r[v]=(i*y+a*b+f)/x}},t.squareToQuadrilateral=function(e,r,n,i,o,s,a,l){var u=e-n+o-a,f=r-i+s-l;if(u===0&&f===0)return new t(n-e,o-n,e,i-r,s-i,r,0,0,1);var d=n-o,p=a-o,v=i-s,y=l-s,b=d*y-p*v,x=(u*y-p*f)/b,w=(d*f-u*v)/b;return new t(n-e+x*n,a-e+w*a,e,i-r+x*i,l-r+w*l,r,x,w,1)},t.quadrilateralToSquare=function(e,r,n,i,o,s,a,l){return t.squareToQuadrilateral(e,r,n,i,o,s,a,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),uN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),cN=(function(t){uN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,o,s,a,l,u,f,d,p,v,y,b,x,w,C,_,E){var N=W2.quadrilateralToQuadrilateral(o,s,a,l,u,f,d,p,v,y,b,x,w,C,_,E);return this.sampleGridWithTransform(r,n,i,N)},e.prototype.sampleGridWithTransform=function(r,n,i,o){if(n<=0||i<=0)throw new fe;for(var s=new si(n,i),a=new Float32Array(2*n),l=0;l<i;l++){for(var u=a.length,f=l+.5,d=0;d<u;d+=2)a[d]=d/2+.5,a[d+1]=f;o.transformPoints(a),_g.checkAndNudgePoints(r,a);try{for(var d=0;d<u;d+=2)r.get(Math.floor(a[d]),Math.floor(a[d+1]))&&s.set(d/2,l)}catch{throw new fe}}return s},e})(_g),Uh=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new cN,t})(),Yr=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Fe(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),fN=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new lN(o,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new fe;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,o=0;o<4;o++){var s=n[(this.shift+o)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var a=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(a>>6)+1,this.nbDataBlocks=(a&63)+1):(this.nbLayers=(a>>11)+1,this.nbDataBlocks=(a&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(o,s,a){var l=(o>>r-2<<1)+(o&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(it.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new fe},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var o=n-i,s=new Int32Array(n),a=n-1;a>=0;--a)s[a]=e&15,e>>=4;try{var l=new Uc(en.AZTEC_PARAM);l.decode(s,o)}catch{throw new fe}for(var u=0,a=0;a<i;a++)u=(u<<4)+s[a];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,o=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(r,s,1,-1),l=this.getFirstDifferent(n,s,1,1),u=this.getFirstDifferent(i,s,-1,1),f=this.getFirstDifferent(o,s,-1,-1);if(this.nbCenterLayers>2){var d=this.distancePoint(f,a)*this.nbCenterLayers/(this.distancePoint(o,r)*(this.nbCenterLayers+2));if(d<.75||d>1.25||!this.isWhiteOrBlackRectangle(a,l,u,f))break}r=a,n=l,i=u,o=f,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new fe;this.compact=this.nbCenterLayers===5;var p=new Fe(r.getX()+.5,r.getY()-.5),v=new Fe(n.getX()+.5,n.getY()+.5),y=new Fe(i.getX()-.5,i.getY()+.5),b=new Fe(o.getX()-.5,o.getY()-.5);return this.expandSquare([p,v,y,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var o=new s0(this.image).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{var s=this.image.getWidth()/2,a=this.image.getHeight()/2;e=this.getFirstDifferent(new Yr(s+7,a-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Yr(s+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Yr(s-7,a+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Yr(s-7,a-7),!1,-1,-1).toResultPoint()}var l=pt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=pt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var o=new s0(this.image,15,l,u).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{e=this.getFirstDifferent(new Yr(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Yr(l+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Yr(l-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Yr(l-7,u-7),!1,-1,-1).toResultPoint()}return l=pt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=pt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Yr(l,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,o){var s=Uh.getInstance(),a=this.getDimension(),l=a/2-this.nbCenterLayers,u=a/2+this.nbCenterLayers;return s.sampleGrid(e,a,a,l,l,u,l,u,u,l,u,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,o=this.distanceResultPoint(e,r),s=o/n,a=e.getX(),l=e.getY(),u=s*(r.getX()-e.getX())/o,f=s*(r.getY()-e.getY())/o,d=0;d<n;d++)this.image.get(pt.round(a+d*u),pt.round(l+d*f))&&(i|=1<<n-d-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var o=3;e=new Yr(e.getX()-o,e.getY()+o),r=new Yr(r.getX()-o,r.getY()-o),n=new Yr(n.getX()+o,n.getY()-o),i=new Yr(i.getX()+o,i.getY()+o);var s=this.getColor(i,e);if(s===0)return!1;var a=this.getColor(e,r);return a!==s||(a=this.getColor(r,n),a!==s)?!1:(a=this.getColor(n,i),a===s)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,o=(r.getY()-e.getY())/n,s=0,a=e.getX(),l=e.getY(),u=this.image.get(e.getX(),e.getY()),f=Math.ceil(n),d=0;d<f;d++)a+=i,l+=o,this.image.get(pt.round(a),pt.round(l))!==u&&s++;var p=s/n;return p>.1&&p<.9?0:p<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var o=e.getX()+n,s=e.getY()+i;this.isValid(o,s)&&this.image.get(o,s)===r;)o+=n,s+=i;for(o-=n,s-=i;this.isValid(o,s)&&this.image.get(o,s)===r;)o+=n;for(o-=n;this.isValid(o,s)&&this.image.get(o,s)===r;)s+=i;return s-=i,new Yr(o,s)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),o=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,u=new Fe(a+i*o,l+i*s),f=new Fe(a-i*o,l-i*s);o=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var d=new Fe(a+i*o,l+i*s),p=new Fe(a-i*o,l-i*s),v=[u,d,f,p];return v},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=pt.round(e.getX()),n=pt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return pt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return pt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(it.truncDivision(this.nbLayers-4,8)+1)+15},t})(),a0=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new fN(e.getBlackMatrix()),o=null,s=null;try{var a=i.detectMirror(!1);o=a.getPoints(),this.reportFoundResultPoints(r,o),s=new bg().decode(a)}catch(d){n=d}if(s==null)try{var a=i.detectMirror(!0);o=a.getPoints(),this.reportFoundResultPoints(r,o),s=new bg().decode(a)}catch(d){throw n??d}var l=new Lr(s.getText(),s.getRawBytes(),s.getNumBits(),o,He.AZTEC,Tt.currentTimeMillis()),u=s.getByteSegments();u!=null&&l.putMetadata(Ar.BYTE_SEGMENTS,u);var f=s.getECLevel();return f!=null&&l.putMetadata(Ar.ERROR_CORRECTION_LEVEL,f),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Lt.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,o,s){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),dN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){dN(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new a0,r)||this}return e})(Gs);var lr=(function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Lt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,r),s=o.getResultMetadata(),a=270;s!==null&&s.get(Ar.ORIENTATION)===!0&&(a=a+s.get(Ar.ORIENTATION)%360),o.putMetadata(Ar.ORIENTATION,a);var l=o.getResultPoints();if(l!==null)for(var u=i.getHeight(),f=0;f<l.length;f++)l[f]=new Fe(u-l[f].getY()-1,l[f].getX());return o}else throw new fe}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),o=new vr(n),s=r&&r.get(Lt.TRY_HARDER)===!0,a=Math.max(1,i>>(s?8:5)),l;s?l=i:l=15;for(var u=Math.trunc(i/2),f=0;f<l;f++){var d=Math.trunc((f+1)/2),p=(f&1)===0,v=u+a*(p?d:-d);if(v<0||v>=i)break;try{o=e.getBlackRow(v,o)}catch{continue}for(var y=function(C){if(C===1&&(o.reverse(),r&&r.get(Lt.NEED_RESULT_POINT_CALLBACK)===!0)){var _=new Map;r.forEach(function(M,T){return _.set(T,M)}),_.delete(Lt.NEED_RESULT_POINT_CALLBACK),r=_}try{var E=b.decodeRow(v,o,r);if(C===1){E.putMetadata(Ar.ORIENTATION,180);var N=E.getResultPoints();N!==null&&(N[0]=new Fe(n-N[0].getX()-1,N[0].getY()),N[1]=new Fe(n-N[1].getX()-1,N[1].getY()))}return{value:E}}catch{}},b=this,x=0;x<2;x++){var w=y(x);if(typeof w=="object")return w.value}}throw new fe},t.recordPattern=function(e,r,n){for(var i=n.length,o=0;o<i;o++)n[o]=0;var s=e.getSize();if(r>=s)throw new fe;for(var a=!e.get(r),l=0,u=r;u<s;){if(e.get(u)!==a)n[l]++;else{if(++l===i)break;n[l]=1,a=!a}u++}if(!(l===i||l===i-1&&u===s))throw new fe},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,o=e.get(r);r>0&&i>=0;)e.get(--r)!==o&&(i--,o=!o);if(i>=0)throw new fe;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,s=0,a=0;a<i;a++)o+=e[a],s+=r[a];if(o<s)return Number.POSITIVE_INFINITY;var l=o/s;n*=l;for(var u=0,f=0;f<i;f++){var d=e[f],p=r[f]*l,v=d>p?d-p:p-d;if(v>n)return Number.POSITIVE_INFINITY;u+=v}return u/o},t})(),hN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),wg=(function(t){hN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),o=0,s=Int32Array.from([0,0,0,0,0,0]),a=i,l=!1,u=6,f=i;f<n;f++)if(r.get(f)!==l)s[o]++;else{if(o===u-1){for(var d=e.MAX_AVG_VARIANCE,p=-1,v=e.CODE_START_A;v<=e.CODE_START_C;v++){var y=lr.patternMatchVariance(s,e.CODE_PATTERNS[v],e.MAX_INDIVIDUAL_VARIANCE);y<d&&(d=y,p=v)}if(p>=0&&r.isRange(Math.max(0,a-(f-a)/2),a,!1))return Int32Array.from([a,f,p]);a+=s[0]+s[1],s=s.slice(2,s.length),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,l=!l}throw new fe},e.decodeCode=function(r,n,i){lr.recordPattern(r,i,n);for(var o=e.MAX_AVG_VARIANCE,s=-1,a=0;a<e.CODE_PATTERNS.length;a++){var l=e.CODE_PATTERNS[a],u=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<o&&(o=u,s=a)}if(s>=0)return s;throw new fe},e.prototype.decodeRow=function(r,n,i){var o=i&&i.get(Lt.ASSUME_GS1)===!0,s=e.findStartPattern(n),a=s[2],l=0,u=new Uint8Array(20);u[l++]=a;var f;switch(a){case e.CODE_START_A:f=e.CODE_CODE_A;break;case e.CODE_START_B:f=e.CODE_CODE_B;break;case e.CODE_START_C:f=e.CODE_CODE_C;break;default:throw new Se}for(var d=!1,p=!1,v="",y=s[0],b=s[1],x=Int32Array.from([0,0,0,0,0,0]),w=0,C=0,_=a,E=0,N=!0,M=!1,T=!1;!d;){var I=p;switch(p=!1,w=C,C=e.decodeCode(n,x,b),u[l++]=C,C!==e.CODE_STOP&&(N=!0),C!==e.CODE_STOP&&(E++,_+=E*C),y=b,b+=x.reduce(function(Pe,me){return Pe+me},0),C){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Se}switch(f){case e.CODE_CODE_A:if(C<64)T===M?v+=String.fromCharCode(32+C):v+=String.fromCharCode(32+C+128),T=!1;else if(C<96)T===M?v+=String.fromCharCode(C-64):v+=String.fromCharCode(C+64),T=!1;else switch(C!==e.CODE_STOP&&(N=!1),C){case e.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!M&&T?(M=!0,T=!1):M&&T?(M=!1,T=!1):T=!0;break;case e.CODE_SHIFT:p=!0,f=e.CODE_CODE_B;break;case e.CODE_CODE_B:f=e.CODE_CODE_B;break;case e.CODE_CODE_C:f=e.CODE_CODE_C;break;case e.CODE_STOP:d=!0;break}break;case e.CODE_CODE_B:if(C<96)T===M?v+=String.fromCharCode(32+C):v+=String.fromCharCode(32+C+128),T=!1;else switch(C!==e.CODE_STOP&&(N=!1),C){case e.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!M&&T?(M=!0,T=!1):M&&T?(M=!1,T=!1):T=!0;break;case e.CODE_SHIFT:p=!0,f=e.CODE_CODE_A;break;case e.CODE_CODE_A:f=e.CODE_CODE_A;break;case e.CODE_CODE_C:f=e.CODE_CODE_C;break;case e.CODE_STOP:d=!0;break}break;case e.CODE_CODE_C:if(C<100)C<10&&(v+="0"),v+=C;else switch(C!==e.CODE_STOP&&(N=!1),C){case e.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+="");break;case e.CODE_CODE_A:f=e.CODE_CODE_A;break;case e.CODE_CODE_B:f=e.CODE_CODE_B;break;case e.CODE_STOP:d=!0;break}break}I&&(f=f===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var k=b-y;if(b=n.getNextUnset(b),!n.isRange(b,Math.min(n.getSize(),b+(b-y)/2),!1))throw new fe;if(_-=E*w,_%103!==w)throw new gr;var V=v.length;if(V===0)throw new fe;V>0&&N&&(f===e.CODE_CODE_C?v=v.substring(0,V-2):v=v.substring(0,V-1));for(var ue=(s[1]+s[0])/2,W=y+k/2,D=u.length,re=new Uint8Array(D),De=0;De<D;De++)re[De]=u[De];var be=[new Fe(ue,r),new Fe(W,r)];return new Lr(v,re,0,be,He.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(lr),pN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Kf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ag=(function(t){pN(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var o,s,a,l,u=this.counters;u.fill(0),this.decodeRowResult="";var f=e.findAsteriskPattern(n,u),d=n.getNextSet(f[1]),p=n.getSize(),v,y;do{e.recordPattern(n,d,u);var b=e.toNarrowWidePattern(u);if(b<0)throw new fe;v=e.patternToChar(b),this.decodeRowResult+=v,y=d;try{for(var x=(o=void 0,Kf(u)),w=x.next();!w.done;w=x.next()){var C=w.value;d+=C}}catch(D){o={error:D}}finally{try{w&&!w.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}d=n.getNextSet(d)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var E=Kf(u),N=E.next();!N.done;N=E.next()){var C=N.value;_+=C}}catch(D){a={error:D}}finally{try{N&&!N.done&&(l=E.return)&&l.call(E)}finally{if(a)throw a.error}}var M=d-y-_;if(d!==p&&M*2<_)throw new fe;if(this.usingCheckDigit){for(var T=this.decodeRowResult.length-1,I=0,k=0;k<T;k++)I+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(k));if(this.decodeRowResult.charAt(T)!==e.ALPHABET_STRING.charAt(I%43))throw new gr;this.decodeRowResult=this.decodeRowResult.substring(0,T)}if(this.decodeRowResult.length===0)throw new fe;var V;this.extendedMode?V=e.decodeExtended(this.decodeRowResult):V=this.decodeRowResult;var ue=(f[1]+f[0])/2,W=y+_/2;return new Lr(V,null,0,[new Fe(ue,r),new Fe(W,r)],He.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),o=r.getNextSet(0),s=0,a=o,l=!1,u=n.length,f=o;f<i;f++)if(r.get(f)!==l)n[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,a-Math.floor((f-a)/2)),a,!1))return[a,f];a+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,l=!l}throw new fe},e.toNarrowWidePattern=function(r){var n,i,o=r.length,s=0,a;do{var l=2147483647;try{for(var u=(n=void 0,Kf(r)),f=u.next();!f.done;f=u.next()){var d=f.value;d<l&&d>s&&(l=d)}}catch(b){n={error:b}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}s=l,a=0;for(var p=0,v=0,y=0;y<o;y++){var d=r[y];d>s&&(v|=1<<o-1-y,a++,p+=d)}if(a===3){for(var y=0;y<o&&a>0;y++){var d=r[y];if(d>s&&(a--,d*2>=p))return-1}return v}}while(a>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new fe},e.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var s=r.charAt(o);if(s==="+"||s==="$"||s==="%"||s==="/"){var a=r.charAt(o+1),l="\0";switch(s){case"+":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)+32);else throw new Se;break;case"$":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)-64);else throw new Se;break;case"%":if(a>="A"&&a<="E")l=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")l=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")l=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")l="\0";else if(a==="V")l="@";else if(a==="W")l="`";else if(a==="X"||a==="Y"||a==="Z")l="";else throw new Se;break;case"/":if(a>="A"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")l=":";else throw new Se;break}i+=l,o++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(lr),gN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cg=(function(t){gN(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var o,s,a,l,u=this.findAsteriskPattern(n),f=n.getNextSet(u[1]),d=n.getSize(),p=this.counters;p.fill(0),this.decodeRowResult="";var v,y;do{e.recordPattern(n,f,p);var b=this.toPattern(p);if(b<0)throw new fe;v=this.patternToChar(b),this.decodeRowResult+=v,y=f;try{for(var x=(o=void 0,qf(p)),w=x.next();!w.done;w=x.next()){var C=w.value;f+=C}}catch(k){o={error:k}}finally{try{w&&!w.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}f=n.getNextSet(f)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var E=qf(p),N=E.next();!N.done;N=E.next()){var C=N.value;_+=C}}catch(k){a={error:k}}finally{try{N&&!N.done&&(l=E.return)&&l.call(E)}finally{if(a)throw a.error}}if(f===d||!n.get(f))throw new fe;if(this.decodeRowResult.length<2)throw new fe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var M=this.decodeExtended(this.decodeRowResult),T=(u[1]+u[0])/2,I=y+_/2;return new Lr(M,null,0,[new Fe(T,r),new Fe(I,r)],He.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var o=this.counters,s=i,a=!1,l=o.length,u=0,f=i;f<n;f++)if(r.get(f)!==a)o[u]++;else{if(u===l-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([s,f]);s+=o[0]+o[1],o.copyWithin(0,2,2+u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,a=!a}throw new fe},e.prototype.toPattern=function(r){var n,i,o=0;try{for(var s=qf(r),a=s.next();!a.done;a=s.next()){var l=a.value;o+=l}}catch(y){n={error:y}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}for(var u=0,f=r.length,d=0;d<f;d++){var p=Math.round(r[d]*9/o);if(p<1||p>4)return-1;if((d&1)===0)for(var v=0;v<p;v++)u=u<<1|1;else u<<=p}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new fe},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var s=r.charAt(o);if(s>="a"&&s<="d"){if(o>=n-1)throw new Se;var a=r.charAt(o+1),l="\0";switch(s){case"d":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)+32);else throw new Se;break;case"a":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)-64);else throw new Se;break;case"b":if(a>="A"&&a<="E")l=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")l=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")l=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")l="\0";else if(a==="V")l="@";else if(a==="W")l="`";else if(a>="X"&&a<="Z")l="";else throw new Se;break;case"c":if(a>="A"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")l=":";else throw new Se;break}i+=l,o++}else i+=s}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var o=1,s=0,a=n-1;a>=0;a--)s+=o*e.ALPHABET_STRING.indexOf(r.charAt(a)),++o>i&&(o=1);if(r.charAt(n)!==e.ALPHABET_STRING[s%47])throw new gr},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(lr),vN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eg=(function(t){vN(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var o,s,a=this.decodeStart(n),l=this.decodeEnd(n),u=new rt;e.decodeMiddle(n,a[1],l[0],u);var f=u.toString(),d=null;i!=null&&(d=i.get(Lt.ALLOWED_LENGTHS)),d==null&&(d=e.DEFAULT_ALLOWED_LENGTHS);var p=f.length,v=!1,y=0;try{for(var b=yN(d),x=b.next();!x.done;x=b.next()){var w=x.value;if(p===w){v=!0;break}w>y&&(y=w)}}catch(E){o={error:E}}finally{try{x&&!x.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}if(!v&&p>y&&(v=!0),!v)throw new Se;var C=[new Fe(a[1],r),new Fe(l[0],r)],_=new Lr(f,null,0,C,He.ITF,new Date().getTime());return _},e.decodeMiddle=function(r,n,i,o){var s=new Int32Array(10),a=new Int32Array(5),l=new Int32Array(5);for(s.fill(0),a.fill(0),l.fill(0);n<i;){lr.recordPattern(r,n,s);for(var u=0;u<5;u++){var f=2*u;a[u]=s[f],l[u]=s[f+1]}var d=e.decodeDigit(a);o.append(d.toString()),d=this.decodeDigit(l),o.append(d.toString()),s.forEach(function(p){n+=p})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var o=n-1;i>0&&o>=0&&!r.get(o);o--)i--;if(i!==0)throw new fe},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new fe;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof fe&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var o=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-o,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var o=i.length,s=new Int32Array(o),a=r.getSize(),l=!1,u=0,f=n;s.fill(0);for(var d=n;d<a;d++)if(r.get(d)!==l)s[u]++;else{if(u===o-1){if(lr.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[f,d];f+=s[0]+s[1],Tt.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,l=!l}throw new fe},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,s=0;s<o;s++){var a=e.PATTERNS[s],l=lr.patternMatchVariance(r,a,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=s):l===n&&(i=-1)}if(i>=0)return i%10;throw new fe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(lr),mN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Bs=(function(t){mN(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,o=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,o,!1,this.START_END_PATTERN,s);var a=i[0];o=i[1];var l=a-(o-a);l>=0&&(n=r.isRange(l,a,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var s=r.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new Se;i+=s}i*=3;for(var o=n-2;o>=0;o-=2){var s=r.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new Se;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,o){return this.findGuardPattern(r,n,i,o,new Int32Array(o.length))},e.findGuardPattern=function(r,n,i,o,s){var a=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,u=n,f=o.length,d=i,p=n;p<a;p++)if(r.get(p)!==d)s[l]++;else{if(l===f-1){if(lr.patternMatchVariance(s,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,p]);u+=s[0]+s[1];for(var v=s.slice(2,s.length),y=0;y<l-1;y++)s[y]=v[y];s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,d=!d}throw new fe},e.decodeDigit=function(r,n,i,o){this.recordPattern(r,i,n);for(var s=this.MAX_AVG_VARIANCE,a=-1,l=o.length,u=0;u<l;u++){var f=o[u],d=lr.patternMatchVariance(n,f,e.MAX_INDIVIDUAL_VARIANCE);d<s&&(s=d,a=u)}if(a>=0)return a;throw new fe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(lr),xN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bN=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),s=i.toString(),a=t.parseExtensionString(s),l=[new Fe((n[0]+n[1])/2,e),new Fe(o,e)],u=new Lr(s,null,0,l,He.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&u.putAllMetadata(a),u},t.prototype.decodeMiddle=function(e,r,n){var i,o,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=e.getSize(),l=r[1],u=0,f=0;f<5&&l<a;f++){var d=Bs.decodeDigit(e,s,l,Bs.L_AND_G_PATTERNS);n+=String.fromCharCode(48+d%10);try{for(var p=(i=void 0,xN(s)),v=p.next();!v.done;v=p.next()){var y=v.value;l+=y}}catch(x){i={error:x}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}d>=10&&(u|=1<<4-f),f!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new fe;var b=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==b)throw new fe;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new fe},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Ar.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="Â£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),o=n%100,s=o<10?"0"+o:o.toString();return r+i+"."+s},t})(),_N=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wN=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),s=i.toString(),a=t.parseExtensionString(s),l=[new Fe((n[0]+n[1])/2,e),new Fe(o,e)],u=new Lr(s,null,0,l,He.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&u.putAllMetadata(a),u},t.prototype.decodeMiddle=function(e,r,n){var i,o,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=e.getSize(),l=r[1],u=0,f=0;f<2&&l<a;f++){var d=Bs.decodeDigit(e,s,l,Bs.L_AND_G_PATTERNS);n+=String.fromCharCode(48+d%10);try{for(var p=(i=void 0,_N(s)),v=p.next();!v.done;v=p.next()){var y=v.value;l+=y}}catch(b){i={error:b}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}d>=10&&(u|=1<<1-f),f!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new fe;if(parseInt(n.toString())%4!==u)throw new fe;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Ar.ISSUE_NUMBER,parseInt(e)]])},t})(),AN=(function(){function t(){}return t.decodeRow=function(e,r,n){var i=Bs.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new bN;return o.decodeRow(e,r,i)}catch{var s=new wN;return s.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),CN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ir=(function(t){CN(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(a){return Int32Array.from(a)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],o=new Int32Array(i.length),s=0;s<i.length;s++)o[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[n]=o}return r}return e.prototype.decodeRow=function(r,n,i){var o=e.findStartGuardPattern(n),s=i==null?null:i.get(Lt.NEED_RESULT_POINT_CALLBACK);if(s!=null){var a=new Fe((o[0]+o[1])/2,r);s.foundPossibleResultPoint(a)}var l=this.decodeMiddle(n,o,this.decodeRowStringBuffer),u=l.rowOffset,f=l.resultString;if(s!=null){var d=new Fe(u,r);s.foundPossibleResultPoint(d)}var p=e.decodeEnd(n,u);if(s!=null){var v=new Fe((p[0]+p[1])/2,r);s.foundPossibleResultPoint(v)}var y=p[1],b=y+(y-p[0]);if(b>=n.getSize()||!n.isRange(y,b,!1))throw new fe;var x=f.toString();if(x.length<8)throw new Se;if(!e.checkChecksum(x))throw new gr;var w=(o[1]+o[0])/2,C=(p[1]+p[0])/2,_=this.getBarcodeFormat(),E=[new Fe(w,r),new Fe(C,r)],N=new Lr(x,null,0,E,_,new Date().getTime()),M=0;try{var T=AN.decodeRow(r,n,p[1]);N.putMetadata(Ar.UPC_EAN_EXTENSION,T.getText()),N.putAllMetadata(T.getResultMetadata()),N.addResultPoints(T.getResultPoints()),M=T.getText().length}catch{}var I=i==null?null:i.get(Lt.ALLOWED_EAN_EXTENSIONS);if(I!=null){var k=!1;for(var V in I)if(M.toString()===V){k=!0;break}if(!k)throw new fe}return _===He.EAN_13||He.UPC_A,N},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var s=r.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new Se;i+=s}i*=3;for(var o=n-2;o>=0;o-=2){var s=r.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new Se;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Bs),EN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Sg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l0=(function(t){EN(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,s,a,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var f=r.getSize(),d=n[1],p=0,v=0;v<6&&d<f;v++){var y=ir.decodeDigit(r,u,d,ir.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);try{for(var b=(o=void 0,Sg(u)),x=b.next();!x.done;x=b.next()){var w=x.value;d+=w}}catch(N){o={error:N}}finally{try{x&&!x.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}y>=10&&(p|=1<<5-v)}i=e.determineFirstDigit(i,p);var C=ir.findGuardPattern(r,d,!0,ir.MIDDLE_PATTERN,new Int32Array(ir.MIDDLE_PATTERN.length).fill(0));d=C[1];for(var v=0;v<6&&d<f;v++){var y=ir.decodeDigit(r,u,d,ir.L_PATTERNS);i+=String.fromCharCode(48+y);try{for(var _=(a=void 0,Sg(u)),E=_.next();!E.done;E=_.next()){var w=E.value;d+=w}}catch(T){a={error:T}}finally{try{E&&!E.done&&(l=_.return)&&l.call(_)}finally{if(a)throw a.error}}}return{rowOffset:d,resultString:i}},e.prototype.getBarcodeFormat=function(){return He.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new fe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(ir),SN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ig=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tg=(function(t){SN(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,s,a,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var f=r.getSize(),d=n[1],p=0;p<4&&d<f;p++){var v=ir.decodeDigit(r,u,d,ir.L_PATTERNS);i+=String.fromCharCode(48+v);try{for(var y=(o=void 0,Ig(u)),b=y.next();!b.done;b=y.next()){var x=b.value;d+=x}}catch(E){o={error:E}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}}var w=ir.findGuardPattern(r,d,!0,ir.MIDDLE_PATTERN,new Int32Array(ir.MIDDLE_PATTERN.length).fill(0));d=w[1];for(var p=0;p<4&&d<f;p++){var v=ir.decodeDigit(r,u,d,ir.L_PATTERNS);i+=String.fromCharCode(48+v);try{for(var C=(a=void 0,Ig(u)),_=C.next();!_.done;_=C.next()){var x=_.value;d+=x}}catch(M){a={error:M}}finally{try{_&&!_.done&&(l=C.return)&&l.call(C)}finally{if(a)throw a.error}}}return{rowOffset:d,resultString:i}},e.prototype.getBarcodeFormat=function(){return He.EAN_8},e})(ir),IN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Og=(function(t){IN(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new l0,r}return e.prototype.getBarcodeFormat=function(){return He.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Lr(n.substring(1),null,null,r.getResultPoints(),He.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new fe},e.prototype.reset=function(){this.ean13Reader.reset()},e})(ir),TN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ON=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kg=(function(t){TN(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var o,s,a=this.decodeMiddleCounters.map(function(x){return x});a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var l=r.getSize(),u=n[1],f=0,d=0;d<6&&u<l;d++){var p=e.decodeDigit(r,a,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);try{for(var v=(o=void 0,ON(a)),y=v.next();!y.done;y=v.next()){var b=y.value;u+=b}}catch(x){o={error:x}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}p>=10&&(f|=1<<5-d)}return e.determineNumSysAndCheckDigit(new rt(i),f),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return ir.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){r.insert(0,"0"+i),r.append("0"+o);return}throw fe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return He.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new rt;i.append(r.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(ir),kN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ng=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gf=(function(t){kN(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Lt.POSSIBLE_FORMATS),o=[];return i!=null&&(i.indexOf(He.EAN_13)>-1&&o.push(new l0),i.indexOf(He.UPC_A)>-1&&o.push(new Og),i.indexOf(He.EAN_8)>-1&&o.push(new Tg),i.indexOf(He.UPC_E)>-1&&o.push(new kg)),o.length===0&&(o.push(new l0),o.push(new Og),o.push(new Tg),o.push(new kg)),n.readers=o,n}return e.prototype.decodeRow=function(r,n,i){var o,s;try{for(var a=Ng(this.readers),l=a.next();!l.done;l=a.next()){var u=l.value;try{var f=u.decodeRow(r,n,i),d=f.getBarcodeFormat()===He.EAN_13&&f.getText().charAt(0)==="0",p=i==null?null:i.get(Lt.POSSIBLE_FORMATS),v=p==null||p.includes(He.UPC_A);if(d&&v){var y=f.getRawBytes(),b=new Lr(f.getText().substring(1),y,y?y.length:null,f.getResultPoints(),He.UPC_A);return b.putAllMetadata(f.getResultMetadata()),b}return f}catch{}}}catch(x){o={error:x}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}throw new fe},e.prototype.reset=function(){var r,n;try{for(var i=Ng(this.readers),o=i.next();!o.done;o=i.next()){var s=o.value;s.reset()}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e})(lr),NN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),RN=(function(t){NN(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var o=this.getValidRowData(n);if(!o)throw new fe;var s=this.codaBarDecodeRow(o.row);if(!s)throw new fe;return new Lr(s,null,0,[new Fe(o.left,r),new Fe(o.right,r)],He.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var o=n.lastIndexOf(!0);if(o<=i)return null;n=n.slice(i,o+1);for(var s=[],a=n[0],l=1,u=1;u<n.length;u++)n[u]===a?l++:(a=n[u],s.push(l),l=1);return s.push(l),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:o}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,u){return(l+u)/2},0));r.length>0;){var o=r.splice(0,8).splice(0,7),s=o.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var a=n.join("");return this.validCodaBarString(a)?a:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e})(lr),PN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),DN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ao=(function(t){PN(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(lr.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new fe},e.count=function(r){return pt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,o=n[0],s=1;s<r.length;s++)n[s]>o&&(o=n[s],i=s);r[i]++},e.decrement=function(r,n){for(var i=0,o=n[0],s=1;s<r.length;s++)n[s]<o&&(o=n[s],i=s);r[i]--},e.isFinderPattern=function(r){var n,i,o=r[0]+r[1],s=o+r[2]+r[3],a=o/s;if(a>=e.MIN_FINDER_PATTERN_RATIO&&a<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var f=DN(r),d=f.next();!d.done;d=f.next()){var p=d.value;p>u&&(u=p),p<l&&(l=p)}}catch(v){n={error:v}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return u<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(lr),ec=(function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),K2=(function(){function t(e,r,n,i,o){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Fe(n,o)),this.resultPoints.push(new Fe(i,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t})(),MN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ds=(function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,o,s=0;try{for(var a=MN(e),l=a.next();!l.done;l=a.next()){var u=l.value;s+=u}}catch(C){i={error:C}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}for(var f=0,d=0,p=e.length,v=0;v<p-1;v++){var y=void 0;for(y=1,d|=1<<v;y<e[v];y++,d&=~(1<<v)){var b=t.combins(s-y-1,p-v-2);if(n&&d===0&&s-y-(p-v-1)>=p-v-1&&(b-=t.combins(s-y-(p-v),p-v-2)),p-v-1>1){for(var x=0,w=s-y-(p-v-2);w>r;w--)x+=t.combins(s-y-w-1,p-v-3);b-=x*(p-1-v)}else s-y>r&&b--;f+=b}s-=y}return f},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var o=1,s=1,a=e;a>n;a--)o*=a,s<=i&&(o/=s,s++);for(;s<=i;)o/=s,s++;return o},t})(),BN=(function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new vr(n),o=0,s=e[0],a=s.getRightChar().getValue(),l=11;l>=0;--l)(a&1<<l)!==0&&i.set(o),o++;for(var l=1;l<e.length;++l){for(var u=e[l],f=u.getLeftChar().getValue(),d=11;d>=0;--d)(f&1<<d)!==0&&i.set(o),o++;if(u.getRightChar()!==null)for(var p=u.getRightChar().getValue(),d=11;d>=0;--d)(p&1<<d)!==0&&i.set(o),o++}return i},t})(),xo=(function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),Vh=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),FN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Dn=(function(t){FN(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(Vh),LN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),bo=(function(t){LN(e,t);function e(r,n,i){var o=t.call(this,r)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(Vh),$N=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),as=(function(t){$N(e,t);function e(r,n,i){var o=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new Se;return o.firstDigit=n,o.secondDigit=i,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(Vh),ru=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UN=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,o,s,a,l,u;if(!e)return null;if(e.length<2)throw new fe;var f=e.substring(0,2);try{for(var d=ru(t.TWO_DIGIT_DATA_LENGTH),p=d.next();!p.done;p=d.next()){var v=p.value;if(v[0]===f)return v[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,v[2],e):t.processFixedAI(2,v[1],e)}}catch(M){r={error:M}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}if(e.length<3)throw new fe;var y=e.substring(0,3);try{for(var b=ru(t.THREE_DIGIT_DATA_LENGTH),x=b.next();!x.done;x=b.next()){var v=x.value;if(v[0]===y)return v[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,v[2],e):t.processFixedAI(3,v[1],e)}}catch(M){i={error:M}}finally{try{x&&!x.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}try{for(var w=ru(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),C=w.next();!C.done;C=w.next()){var v=C.value;if(v[0]===y)return v[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,v[2],e):t.processFixedAI(4,v[1],e)}}catch(M){s={error:M}}finally{try{C&&!C.done&&(a=w.return)&&a.call(w)}finally{if(s)throw s.error}}if(e.length<4)throw new fe;var _=e.substring(0,4);try{for(var E=ru(t.FOUR_DIGIT_DATA_LENGTH),N=E.next();!N.done;N=E.next()){var v=N.value;if(v[0]===_)return v[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,v[2],e):t.processFixedAI(4,v[1],e)}}catch(M){l={error:M}}finally{try{N&&!N.done&&(u=E.return)&&u.call(E)}finally{if(l)throw l.error}}throw new fe},t.processFixedAI=function(e,r,n){if(n.length<e)throw new fe;var i=n.substring(0,e);if(n.length<e+r)throw new fe;var o=n.substring(e,e+r),s=n.substring(e+r),a="("+i+")"+o,l=t.parseFieldsInGeneralPurpose(s);return l==null?a:a+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),o;n.length<e+r?o=n.length:o=e+r;var s=n.substring(e,o),a=n.substring(o),l="("+i+")"+s,u=t.parseFieldsInGeneralPurpose(a);return u==null?l:l+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),wu=(function(){function t(e){this.buffer=new rt,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var o=this.decodeGeneralPurposeField(n,i),s=UN.parseFieldsInGeneralPurpose(o.getNewString());if(s!=null&&e.append(s),o.isRemaining()?i=""+o.getRemainingValue():i=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new as(this.information.getSize(),as.FNC1,as.FNC1):new as(this.information.getSize(),r-1,as.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,o=(n-8)%11;return new as(e+7,i,o)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,o=0;o<n;++o)e.get(r+o)&&(i|=1<<n-o-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new bo(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new bo(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new bo(this.current.getPosition(),this.buffer.toString()):r=new bo(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new xo(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new bo(this.current.getPosition(),this.buffer.toString());return new xo(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xo(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new bo(this.current.getPosition(),this.buffer.toString());return new xo(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xo(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new bo(this.current.getPosition(),this.buffer.toString());return new xo(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xo(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Dn(e+5,Dn.FNC1);if(r>=5&&r<15)return new Dn(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Dn(e+7,""+(n+1));if(n>=90&&n<116)return new Dn(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new Se}return new Dn(e+8,o)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Dn(e+5,Dn.FNC1);if(r>=5&&r<15)return new Dn(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Dn(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new fl("Decoding invalid alphanumeric value: "+n)}return new Dn(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t})(),q2=(function(){function t(e){this.information=e,this.generalDecoder=new wu(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),VN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Fn=(function(t){VN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var o=0;o<4;++o){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,o=0;o<13;o++){var s=r.charAt(o+n).charCodeAt(0)-48;i+=(o&1)===0?3*s:s}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e})(q2),jN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),HN=(function(t){jN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new rt;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(Fn),WN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),KN=(function(t){WN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new rt;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(q2),qN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Au=(function(t){qN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,o);for(var s=this.checkWeight(o),a=1e5,l=0;l<5;++l)s/a===0&&r.append("0"),a/=10;r.append(s)},e})(Fn),GN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),G2=(function(t){GN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Au.GTIN_SIZE+e.WEIGHT_SIZE)throw new fe;var r=new rt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Au.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(Au),zN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),XN=(function(t){zN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e})(G2),YN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ZN=(function(t){YN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e})(G2),JN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),QN=(function(t){JN(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Fn.GTIN_SIZE)throw new fe;var r=new rt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Fn.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Fn.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(Fn),eR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),tR=(function(t){eR(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Fn.GTIN_SIZE)throw new fe;var r=new rt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Fn.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Fn.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Fn.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(o.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(Fn),rR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Fi=(function(t){rR(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.dateCode=i,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new fe;var r=new rt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var o=i%32;i/=32;var s=i%12+1;i/=12;var a=i;a/10===0&&r.append("0"),r.append(a),s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(Au);function nR(t){try{if(t.get(1))return new HN(t);if(!t.get(2))return new KN(t);var e=wu.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new XN(t);case 5:return new ZN(t)}var r=wu.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new QN(t);case 13:return new tR(t)}var n=wu.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Fi(t,"310","11");case 57:return new Fi(t,"320","11");case 58:return new Fi(t,"310","13");case 59:return new Fi(t,"320","13");case 60:return new Fi(t,"310","15");case 61:return new Fi(t,"320","15");case 62:return new Fi(t,"310","17");case 63:return new Fi(t,"320","17")}}catch(i){throw console.log(i),new fl("unknown decoder: "+t)}}var Rg=(function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),iR=(function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,o){r.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},t})(),oR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Li=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sR=(function(t){oR(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(a){if(a instanceof fe){if(!this.pairs.length)throw new fe;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(r,!1),o){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new fe},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,o,s=n;s<this.rows.length;s++){var a=this.rows[s];this.pairs.length=0;try{for(var l=(i=void 0,Li(r)),u=l.next();!u.done;u=l.next()){var f=u.value;this.pairs.push(f.getPairs())}}catch(p){i={error:p}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(a.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var d=new Array(r);d.push(a);try{return this.checkRows(d,s+1)}catch(p){console.log(p)}}}throw new fe},e.isValidSequence=function(r){var n,i;try{for(var o=Li(e.FINDER_PATTERN_SEQUENCES),s=o.next();!s.done;s=o.next()){var a=s.value;if(!(r.length>a.length)){for(var l=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==a[u]){l=!1;break}if(l)return!0}}}catch(f){n={error:f}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,o=!1,s=!1;i<this.rows.length;){var a=this.rows[i];if(a.getRowNumber()>r){s=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),i++}s||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new iR(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,o,s,a,l,u;try{for(var f=Li(n),d=f.next();!d.done;d=f.next()){var p=d.value;if(p.getPairs().length!==r.length){var v=!0;try{for(var y=(s=void 0,Li(p.getPairs())),b=y.next();!b.done;b=y.next()){var x=b.value,w=!1;try{for(var C=(l=void 0,Li(r)),_=C.next();!_.done;_=C.next()){var E=_.value;if(Rg.equals(x,E)){w=!0;break}}}catch(N){l={error:N}}finally{try{_&&!_.done&&(u=C.return)&&u.call(C)}finally{if(l)throw l.error}}w||(v=!1)}}catch(N){s={error:N}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(s)throw s.error}}}}}catch(N){i={error:N}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,o,s,a,l,u;try{for(var f=Li(n),d=f.next();!d.done;d=f.next()){var p=d.value,v=!0;try{for(var y=(s=void 0,Li(r)),b=y.next();!b.done;b=y.next()){var x=b.value,w=!1;try{for(var C=(l=void 0,Li(p.getPairs())),_=C.next();!_.done;_=C.next()){var E=_.value;if(x.equals(E)){w=!0;break}}}catch(N){l={error:N}}finally{try{_&&!_.done&&(u=C.return)&&u.call(C)}finally{if(l)throw l.error}}if(!w){v=!1;break}}}catch(N){s={error:N}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(s)throw s.error}}if(v)return!0}}catch(N){i={error:N}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=BN.buildBitArray(r),i=nR(n),o=i.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),a=r[r.length-1].getFinderPattern().getResultPoints(),l=[s[0],s[1],a[0],a[1]];return new Lr(o,null,null,l,He.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var o=i.getChecksumPortion(),s=2,a=1;a<this.pairs.size();++a){var l=this.pairs.get(a);o+=l.getLeftChar().getChecksumPortion(),s++;var u=l.getRightChar();u!=null&&(o+=u.getChecksumPortion(),s++)}o%=211;var f=211*(s-4)+o;return f===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var o=n.length%2===0;this.startFromEven&&(o=!o);var s,a=!0,l=-1;do this.findNextPair(r,n,l),s=this.parseFoundFinderPattern(r,i,o),s===null?l=e.getNextSecondBar(r,this.startEnd[0]):a=!1;while(a);var u=this.decodeDataCharacter(r,s,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new fe;var f;try{f=this.decodeDataCharacter(r,s,o,!1)}catch(d){f=null,console.log(d)}return new Rg(u,f,s,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var s=r.getSize(),a;if(i>=0)a=i;else if(this.isEmptyPair(n))a=0;else{var l=n[n.length-1];a=l.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var f=!1;a<s&&(f=!r.get(a),!!f);)a++;for(var d=0,p=a,v=a;v<s;v++)if(r.get(v)!==f)o[d]++;else{if(d===3){if(u&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=p,this.startEnd[1]=v;return}u&&e.reverseCounters(o),p+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,f=!f}throw new fe},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var o=r[i];r[i]=r[n-i-1],r[n-i-1]=o}},e.prototype.parseFoundFinderPattern=function(r,n,i){var o,s,a;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,o=this.startEnd[0]-l,s=l,a=this.startEnd[1]}else s=this.startEnd[0],a=r.getNextUnset(this.startEnd[1]+1),o=a-this.startEnd[1];var u=this.getDecodeFinderCounters();Tt.arraycopy(u,0,u,1,u.length-1),u[0]=o;var f;try{f=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new K2(f,[s,a],s,a,n)},e.prototype.decodeDataCharacter=function(r,n,i,o){for(var s=this.getDataCharacterCounters(),a=0;a<s.length;a++)s[a]=0;if(o)e.recordPatternInReverse(r,n.getStartEnd()[0],s);else{e.recordPattern(r,n.getStartEnd()[1],s);for(var l=0,u=s.length-1;l<u;l++,u--){var f=s[l];s[l]=s[u],s[u]=f}}var d=17,p=pt.sum(new Int32Array(s))/d,v=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(p-v)/v>.3)throw new fe;for(var y=this.getOddCounts(),b=this.getEvenCounts(),x=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var C=1*s[l]/p,_=C+.5;if(_<1){if(C<.3)throw new fe;_=1}else if(_>8){if(C>8.7)throw new fe;_=8}var E=l/2;(l&1)===0?(y[E]=_,x[E]=C-_):(b[E]=_,w[E]=C-_)}this.adjustOddEvenCounts(d);for(var N=4*n.getValue()+(i?0:2)+(o?0:1)-1,M=0,T=0,l=y.length-1;l>=0;l--){if(e.isNotA1left(n,i,o)){var I=e.WEIGHTS[N][2*l];T+=y[l]*I}M+=y[l]}for(var k=0,l=b.length-1;l>=0;l--)if(e.isNotA1left(n,i,o)){var I=e.WEIGHTS[N][2*l+1];k+=b[l]*I}var V=T+k;if((M&1)!==0||M>13||M<4)throw new fe;var ue=(13-M)/2,W=e.SYMBOL_WIDEST[ue],D=9-W,re=ds.getRSSvalue(y,W,!0),De=ds.getRSSvalue(b,D,!1),be=e.EVEN_TOTAL_SUBSET[ue],Pe=e.GSUM[ue],me=re*be+De+Pe;return new ec(me,V)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=pt.sum(new Int32Array(this.getOddCounts())),i=pt.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1;n>13?s=!0:n<4&&(o=!0);var a=!1,l=!1;i>13?l=!0:i<4&&(a=!0);var u=n+i-r,f=(n&1)===1,d=(i&1)===0;if(u===1)if(f){if(d)throw new fe;s=!0}else{if(!d)throw new fe;l=!0}else if(u===-1)if(f){if(d)throw new fe;o=!0}else{if(!d)throw new fe;a=!0}else if(u===0){if(f){if(!d)throw new fe;n<i?(o=!0,l=!0):(s=!0,a=!0)}else if(d)throw new fe}else throw new fe;if(o){if(s)throw new fe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(l)throw new fe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Ao),aR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),lR=(function(t){aR(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.count=0,o.finderPattern=i,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(ec),uR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),zf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pg=(function(t){uR(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var o,s,a,l,u=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var f=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,f),n.reverse();try{for(var d=zf(this.possibleLeftPairs),p=d.next();!p.done;p=d.next()){var v=p.value;if(v.getCount()>1)try{for(var y=(a=void 0,zf(this.possibleRightPairs)),b=y.next();!b.done;b=y.next()){var x=b.value;if(x.getCount()>1&&e.checkChecksum(v,x))return e.constructResult(v,x)}}catch(w){a={error:w}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(a)throw a.error}}}}catch(w){o={error:w}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}throw new fe},e.addOrTally=function(r,n){var i,o;if(n!=null){var s=!1;try{for(var a=zf(r),l=a.next();!l.done;l=a.next()){var u=l.value;if(u.getValue()===n.getValue()){u.incrementCount(),s=!0;break}}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}s||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),o=new String(i).toString(),s=new rt,a=13-o.length;a>0;a--)s.append("0");s.append(o);for(var l=0,a=0;a<13;a++){var u=s.charAt(a).charCodeAt(0)-48;l+=(a&1)===0?3*u:u}l=10-l%10,l===10&&(l=0),s.append(l.toString());var f=r.getFinderPattern().getResultPoints(),d=n.getFinderPattern().getResultPoints();return new Lr(s.toString(),null,0,[f[0],f[1],d[0],d[1]],He.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(r,n,i,o){try{var s=this.findFinderPattern(r,n),a=this.parseFoundFinderPattern(r,i,n,s),l=o==null?null:o.get(Lt.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=(s[0]+s[1])/2;n&&(u=r.getSize()-1-u),l.foundPossibleResultPoint(new Fe(u,i))}var f=this.decodeDataCharacter(r,a,!0),d=this.decodeDataCharacter(r,a,!1);return new lR(1597*f.getValue()+d.getValue(),f.getChecksumPortion()+4*d.getChecksumPortion(),a)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(i)lr.recordPatternInReverse(r,n.getStartEnd()[0],o);else{lr.recordPattern(r,n.getStartEnd()[1]+1,o);for(var a=0,l=o.length-1;a<l;a++,l--){var u=o[a];o[a]=o[l],o[l]=u}}for(var f=i?16:15,d=pt.sum(new Int32Array(o))/f,p=this.getOddCounts(),v=this.getEvenCounts(),y=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),a=0;a<o.length;a++){var x=o[a]/d,w=Math.floor(x+.5);w<1?w=1:w>8&&(w=8);var C=Math.floor(a/2);(a&1)===0?(p[C]=w,y[C]=x-w):(v[C]=w,b[C]=x-w)}this.adjustOddEvenCounts(i,f);for(var _=0,E=0,a=p.length-1;a>=0;a--)E*=9,E+=p[a],_+=p[a];for(var N=0,M=0,a=v.length-1;a>=0;a--)N*=9,N+=v[a],M+=v[a];var T=E+3*N;if(i){if((_&1)!==0||_>12||_<4)throw new fe;var I=(12-_)/2,k=e.OUTSIDE_ODD_WIDEST[I],V=9-k,ue=ds.getRSSvalue(p,k,!1),W=ds.getRSSvalue(v,V,!0),D=e.OUTSIDE_EVEN_TOTAL_SUBSET[I],re=e.OUTSIDE_GSUM[I];return new ec(ue*D+W+re,T)}else{if((M&1)!==0||M>10||M<4)throw new fe;var I=(10-M)/2,k=e.INSIDE_ODD_WIDEST[I],V=9-k,ue=ds.getRSSvalue(p,k,!0),W=ds.getRSSvalue(v,V,!1),De=e.INSIDE_ODD_TOTAL_SUBSET[I],re=e.INSIDE_GSUM[I];return new ec(W*De+ue+re,T)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=r.getSize(),s=!1,a=0;a<o&&(s=!r.get(a),n!==s);)a++;for(var l=0,u=a,f=a;f<o;f++)if(r.get(f)!==s)i[l]++;else{if(l===3){if(Ao.isFinderPattern(i))return[u,f];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,s=!s}throw new fe},e.prototype.parseFoundFinderPattern=function(r,n,i,o){for(var s=r.get(o[0]),a=o[0]-1;a>=0&&s!==r.get(a);)a--;a++;var l=o[0]-a,u=this.getDecodeFinderCounters(),f=new Int32Array(u.length);Tt.arraycopy(u,0,f,1,u.length-1),f[0]=l;var d=this.parseFinderValue(f,e.FINDER_PATTERNS),p=a,v=o[1];return i&&(p=r.getSize()-1-p,v=r.getSize()-1-v),new K2(d,[a,o[1]],p,v,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=pt.sum(new Int32Array(this.getOddCounts())),o=pt.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,l=!1,u=!1;r?(i>12?a=!0:i<4&&(s=!0),o>12?u=!0:o<4&&(l=!0)):(i>11?a=!0:i<5&&(s=!0),o>10?u=!0:o<4&&(l=!0));var f=i+o-n,d=(i&1)===(r?1:0),p=(o&1)===1;if(f===1)if(d){if(p)throw new fe;a=!0}else{if(!p)throw new fe;u=!0}else if(f===-1)if(d){if(p)throw new fe;s=!0}else{if(!p)throw new fe;l=!0}else if(f===0){if(d){if(!p)throw new fe;i<o?(s=!0,u=!0):(a=!0,l=!0)}else if(p)throw new fe}else throw new fe;if(s){if(a)throw new fe;Ao.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Ao.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new fe;Ao.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Ao.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Ao),cR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ma=(function(t){cR(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Lt.POSSIBLE_FORMATS):null,o=r&&r.get(Lt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=r&&r.get(Lt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(He.EAN_13)||i.includes(He.UPC_A)||i.includes(He.EAN_8)||i.includes(He.UPC_E))&&n.readers.push(new Gf(r)),i.includes(He.CODE_39)&&n.readers.push(new Ag(o,s)),i.includes(He.CODE_93)&&n.readers.push(new Cg),i.includes(He.CODE_128)&&n.readers.push(new wg),i.includes(He.ITF)&&n.readers.push(new Eg),i.includes(He.CODABAR)&&n.readers.push(new RN),i.includes(He.RSS_14)&&n.readers.push(new Pg),i.includes(He.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new sR))),n.readers.length===0&&(n.readers.push(new Gf(r)),n.readers.push(new Ag),n.readers.push(new Cg),n.readers.push(new Gf(r)),n.readers.push(new wg),n.readers.push(new Eg),n.readers.push(new Pg)),n}return e.prototype.decodeRow=function(r,n,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(r,n,i)}catch{}throw new fe},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e})(lr),fR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){fR(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new ma(n),r,n)||this}return e})(Gs);var Dg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bt=(function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),vt=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),dR=(function(){function t(e,r,n,i,o,s){var a,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=s;var u=0,f=s.getECCodewords(),d=s.getECBlocks();try{for(var p=Dg(d),v=p.next();!v.done;v=p.next()){var y=v.value;u+=y.getCount()*(y.getDataCodewords()+f)}}catch(b){a={error:b}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if((e&1)!==0||(r&1)!==0)throw new Se;try{for(var o=Dg(t.VERSIONS),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.symbolSizeRows===e&&a.symbolSizeColumns===r)return a}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new Se},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new bt(5,new vt(1,3))),new t(2,12,12,10,10,new bt(7,new vt(1,5))),new t(3,14,14,12,12,new bt(10,new vt(1,8))),new t(4,16,16,14,14,new bt(12,new vt(1,12))),new t(5,18,18,16,16,new bt(14,new vt(1,18))),new t(6,20,20,18,18,new bt(18,new vt(1,22))),new t(7,22,22,20,20,new bt(20,new vt(1,30))),new t(8,24,24,22,22,new bt(24,new vt(1,36))),new t(9,26,26,24,24,new bt(28,new vt(1,44))),new t(10,32,32,14,14,new bt(36,new vt(1,62))),new t(11,36,36,16,16,new bt(42,new vt(1,86))),new t(12,40,40,18,18,new bt(48,new vt(1,114))),new t(13,44,44,20,20,new bt(56,new vt(1,144))),new t(14,48,48,22,22,new bt(68,new vt(1,174))),new t(15,52,52,24,24,new bt(42,new vt(2,102))),new t(16,64,64,14,14,new bt(56,new vt(2,140))),new t(17,72,72,16,16,new bt(36,new vt(4,92))),new t(18,80,80,18,18,new bt(48,new vt(4,114))),new t(19,88,88,20,20,new bt(56,new vt(4,144))),new t(20,96,96,22,22,new bt(68,new vt(4,174))),new t(21,104,104,24,24,new bt(56,new vt(6,136))),new t(22,120,120,18,18,new bt(68,new vt(6,175))),new t(23,132,132,20,20,new bt(62,new vt(8,163))),new t(24,144,144,22,22,new bt(62,new vt(8,156),new vt(2,155))),new t(25,8,18,6,16,new bt(7,new vt(1,5))),new t(26,8,32,6,14,new bt(11,new vt(1,10))),new t(27,12,26,10,24,new bt(14,new vt(1,16))),new t(28,12,36,10,16,new bt(18,new vt(1,22))),new t(29,16,36,14,16,new bt(24,new vt(1,32))),new t(30,16,48,14,22,new bt(28,new vt(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),hR=(function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new Se;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new si(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return dR.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,o=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),a=!1,l=!1,u=!1,f=!1;do if(n===o&&i===0&&!a)e[r++]=this.readCorner1(o,s)&255,n-=2,i+=2,a=!0;else if(n===o-2&&i===0&&(s&3)!==0&&!l)e[r++]=this.readCorner2(o,s)&255,n-=2,i+=2,l=!0;else if(n===o+4&&i===2&&(s&7)===0&&!u)e[r++]=this.readCorner3(o,s)&255,n-=2,i+=2,u=!0;else if(n===o-2&&i===0&&(s&7)===4&&!f)e[r++]=this.readCorner4(o,s)&255,n-=2,i+=2,f=!0;else{do n<o&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,s)&255),n-=2,i+=2;while(n>=0&&i<s);n+=1,i+=3;do n>=0&&i<s&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,s)&255),n+=2,i-=2;while(n<o&&i>=0);n+=3,i+=1}while(n<o||i<s);if(r!==this.version.getTotalCodewords())throw new Se;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var o=0;return this.readModule(e-2,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-2,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r,n,i)&&(o|=1),o<<=1,this.readModule(e,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e,r,n,i)&&(o|=1),o},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new We("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),s=r/i|0,a=n/o|0,l=s*i,u=a*o,f=new si(u,l),d=0;d<s;++d)for(var p=d*i,v=0;v<a;++v)for(var y=v*o,b=0;b<i;++b)for(var x=d*(i+2)+1+b,w=p+b,C=0;C<o;++C){var _=v*(o+2)+1+C;if(e.get(_,x)){var E=y+C;f.set(E,w)}}return f},t})(),Mg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pR=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,o,s,a=r.getECBlocks(),l=0,u=a.getECBlocks();try{for(var f=Mg(u),d=f.next();!d.done;d=f.next()){var p=d.value;l+=p.getCount()}}catch(re){n={error:re}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}var v=new Array(l),y=0;try{for(var b=Mg(u),x=b.next();!x.done;x=b.next())for(var p=x.value,w=0;w<p.getCount();w++){var C=p.getDataCodewords(),_=a.getECCodewords()+C;v[y++]=new t(C,new Uint8Array(_))}}catch(re){o={error:re}}finally{try{x&&!x.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}for(var E=v[0].codewords.length,N=E-a.getECCodewords(),M=N-1,T=0,w=0;w<M;w++)for(var I=0;I<y;I++)v[I].codewords[w]=e[T++];for(var k=r.getVersionNumber()===24,V=k?8:y,I=0;I<V;I++)v[I].codewords[N-1]=e[T++];for(var ue=v[0].codewords.length,w=N;w<ue;w++)for(var I=0;I<y;I++){var W=k?(I+8)%y:I,D=k&&W>7?w-1:w;v[W].codewords[D]=e[T++]}if(T!==e.length)throw new We;return v},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),z2=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new We(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,o=this.bytes;if(n>0){var s=8-n,a=e<s?e:s,l=s-a,u=255>>8-a<<l;r=(o[i]&u)>>l,e-=a,n+=a,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|o[i]&255,i++,e-=8;if(e>0){var l=8-e,u=255>>l<<l;r=r<<e|(o[i]&u)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),rr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(rr||(rr={}));var gR=(function(){function t(){}return t.decode=function(e){var r=new z2(e),n=new rt,i=new rt,o=new Array,s=rr.ASCII_ENCODE;do if(s===rr.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,i);else{switch(s){case rr.C40_ENCODE:this.decodeC40Segment(r,n);break;case rr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case rr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case rr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case rr.BASE256_ENCODE:this.decodeBase256Segment(r,n,o);break;default:throw new Se}s=rr.ASCII_ENCODE}while(s!==rr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new $c(e,n.toString(),o.length===0?null:o,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var o=e.readBits(8);if(o===0)throw new Se;if(o<=128)return i&&(o+=128),r.append(String.fromCharCode(o-1)),rr.ASCII_ENCODE;if(o===129)return rr.PAD_ENCODE;if(o<=229){var s=o-130;s<10&&r.append("0"),r.append(""+s)}else switch(o){case 230:return rr.C40_ENCODE;case 231:return rr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return rr.ANSIX12_ENCODE;case 239:return rr.TEXT_ENCODE;case 240:return rr.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new Se;break}}while(e.available()>0);return rr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var a=0;a<3;a++){var l=i[a];switch(o){case 0:if(l<3)o=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new Se;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Se}o=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),o=0;break;default:throw new Se}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var a=0;a<3;a++){var l=i[a];switch(o){case 0:if(l<3)o=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new Se;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Se}o=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),o=0}else throw new Se;break;default:throw new Se}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var o=0;o<3;o++){var s=n[o];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new Se;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,o=Math.floor(i/1600);n[0]=o,i-=o*1600,o=Math.floor(i/40),n[1]=o,n[2]=i-o*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(i&32)===0&&(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++),s;if(o===0?s=e.available()/8|0:o<250?s=o:s=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new Se;for(var a=new Uint8Array(s),l=0;l<s;l++){if(e.available()<8)throw new Se;a[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(a);try{r.append(Tn.decode(a,ft.ISO88591))}catch(u){throw new fl("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),vR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yR=(function(){function t(){this.rsDecoder=new Uc(en.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new hR(e),o=i.getVersion(),s=i.readCodewords(),a=pR.getDataBlocks(s,o),l=0;try{for(var u=vR(a),f=u.next();!f.done;f=u.next()){var d=f.value;l+=d.getNumDataCodewords()}}catch(_){r={error:_}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var p=new Uint8Array(l),v=a.length,y=0;y<v;y++){var b=a[y],x=b.getCodewords(),w=b.getNumDataCodewords();this.correctErrors(x,w);for(var C=0;C<w;C++)p[C*v+y]=x[C]}return gR.decode(p)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new gr}for(var i=0;i<r;i++)e[i]=n[i]},t})(),mR=(function(){function t(e){this.image=e,this.rectangleDetector=new s0(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new fe;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],o=r[2],s=r[3],a=this.transitionsBetween(n,s)+1,l=this.transitionsBetween(o,s)+1;(a&1)===1&&(a+=1),(l&1)===1&&(l+=1),4*a<7*l&&4*l<7*a&&(a=l=Math.max(a,l));var u=t.sampleGrid(this.image,n,i,o,s,a,l);return new $h(u,[n,i,o,s])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),o=(r.getY()-e.getY())/(n+1);return new Fe(e.getX()+i,e.getY()+o)},t.moveAway=function(e,r,n){var i=e.getX(),o=e.getY();return i<r?i-=1:i+=1,o<n?o-=1:o+=1,new Fe(i,o)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],o=e[2],s=this.transitionsBetween(r,n),a=this.transitionsBetween(n,i),l=this.transitionsBetween(i,o),u=this.transitionsBetween(o,r),f=s,d=[o,r,n,i];return f>a&&(f=a,d[0]=r,d[1]=n,d[2]=i,d[3]=o),f>l&&(f=l,d[0]=n,d[1]=i,d[2]=o,d[3]=r),f>u&&(d[0]=i,d[1]=o,d[2]=r,d[3]=n),d},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],s=this.transitionsBetween(r,o),a=t.shiftPoint(n,i,(s+1)*4),l=t.shiftPoint(i,n,(s+1)*4),u=this.transitionsBetween(a,r),f=this.transitionsBetween(l,o);return u<f?(e[0]=r,e[1]=n,e[2]=i,e[3]=o):(e[0]=n,e[1]=i,e[2]=o,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],s=this.transitionsBetween(r,o),a=this.transitionsBetween(n,o),l=t.shiftPoint(r,n,(a+1)*4),u=t.shiftPoint(i,n,(s+1)*4);s=this.transitionsBetween(l,o),a=this.transitionsBetween(u,o);var f=new Fe(o.getX()+(i.getX()-n.getX())/(s+1),o.getY()+(i.getY()-n.getY())/(s+1)),d=new Fe(o.getX()+(r.getX()-n.getX())/(a+1),o.getY()+(r.getY()-n.getY())/(a+1));if(!this.isValid(f))return this.isValid(d)?d:null;if(!this.isValid(d))return f;var p=this.transitionsBetween(l,f)+this.transitionsBetween(u,f),v=this.transitionsBetween(l,d)+this.transitionsBetween(u,d);return p>v?f:d},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],s=this.transitionsBetween(r,o)+1,a=this.transitionsBetween(i,o)+1,l=t.shiftPoint(r,n,a*4),u=t.shiftPoint(i,n,s*4);s=this.transitionsBetween(l,o)+1,a=this.transitionsBetween(u,o)+1,(s&1)===1&&(s+=1),(a&1)===1&&(a+=1);var f=(r.getX()+n.getX()+i.getX()+o.getX())/4,d=(r.getY()+n.getY()+i.getY()+o.getY())/4;r=t.moveAway(r,f,d),n=t.moveAway(n,f,d),i=t.moveAway(i,f,d),o=t.moveAway(o,f,d);var p,v;return l=t.shiftPoint(r,n,a*4),l=t.shiftPoint(l,o,s*4),p=t.shiftPoint(n,r,a*4),p=t.shiftPoint(p,i,s*4),u=t.shiftPoint(i,o,a*4),u=t.shiftPoint(u,n,s*4),v=t.shiftPoint(o,i,a*4),v=t.shiftPoint(v,r,s*4),[l,p,u,v]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,o,s,a){var l=Uh.getInstance();return l.sampleGrid(e,s,a,.5,.5,s-.5,.5,s-.5,a-.5,.5,a-.5,r.getX(),r.getY(),o.getX(),o.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(r.getX()),s=Math.trunc(r.getY()),a=Math.abs(s-i)>Math.abs(o-n);if(a){var l=n;n=i,i=l,l=o,o=s,s=l}for(var u=Math.abs(o-n),f=Math.abs(s-i),d=-u/2,p=i<s?1:-1,v=n<o?1:-1,y=0,b=this.image.get(a?i:n,a?n:i),x=n,w=i;x!==o;x+=v){var C=this.image.get(a?w:x,a?x:w);if(C!==b&&(y++,b=C),d+=f,d>0){if(w===s)break;w+=p,d-=u}}return y},t})(),u0=(function(){function t(){this.decoder=new yR}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Lt.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),i=t.NO_POINTS}else{var s=new mR(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),i=s.getPoints()}var a=n.getRawBytes(),l=new Lr(n.getText(),a,8*a.length,i,He.DATA_MATRIX,Tt.currentTimeMillis()),u=n.getByteSegments();u!=null&&l.putMetadata(Ar.BYTE_SEGMENTS,u);var f=n.getECLevel();return f!=null&&l.putMetadata(Ar.ERROR_CORRECTION_LEVEL,f),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new fe;var i=this.moduleSize(r,e),o=r[1],s=n[1],a=r[0],l=n[0],u=(l-a+1)/i,f=(s-o+1)/i;if(u<=0||f<=0)throw new fe;var d=i/2;o+=d,a+=d;for(var p=new si(u,f),v=0;v<f;v++)for(var y=o+v*i,b=0;b<u;b++)e.get(a+b*i,y)&&p.set(b,v);return p},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],o=e[1];i<n&&r.get(i,o);)i++;if(i===n)throw new fe;var s=i-e[0];if(s===0)throw new fe;return s},t.NO_POINTS=[],t})(),xR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){xR(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new u0,r)||this}return e})(Gs);var hs;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(hs||(hs={}));var bR=(function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Mn(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new We;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(hs.L,"L",1),t.M=new t(hs.M,"M",0),t.Q=new t(hs.Q,"Q",3),t.H=new t(hs.H,"H",2),t})(),_R=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X2=(function(){function t(e){this.errorCorrectionLevel=bR.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return it.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,o=Number.MAX_SAFE_INTEGER,s=0;try{for(var a=_R(t.FORMAT_INFO_DECODE_LOOKUP),l=a.next();!l.done;l=a.next()){var u=l.value,f=u[0];if(f===e||f===r)return new t(u[1]);var d=t.numBitsDiffering(e,f);d<o&&(s=u[1],o=d),e!==r&&(d=t.numBitsDiffering(r,f),d<o&&(s=u[1],o=d))}}catch(p){n={error:p}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),wR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ne=(function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var o=wR(i),s=o.next();!s.done;s=o.next()){var a=s.value;n+=a.getCount()}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),R=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),AR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vo=(function(){function t(e,r){for(var n,i,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=o;var a=0,l=o[0].getECCodewordsPerBlock(),u=o[0].getECBlocks();try{for(var f=AR(u),d=f.next();!d.done;d=f.next()){var p=d.value;a+=p.getCount()*(p.getDataCodewords()+l)}}catch(v){n={error:v}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}this.totalCodewords=a}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Se;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Se}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new We;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var s=X2.numBitsDiffering(e,o);s<r&&(n=i+7,r=s)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new si(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var o=this.alignmentPatternCenters[i]-2,s=0;s<n;s++)i===0&&(s===0||s===n-1)||i===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,o,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new ne(7,new R(1,19)),new ne(10,new R(1,16)),new ne(13,new R(1,13)),new ne(17,new R(1,9))),new t(2,Int32Array.from([6,18]),new ne(10,new R(1,34)),new ne(16,new R(1,28)),new ne(22,new R(1,22)),new ne(28,new R(1,16))),new t(3,Int32Array.from([6,22]),new ne(15,new R(1,55)),new ne(26,new R(1,44)),new ne(18,new R(2,17)),new ne(22,new R(2,13))),new t(4,Int32Array.from([6,26]),new ne(20,new R(1,80)),new ne(18,new R(2,32)),new ne(26,new R(2,24)),new ne(16,new R(4,9))),new t(5,Int32Array.from([6,30]),new ne(26,new R(1,108)),new ne(24,new R(2,43)),new ne(18,new R(2,15),new R(2,16)),new ne(22,new R(2,11),new R(2,12))),new t(6,Int32Array.from([6,34]),new ne(18,new R(2,68)),new ne(16,new R(4,27)),new ne(24,new R(4,19)),new ne(28,new R(4,15))),new t(7,Int32Array.from([6,22,38]),new ne(20,new R(2,78)),new ne(18,new R(4,31)),new ne(18,new R(2,14),new R(4,15)),new ne(26,new R(4,13),new R(1,14))),new t(8,Int32Array.from([6,24,42]),new ne(24,new R(2,97)),new ne(22,new R(2,38),new R(2,39)),new ne(22,new R(4,18),new R(2,19)),new ne(26,new R(4,14),new R(2,15))),new t(9,Int32Array.from([6,26,46]),new ne(30,new R(2,116)),new ne(22,new R(3,36),new R(2,37)),new ne(20,new R(4,16),new R(4,17)),new ne(24,new R(4,12),new R(4,13))),new t(10,Int32Array.from([6,28,50]),new ne(18,new R(2,68),new R(2,69)),new ne(26,new R(4,43),new R(1,44)),new ne(24,new R(6,19),new R(2,20)),new ne(28,new R(6,15),new R(2,16))),new t(11,Int32Array.from([6,30,54]),new ne(20,new R(4,81)),new ne(30,new R(1,50),new R(4,51)),new ne(28,new R(4,22),new R(4,23)),new ne(24,new R(3,12),new R(8,13))),new t(12,Int32Array.from([6,32,58]),new ne(24,new R(2,92),new R(2,93)),new ne(22,new R(6,36),new R(2,37)),new ne(26,new R(4,20),new R(6,21)),new ne(28,new R(7,14),new R(4,15))),new t(13,Int32Array.from([6,34,62]),new ne(26,new R(4,107)),new ne(22,new R(8,37),new R(1,38)),new ne(24,new R(8,20),new R(4,21)),new ne(22,new R(12,11),new R(4,12))),new t(14,Int32Array.from([6,26,46,66]),new ne(30,new R(3,115),new R(1,116)),new ne(24,new R(4,40),new R(5,41)),new ne(20,new R(11,16),new R(5,17)),new ne(24,new R(11,12),new R(5,13))),new t(15,Int32Array.from([6,26,48,70]),new ne(22,new R(5,87),new R(1,88)),new ne(24,new R(5,41),new R(5,42)),new ne(30,new R(5,24),new R(7,25)),new ne(24,new R(11,12),new R(7,13))),new t(16,Int32Array.from([6,26,50,74]),new ne(24,new R(5,98),new R(1,99)),new ne(28,new R(7,45),new R(3,46)),new ne(24,new R(15,19),new R(2,20)),new ne(30,new R(3,15),new R(13,16))),new t(17,Int32Array.from([6,30,54,78]),new ne(28,new R(1,107),new R(5,108)),new ne(28,new R(10,46),new R(1,47)),new ne(28,new R(1,22),new R(15,23)),new ne(28,new R(2,14),new R(17,15))),new t(18,Int32Array.from([6,30,56,82]),new ne(30,new R(5,120),new R(1,121)),new ne(26,new R(9,43),new R(4,44)),new ne(28,new R(17,22),new R(1,23)),new ne(28,new R(2,14),new R(19,15))),new t(19,Int32Array.from([6,30,58,86]),new ne(28,new R(3,113),new R(4,114)),new ne(26,new R(3,44),new R(11,45)),new ne(26,new R(17,21),new R(4,22)),new ne(26,new R(9,13),new R(16,14))),new t(20,Int32Array.from([6,34,62,90]),new ne(28,new R(3,107),new R(5,108)),new ne(26,new R(3,41),new R(13,42)),new ne(30,new R(15,24),new R(5,25)),new ne(28,new R(15,15),new R(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new ne(28,new R(4,116),new R(4,117)),new ne(26,new R(17,42)),new ne(28,new R(17,22),new R(6,23)),new ne(30,new R(19,16),new R(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new ne(28,new R(2,111),new R(7,112)),new ne(28,new R(17,46)),new ne(30,new R(7,24),new R(16,25)),new ne(24,new R(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new ne(30,new R(4,121),new R(5,122)),new ne(28,new R(4,47),new R(14,48)),new ne(30,new R(11,24),new R(14,25)),new ne(30,new R(16,15),new R(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new ne(30,new R(6,117),new R(4,118)),new ne(28,new R(6,45),new R(14,46)),new ne(30,new R(11,24),new R(16,25)),new ne(30,new R(30,16),new R(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new ne(26,new R(8,106),new R(4,107)),new ne(28,new R(8,47),new R(13,48)),new ne(30,new R(7,24),new R(22,25)),new ne(30,new R(22,15),new R(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new ne(28,new R(10,114),new R(2,115)),new ne(28,new R(19,46),new R(4,47)),new ne(28,new R(28,22),new R(6,23)),new ne(30,new R(33,16),new R(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new ne(30,new R(8,122),new R(4,123)),new ne(28,new R(22,45),new R(3,46)),new ne(30,new R(8,23),new R(26,24)),new ne(30,new R(12,15),new R(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new ne(30,new R(3,117),new R(10,118)),new ne(28,new R(3,45),new R(23,46)),new ne(30,new R(4,24),new R(31,25)),new ne(30,new R(11,15),new R(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new ne(30,new R(7,116),new R(7,117)),new ne(28,new R(21,45),new R(7,46)),new ne(30,new R(1,23),new R(37,24)),new ne(30,new R(19,15),new R(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new ne(30,new R(5,115),new R(10,116)),new ne(28,new R(19,47),new R(10,48)),new ne(30,new R(15,24),new R(25,25)),new ne(30,new R(23,15),new R(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new ne(30,new R(13,115),new R(3,116)),new ne(28,new R(2,46),new R(29,47)),new ne(30,new R(42,24),new R(1,25)),new ne(30,new R(23,15),new R(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new ne(30,new R(17,115)),new ne(28,new R(10,46),new R(23,47)),new ne(30,new R(10,24),new R(35,25)),new ne(30,new R(19,15),new R(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new ne(30,new R(17,115),new R(1,116)),new ne(28,new R(14,46),new R(21,47)),new ne(30,new R(29,24),new R(19,25)),new ne(30,new R(11,15),new R(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new ne(30,new R(13,115),new R(6,116)),new ne(28,new R(14,46),new R(23,47)),new ne(30,new R(44,24),new R(7,25)),new ne(30,new R(59,16),new R(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new ne(30,new R(12,121),new R(7,122)),new ne(28,new R(12,47),new R(26,48)),new ne(30,new R(39,24),new R(14,25)),new ne(30,new R(22,15),new R(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new ne(30,new R(6,121),new R(14,122)),new ne(28,new R(6,47),new R(34,48)),new ne(30,new R(46,24),new R(10,25)),new ne(30,new R(2,15),new R(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new ne(30,new R(17,122),new R(4,123)),new ne(28,new R(29,46),new R(14,47)),new ne(30,new R(49,24),new R(10,25)),new ne(30,new R(24,15),new R(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new ne(30,new R(4,122),new R(18,123)),new ne(28,new R(13,46),new R(32,47)),new ne(30,new R(48,24),new R(14,25)),new ne(30,new R(42,15),new R(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new ne(30,new R(20,117),new R(4,118)),new ne(28,new R(40,47),new R(7,48)),new ne(30,new R(43,24),new R(22,25)),new ne(30,new R(10,15),new R(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new ne(30,new R(19,118),new R(6,119)),new ne(28,new R(18,47),new R(31,48)),new ne(30,new R(34,24),new R(34,25)),new ne(30,new R(20,15),new R(61,16)))],t})(),hr;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(hr||(hr={}));var Bg=(function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[hr.DATA_MASK_000,new t(hr.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[hr.DATA_MASK_001,new t(hr.DATA_MASK_001,function(e,r){return(e&1)===0})],[hr.DATA_MASK_010,new t(hr.DATA_MASK_010,function(e,r){return r%3===0})],[hr.DATA_MASK_011,new t(hr.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[hr.DATA_MASK_100,new t(hr.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[hr.DATA_MASK_101,new t(hr.DATA_MASK_101,function(e,r){return e*r%6===0})],[hr.DATA_MASK_110,new t(hr.DATA_MASK_110,function(e,r){return e*r%6<3})],[hr.DATA_MASK_111,new t(hr.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t})(),CR=(function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new Se;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),o=0,s=i-7,n=i-1;n>=s;n--)o=this.copyBit(8,n,o);for(var r=i-8;r<i;r++)o=this.copyBit(r,8,o);if(this.parsedFormatInfo=X2.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Se},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Vo.getVersionForNumber(r);for(var n=0,i=e-11,o=5;o>=0;o--)for(var s=e-9;s>=i;s--)n=this.copyBit(s,o,n);var a=Vo.decodeVersionInformation(n);if(a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;n=0;for(var s=5;s>=0;s--)for(var o=e-9;o>=i;o--)n=this.copyBit(s,o,n);if(a=Vo.decodeVersionInformation(n),a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new Se},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Bg.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var o=r.buildFunctionPattern(),s=!0,a=new Uint8Array(r.getTotalCodewords()),l=0,u=0,f=0,d=i-1;d>0;d-=2){d===6&&d--;for(var p=0;p<i;p++)for(var v=s?i-1-p:p,y=0;y<2;y++)o.get(d-y,v)||(f++,u<<=1,this.bitMatrix.get(d-y,v)&&(u|=1),f===8&&(a[l++]=u,f=0,u=0));s=!s}if(l!==r.getTotalCodewords())throw new Se;return a},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Bg.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,o=e.getHeight();i<o;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t})(),Fg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ER=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,o,s,a;if(e.length!==r.getTotalCodewords())throw new We;var l=r.getECBlocksForLevel(n),u=0,f=l.getECBlocks();try{for(var d=Fg(f),p=d.next();!p.done;p=d.next()){var v=p.value;u+=v.getCount()}}catch(D){i={error:D}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}var y=new Array(u),b=0;try{for(var x=Fg(f),w=x.next();!w.done;w=x.next())for(var v=w.value,C=0;C<v.getCount();C++){var _=v.getDataCodewords(),E=l.getECCodewordsPerBlock()+_;y[b++]=new t(_,new Uint8Array(E))}}catch(D){s={error:D}}finally{try{w&&!w.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}for(var N=y[0].codewords.length,M=y.length-1;M>=0;){var T=y[M].codewords.length;if(T===N)break;M--}M++;for(var I=N-l.getECCodewordsPerBlock(),k=0,C=0;C<I;C++)for(var V=0;V<b;V++)y[V].codewords[C]=e[k++];for(var V=M;V<b;V++)y[V].codewords[I]=e[k++];for(var ue=y[0].codewords.length,C=I;C<ue;C++)for(var V=0;V<b;V++){var W=V<M?C:C+1;y[V].codewords[W]=e[k++]}return y},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),bn;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(bn||(bn={}));var Nt=(function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new We;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(bn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(bn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(bn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(bn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(bn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(bn.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(bn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(bn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(bn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(bn.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),SR=(function(){function t(){}return t.decode=function(e,r,n,i){var o=new z2(e),s=new rt,a=new Array,l=-1,u=-1;try{var f=null,d=!1,p=void 0;do{if(o.available()<4)p=Nt.TERMINATOR;else{var v=o.readBits(4);p=Nt.forBits(v)}switch(p){case Nt.TERMINATOR:break;case Nt.FNC1_FIRST_POSITION:case Nt.FNC1_SECOND_POSITION:d=!0;break;case Nt.STRUCTURED_APPEND:if(o.available()<16)throw new Se;l=o.readBits(8),u=o.readBits(8);break;case Nt.ECI:var y=t.parseECIValue(o);if(f=sr.getCharacterSetECIByValue(y),f===null)throw new Se;break;case Nt.HANZI:var b=o.readBits(4),x=o.readBits(p.getCharacterCountBits(r));b===t.GB2312_SUBSET&&t.decodeHanziSegment(o,s,x);break;default:var w=o.readBits(p.getCharacterCountBits(r));switch(p){case Nt.NUMERIC:t.decodeNumericSegment(o,s,w);break;case Nt.ALPHANUMERIC:t.decodeAlphanumericSegment(o,s,w,d);break;case Nt.BYTE:t.decodeByteSegment(o,s,w,f,a,i);break;case Nt.KANJI:t.decodeKanjiSegment(o,s,w);break;default:throw new Se}break}}while(p!==Nt.TERMINATOR)}catch{throw new Se}return new $c(e,s.toString(),a.length===0?null:a,n===null?null:n.toString(),l,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new Se;for(var i=new Uint8Array(2*n),o=0;n>0;){var s=e.readBits(13),a=s/96<<8&4294967295|s%96;a<959?a+=41377:a+=42657,i[o]=a>>8&255,i[o+1]=a&255,o+=2,n--}try{r.append(Tn.decode(i,ft.GB2312))}catch(l){throw new Se(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new Se;for(var i=new Uint8Array(2*n),o=0;n>0;){var s=e.readBits(13),a=s/192<<8&4294967295|s%192;a<7936?a+=33088:a+=49472,i[o]=a>>8,i[o+1]=a,o+=2,n--}try{r.append(Tn.decode(i,ft.SHIFT_JIS))}catch(l){throw new Se(l)}},t.decodeByteSegment=function(e,r,n,i,o,s){if(8*n>e.available())throw new Se;for(var a=new Uint8Array(n),l=0;l<n;l++)a[l]=e.readBits(8);var u;i===null?u=ft.guessEncoding(a,s):u=i.getName();try{r.append(Tn.decode(a,u))}catch(f){throw new Se(f)}o.push(a)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Se;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var o=r.length();n>1;){if(e.available()<11)throw new Se;var s=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(s/45))),r.append(t.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new Se;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var a=o;a<r.length();a++)r.charAt(a)==="%"&&(a<r.length()-1&&r.charAt(a+1)==="%"?r.deleteCharAt(a+1):r.setCharAt(a,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new Se;var i=e.readBits(10);if(i>=1e3)throw new Se;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Se;var o=e.readBits(7);if(o>=100)throw new Se;r.append(t.toAlphaNumericChar(Math.floor(o/10))),r.append(t.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new Se;var s=e.readBits(4);if(s>=10)throw new Se;r.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new Se},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),Y2=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t})(),Lg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IR=(function(){function t(){this.rsDecoder=new Uc(en.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(si.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new CR(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){i=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,r);return o.setOther(new Y2(!0)),o}catch(s){throw i!==null?i:s}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,o,s,a=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),f=ER.getDataBlocks(u,a,l),d=0;try{for(var p=Lg(f),v=p.next();!v.done;v=p.next()){var y=v.value;d+=y.getNumDataCodewords()}}catch(M){n={error:M}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}var b=new Uint8Array(d),x=0;try{for(var w=Lg(f),C=w.next();!C.done;C=w.next()){var y=C.value,_=y.getCodewords(),E=y.getNumDataCodewords();this.correctErrors(_,E);for(var N=0;N<E;N++)b[x++]=_[N]}}catch(M){o={error:M}}finally{try{C&&!C.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}return SR.decode(b,a,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new gr}for(var i=0;i<r;i++)e[i]=n[i]},t})(),TR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),OR=(function(t){TR(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=(this.getX()+n)/2,s=(this.getY()+r)/2,a=(this.estimatedModuleSize+i)/2;return new e(o,s,a)},e})(Fe),kR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NR=(function(){function t(e,r,n,i,o,s,a){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=o,this.moduleSize=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,o=this.startY+r/2,s=new Int32Array(3),a=this.image,l=0;l<r;l++){var u=o+((l&1)===0?Math.floor((l+1)/2):-Math.floor((l+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var f=e;f<i&&!a.get(f,u);)f++;for(var d=0;f<i;){if(a.get(f,u))if(d===1)s[1]++;else if(d===2){if(this.foundPatternCross(s)){var p=this.handlePossibleCenter(s,u,f);if(p!==null)return p}s[0]=s[2],s[1]=1,s[2]=0,d=1}else s[++d]++;else d===1&&d++,s[d]++;f++}if(this.foundPatternCross(s)){var p=this.handlePossibleCenter(s,u,i);if(p!==null)return p}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new fe},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var o=this.image,s=o.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var l=e;l>=0&&o.get(r,l)&&a[1]<=n;)a[1]++,l--;if(l<0||a[1]>n)return NaN;for(;l>=0&&!o.get(r,l)&&a[0]<=n;)a[0]++,l--;if(a[0]>n)return NaN;for(l=e+1;l<s&&o.get(r,l)&&a[1]<=n;)a[1]++,l++;if(l===s||a[1]>n)return NaN;for(;l<s&&!o.get(r,l)&&a[2]<=n;)a[2]++,l++;if(a[2]>n)return NaN;var u=a[0]+a[1]+a[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,o,s=e[0]+e[1]+e[2],a=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,a,2*e[1],s);if(!isNaN(l)){var u=(e[0]+e[1]+e[2])/3;try{for(var f=kR(this.possibleCenters),d=f.next();!d.done;d=f.next()){var p=d.value;if(p.aboutEquals(u,l,a))return p.combineEstimate(l,a,u)}}catch(y){i={error:y}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}var v=new OR(a,l,u);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null},t})(),RR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),PR=(function(t){RR(e,t);function e(r,n,i,o){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=i,s.count=o,o===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=this.count+1,s=(this.count*this.getX()+n)/o,a=(this.count*this.getY()+r)/o,l=(this.count*this.estimatedModuleSize+i)/o;return new e(s,a,l,o)},e})(Fe),DR=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),fa=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MR=(function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Lt.TRY_HARDER)!==void 0,n=e!=null&&e.get(Lt.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),s=i.getWidth(),a=Math.floor(3*o/(4*t.MAX_MODULES));(a<t.MIN_SKIP||r)&&(a=t.MIN_SKIP);for(var l=!1,u=new Int32Array(5),f=a-1;f<o&&!l;f+=a){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var d=0,p=0;p<s;p++)if(i.get(p,f))(d&1)===1&&d++,u[d]++;else if((d&1)===0)if(d===4)if(t.foundPatternCross(u)){var v=this.handlePossibleCenter(u,f,p,n);if(v===!0)if(a=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var y=this.findRowSkip();y>u[2]&&(f+=y-u[2]-a,p=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,d=3;continue}d=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,d=3;else u[++d]++;else u[d]++;if(t.foundPatternCross(u)){var v=this.handlePossibleCenter(u,f,s,n);v===!0&&(a=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var b=this.selectBestPatterns();return Fe.orderBestPatterns(b),new DR(b)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var o=r/7,s=o/2;return Math.abs(o-e[0])<s&&Math.abs(o-e[1])<s&&Math.abs(3*o-e[2])<3*s&&Math.abs(o-e[3])<s&&Math.abs(o-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var o=this.getCrossCheckStateCount(),s=0,a=this.image;e>=s&&r>=s&&a.get(r-s,e-s);)o[2]++,s++;if(e<s||r<s)return!1;for(;e>=s&&r>=s&&!a.get(r-s,e-s)&&o[1]<=n;)o[1]++,s++;if(e<s||r<s||o[1]>n)return!1;for(;e>=s&&r>=s&&a.get(r-s,e-s)&&o[0]<=n;)o[0]++,s++;if(o[0]>n)return!1;var l=a.getHeight(),u=a.getWidth();for(s=1;e+s<l&&r+s<u&&a.get(r+s,e+s);)o[2]++,s++;if(e+s>=l||r+s>=u)return!1;for(;e+s<l&&r+s<u&&!a.get(r+s,e+s)&&o[3]<n;)o[3]++,s++;if(e+s>=l||r+s>=u||o[3]>=n)return!1;for(;e+s<l&&r+s<u&&a.get(r+s,e+s)&&o[4]<n;)o[4]++,s++;if(o[4]>=n)return!1;var f=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(f-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var o=this.image,s=o.getHeight(),a=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(r,l);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(r,l)&&a[1]<=n;)a[1]++,l--;if(l<0||a[1]>n)return NaN;for(;l>=0&&o.get(r,l)&&a[0]<=n;)a[0]++,l--;if(a[0]>n)return NaN;for(l=e+1;l<s&&o.get(r,l);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!o.get(r,l)&&a[3]<n;)a[3]++,l++;if(l===s||a[3]>=n)return NaN;for(;l<s&&o.get(r,l)&&a[4]<n;)a[4]++,l++;if(a[4]>=n)return NaN;var u=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var o=this.image,s=o.getWidth(),a=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(l,r);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(l,r)&&a[1]<=n;)a[1]++,l--;if(l<0||a[1]>n)return NaN;for(;l>=0&&o.get(l,r)&&a[0]<=n;)a[0]++,l--;if(a[0]>n)return NaN;for(l=e+1;l<s&&o.get(l,r);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!o.get(l,r)&&a[3]<n;)a[3]++,l++;if(l===s||a[3]>=n)return NaN;for(;l<s&&o.get(l,r)&&a[4]<n;)a[4]++,l++;if(a[4]>=n)return NaN;var u=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,n),a=this.crossCheckVertical(r,Math.floor(s),e[2],o);if(!isNaN(a)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(a),e[2],o),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(a),Math.floor(s),e[2],o)))){for(var l=o/7,u=!1,f=this.possibleCenters,d=0,p=f.length;d<p;d++){var v=f[d];if(v.aboutEquals(l,a,s)){f[d]=v.combineEstimate(a,s,l),u=!0;break}}if(!u){var y=new PR(s,a,l);f.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var o=fa(this.possibleCenters),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.getCount()>=t.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,o=0,s=0,a=this.possibleCenters.length;try{for(var l=fa(this.possibleCenters),u=l.next();!u.done;u=l.next()){var f=u.value;f.getCount()>=t.CENTER_QUORUM&&(o++,s+=f.getEstimatedModuleSize())}}catch(b){e={error:b}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(o<3)return!1;var d=s/a,p=0;try{for(var v=fa(this.possibleCenters),y=v.next();!y.done;y=v.next()){var f=y.value;p+=Math.abs(f.getEstimatedModuleSize()-d)}}catch(b){n={error:b}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}return p<=.05*s},t.prototype.selectBestPatterns=function(){var e,r,n,i,o=this.possibleCenters.length;if(o<3)throw new fe;var s=this.possibleCenters,a;if(o>3){var l=0,u=0;try{for(var f=fa(this.possibleCenters),d=f.next();!d.done;d=f.next()){var p=d.value,v=p.getEstimatedModuleSize();l+=v,u+=v*v}}catch(N){e={error:N}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}a=l/o;var y=Math.sqrt(u/o-a*a);s.sort(function(N,M){var T=Math.abs(M.getEstimatedModuleSize()-a),I=Math.abs(N.getEstimatedModuleSize()-a);return T<I?-1:T>I?1:0});for(var b=Math.max(.2*a,y),x=0;x<s.length&&s.length>3;x++){var w=s[x];Math.abs(w.getEstimatedModuleSize()-a)>b&&(s.splice(x,1),x--)}}if(s.length>3){var l=0;try{for(var C=fa(s),_=C.next();!_.done;_=C.next()){var E=_.value;l+=E.getEstimatedModuleSize()}}catch(M){n={error:M}}finally{try{_&&!_.done&&(i=C.return)&&i.call(C)}finally{if(n)throw n.error}}a=l/s.length,s.sort(function(M,T){if(T.getCount()===M.getCount()){var I=Math.abs(T.getEstimatedModuleSize()-a),k=Math.abs(M.getEstimatedModuleSize()-a);return I<k?1:I>k?-1:0}else return T.getCount()-M.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),BR=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Lt.NEED_RESULT_POINT_CALLBACK);var r=new MR(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(r,n,i);if(o<1)throw new fe("No pattern found in proccess finder.");var s=t.computeDimension(r,n,i,o),a=Vo.getProvisionalVersionForDimension(s),l=a.getDimensionForVersion()-7,u=null;if(a.getAlignmentPatternCenters().length>0)for(var f=n.getX()-r.getX()+i.getX(),d=n.getY()-r.getY()+i.getY(),p=1-3/l,v=Math.floor(r.getX()+p*(f-r.getX())),y=Math.floor(r.getY()+p*(d-r.getY())),b=4;b<=16;b<<=1)try{u=this.findAlignmentInRegion(o,v,y,b);break}catch(_){if(!(_ instanceof fe))throw _}var x=t.createTransform(r,n,i,u,s),w=t.sampleGrid(this.image,x,s),C;return u===null?C=[i,r,n]:C=[i,r,n,u],new $h(w,C)},t.createTransform=function(e,r,n,i,o){var s=o-3.5,a,l,u,f;return i!==null?(a=i.getX(),l=i.getY(),u=s-3,f=u):(a=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),u=s,f=s),W2.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,f,3.5,s,e.getX(),e.getY(),r.getX(),r.getY(),a,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=Uh.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var o=pt.round(Fe.distance(e,r)/i),s=pt.round(Fe.distance(e,n)/i),a=Math.floor((o+s)/2)+7;switch(a&3){case 0:a++;break;case 2:a--;break;case 3:throw new fe("Dimensions could be not found.")}return a},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var o=this.sizeOfBlackWhiteBlackRun(e,r,n,i),s=1,a=e-(n-e);a<0?(s=e/(e-a),a=0):a>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*s);return s=1,l<0?(s=r/(r-l),l=0):l>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),a=Math.floor(e+(a-e)*s),o+=this.sizeOfBlackWhiteBlackRun(e,r,a,l),o-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var o=Math.abs(i-r)>Math.abs(n-e);if(o){var s=e;e=r,r=s,s=n,n=i,i=s}for(var a=Math.abs(n-e),l=Math.abs(i-r),u=-a/2,f=e<n?1:-1,d=r<i?1:-1,p=0,v=n+f,y=e,b=r;y!==v;y+=f){var x=o?b:y,w=o?y:b;if(p===1===this.image.get(x,w)){if(p===2)return pt.distance(y,b,e,r);p++}if(u+=l,u>0){if(b===i)break;b+=d,u-=a}}return p===2?pt.distance(n+f,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var o=Math.floor(i*e),s=Math.max(0,r-o),a=Math.min(this.image.getWidth()-1,r+o);if(a-s<e*3)throw new fe("Alignment top exceeds estimated module size.");var l=Math.max(0,n-o),u=Math.min(this.image.getHeight()-1,n+o);if(u-l<e*3)throw new fe("Alignment bottom exceeds estimated module size.");var f=new NR(this.image,s,l,a-s,u-l,e,this.resultPointCallback);return f.find()},t})(),c0=(function(){function t(){this.decoder=new IR}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Lt.PURE_BARCODE)!==void 0){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,r),i=t.NO_POINTS}else{var s=new BR(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),i=s.getPoints()}n.getOther()instanceof Y2&&n.getOther().applyMirroredCorrection(i);var a=new Lr(n.getText(),n.getRawBytes(),void 0,i,He.QR_CODE,void 0),l=n.getByteSegments();l!==null&&a.putMetadata(Ar.BYTE_SEGMENTS,l);var u=n.getECLevel();return u!==null&&a.putMetadata(Ar.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(a.putMetadata(Ar.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),a.putMetadata(Ar.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),a},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new fe;var i=this.moduleSize(r,e),o=r[1],s=n[1],a=r[0],l=n[0];if(a>=l||o>=s)throw new fe;if(s-o!==l-a&&(l=a+(s-o),l>=e.getWidth()))throw new fe;var u=Math.round((l-a+1)/i),f=Math.round((s-o+1)/i);if(u<=0||f<=0)throw new fe;if(f!==u)throw new fe;var d=Math.floor(i/2);o+=d,a+=d;var p=a+Math.floor((u-1)*i)-l;if(p>0){if(p>d)throw new fe;a-=p}var v=o+Math.floor((f-1)*i)-s;if(v>0){if(v>d)throw new fe;o-=v}for(var y=new si(u,f),b=0;b<f;b++)for(var x=o+Math.floor(b*i),w=0;w<u;w++)e.get(a+Math.floor(w*i),x)&&y.set(w,b);return y},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),o=e[0],s=e[1],a=!0,l=0;o<i&&s<n;){if(a!==r.get(o,s)){if(++l===5)break;a=!a}o++,s++}if(o===i||s===n)throw new fe;return(o-e[0])/7},t.NO_POINTS=new Array,t})(),FR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dt=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return pt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var s=FR(e),a=s.next();!a.done;a=s.next()){var l=a.value;i[o++]=l}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=ar.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),LR=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),$R=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UR=(function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),o=t.detect(n,i);return o.length||(i=i.clone(),i.rotate180(),o=t.detect(n,i)),new LR(i,o)},t.detect=function(e,r){for(var n,i,o=new Array,s=0,a=0,l=!1;s<r.getHeight();){var u=t.findVertices(r,s,a);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,a=0;try{for(var f=(n=void 0,$R(o)),d=f.next();!d.done;d=f.next()){var p=d.value;p[1]!=null&&(s=Math.trunc(Math.max(s,p[1].getY()))),p[3]!=null&&(s=Math.max(s,Math.trunc(p[3].getY())))}}catch(v){n={error:v}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}s+=t.ROW_STEP;continue}if(l=!0,o.push(u),!e)break;u[2]!=null?(a=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(a=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return o},t.findVertices=function(e,r,n){var i=e.getHeight(),o=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,i,o,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,i,o,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,o,s){for(var a=new Array(4),l=!1,u=new Int32Array(s.length);i<r;i+=t.ROW_STEP){var f=t.findGuardPattern(e,o,i,n,!1,s,u);if(f!=null){for(;i>0;){var d=t.findGuardPattern(e,o,--i,n,!1,s,u);if(d!=null)f=d;else{i++;break}}a[0]=new Fe(f[0],i),a[1]=new Fe(f[1],i),l=!0;break}}var p=i+1;if(l){for(var v=0,d=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);p<r;p++){var f=t.findGuardPattern(e,d[0],p,n,!1,s,u);if(f!=null&&Math.abs(d[0]-f[0])<t.MAX_PATTERN_DRIFT&&Math.abs(d[1]-f[1])<t.MAX_PATTERN_DRIFT)d=f,v=0;else{if(v>t.SKIPPED_ROW_COUNT_MAX)break;v++}}p-=v+1,a[2]=new Fe(d[0],p),a[3]=new Fe(d[1],p)}return p-i<t.BARCODE_MIN_HEIGHT&&ar.fill(a,null),a},t.findGuardPattern=function(e,r,n,i,o,s,a){ar.fillWithin(a,0,a.length,0);for(var l=r,u=0;e.get(l,n)&&l>0&&u++<t.MAX_PIXEL_DRIFT;)l--;for(var f=l,d=0,p=s.length,v=o;f<i;f++){var y=e.get(f,n);if(y!==v)a[d]++;else{if(d===p-1){if(t.patternMatchVariance(a,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,f]);l+=a[0]+a[1],Tt.arraycopy(a,2,a,0,d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,v=!v}}return d===p-1&&t.patternMatchVariance(a,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,f-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,s=0,a=0;a<i;a++)o+=e[a],s+=r[a];if(o<s)return 1/0;var l=o/s;n*=l;for(var u=0,f=0;f<i;f++){var d=e[f],p=r[f]*l,v=d>p?d-p:p-d;if(v>n)return 1/0;u+=v}return u/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),VR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},To=(function(){function t(e,r){if(r.length===0)throw new We;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Tt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var o=VR(this.coefficients),s=o.next();!s.done;s=o.next()){var a=s.value;i=this.field.add(i,a)}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],u=this.coefficients.length,f=1;f<u;f++)l=this.field.add(this.field.multiply(e,l),this.coefficients[f]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new We("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),s=n.length-r.length;Tt.arraycopy(n,0,o,0,s);for(var a=s;a<n.length;a++)o[a]=this.field.add(r[a-s],n[a]);return new t(this.field,o)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new We("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new We("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,s=new Int32Array(n+o-1),a=0;a<n;a++)for(var l=r[a],u=0;u<o;u++)s[a+u]=this.field.add(s[a+u],this.field.multiply(l,i[u]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new We;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new rt,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t})(),jR=(function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new We;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new H2;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),HR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),WR=(function(t){HR(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var o=1,s=0;s<r;s++)i.expTable[s]=o,o=o*n%r;for(var s=0;s<r-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new To(i,new Int32Array([0])),i.one=new To(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new We;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new To(this,i)},e.PDF417_GF=new e(dt.NUMBER_OF_CODEWORDS,3),e})(jR),KR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qR=(function(){function t(){this.field=WR.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,o,s=new To(this.field,e),a=new Int32Array(r),l=!1,u=r;u>0;u--){var f=s.evaluateAt(this.field.exp(u));a[r-u]=f,f!==0&&(l=!0)}if(!l)return 0;var d=this.field.getOne();if(n!=null)try{for(var p=KR(n),v=p.next();!v.done;v=p.next()){var y=v.value,b=this.field.exp(e.length-1-y),x=new To(this.field,new Int32Array([this.field.subtract(0,b),1]));d=d.multiply(x)}}catch(I){i={error:I}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}for(var w=new To(this.field,a),C=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),w,r),_=C[0],E=C[1],N=this.findErrorLocations(_),M=this.findErrorMagnitudes(E,_,N),u=0;u<N.length;u++){var T=e.length-1-this.field.log(N[u]);if(T<0)throw gr.getChecksumInstance();e[T]=this.field.subtract(e[T],M[u])}return N.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=e,s=r,a=this.field.getZero(),l=this.field.getOne();s.getDegree()>=Math.round(n/2);){var u=o,f=a;if(o=s,a=l,o.isZero())throw gr.getChecksumInstance();s=u;for(var d=this.field.getZero(),p=o.getCoefficient(o.getDegree()),v=this.field.inverse(p);s.getDegree()>=o.getDegree()&&!s.isZero();){var y=s.getDegree()-o.getDegree(),b=this.field.multiply(s.getCoefficient(s.getDegree()),v);d=d.add(this.field.buildMonomial(y,b)),s=s.subtract(o.multiplyByMonomial(y,b))}l=d.multiply(a).subtract(f).negative()}var x=l.getCoefficient(0);if(x===0)throw gr.getChecksumInstance();var w=this.field.inverse(x),C=l.multiply(w),_=s.multiply(w);return[C,_]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,o=1;o<this.field.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=this.field.inverse(o),i++);if(i!==r)throw gr.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),o=new Int32Array(i),s=1;s<=i;s++)o[i-s]=this.field.multiply(s,r.getCoefficient(s));for(var a=new To(this.field,o),l=n.length,u=new Int32Array(l),s=0;s<l;s++){var f=this.field.inverse(n[s]),d=this.field.subtract(0,e.evaluateAt(f)),p=this.field.inverse(a.evaluateAt(f));u[s]=this.field.multiply(d,p)}return u},t})(),f0=(function(){function t(e,r,n,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,o)}return t.prototype.constructor_1=function(e,r,n,i,o){var s=r==null||n==null,a=i==null||o==null;if(s&&a)throw new fe;s?(r=new Fe(0,i.getY()),n=new Fe(0,o.getY())):a&&(i=new Fe(e.getWidth()-1,r.getY()),o=new Fe(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,o=this.bottomLeft,s=this.topRight,a=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,u=Math.trunc(l.getY()-e);u<0&&(u=0);var f=new Fe(l.getX(),u);n?i=f:s=f}if(r>0){var d=n?this.bottomLeft:this.bottomRight,p=Math.trunc(d.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);var v=new Fe(d.getX(),p);n?o=v:a=v}return new t(this.image,i,o,s,a)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),GR=(function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),jh=(function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(s,a,l,u,f,d){if(s==="%%")return"%";if(r[++n]!==void 0){s=u?parseInt(u.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,v;switch(d){case"s":v=r[n];break;case"c":v=r[n][0];break;case"f":v=parseFloat(r[n]).toFixed(s);break;case"p":v=parseFloat(r[n]).toPrecision(s);break;case"e":v=parseFloat(r[n]).toExponential(s);break;case"x":v=parseInt(r[n]).toString(p||16);break;case"d":v=parseFloat(parseInt(r[n],p||10).toPrecision(s)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(p);for(var y=parseInt(l),b=l&&l[0]+""=="0"?"0":" ";v.length<y;)v=a!==void 0?v+b:b+v;return v}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t})(),zR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z2=(function(){function t(e){this.boundingBox=new f0(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new jh,i=0;try{for(var o=zR(this.codewords),s=o.next();!s.done;s=o.next()){var a=s.value;if(a==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),XR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YR=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},xa=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,o=function(d,p){var v={getKey:function(){return d},getValue:function(){return p}};v.getValue()>n?(n=v.getValue(),i=[],i.push(v.getKey())):v.getValue()===n&&i.push(v.getKey())};try{for(var s=XR(this.values.entries()),a=s.next();!a.done;a=s.next()){var l=YR(a.value,2),u=l[0],f=l[1];o(u,f)}}catch(d){e={error:d}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return dt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),ZR=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Xf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$g=(function(t){ZR(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=Xf(this.getCodewords()),o=i.next();!o.done;o=i.next()){var s=o.value;s?.setRowNumberAsRowIndicatorColumn()}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,f=1,d=0,p=a;p<l;p++)if(n[p]!=null){var v=n[p],y=v.getRowNumber()-u;if(y===0)d++;else if(y===1)f=Math.max(f,d),d=1,u=v.getRowNumber();else if(y<0||v.getRowNumber()>=r.getRowCount()||y>p)n[p]=null;else{var b=void 0;f>2?b=(f-2)*y:b=y;for(var x=b>=p,w=1;w<=b&&!x;w++)x=n[p-w]!=null;x?n[p]=null:(u=v.getRowNumber(),d=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var s=Xf(this.getCodewords()),a=s.next();!a.done;a=s.next()){var l=a.value;if(l!=null){var u=l.getRowNumber();if(u>=o.length)continue;o[u]++}}}catch(f){r={error:f}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.getCodewords(),u=-1,f=s;f<a;f++)if(l[f]!=null){var d=l[f];d.setRowNumberAsRowIndicatorColumn();var p=d.getRowNumber()-u;p===0||(p===1?u=d.getRowNumber():d.getRowNumber()>=r.getRowCount()?l[f]=null:u=d.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),o=new xa,s=new xa,a=new xa,l=new xa;try{for(var u=Xf(i),f=u.next();!f.done;f=u.next()){var d=f.value;if(d!=null){d.setRowNumberAsRowIndicatorColumn();var p=d.getValue()%30,v=d.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:s.setValue(p*3+1);break;case 1:l.setValue(p/3),a.setValue(p%3);break;case 2:o.setValue(p+1);break}}}}catch(b){r={error:b}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(o.getValue().length===0||s.getValue().length===0||a.getValue().length===0||l.getValue().length===0||o.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<dt.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>dt.MAX_ROWS_IN_BARCODE)return null;var y=new GR(o.getValue()[0],s.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,y),y},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var o=r[i];if(r[i]!=null){var s=o.getValue()%30,a=o.getRowNumber();if(a>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:s+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(Z2),JR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QR=(function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=dt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,s=this.barcodeColumnCount+1;s>0&&o<this.ADJUST_ROW_NUMBER_SKIP;s--){var a=this.detectionResultColumns[s].getCodewords()[n];a!=null&&(o=t.adjustRowNumberIfValid(i,o,a),a.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,s=1;s<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;s++){var a=this.detectionResultColumns[s].getCodewords()[n];a!=null&&(o=t.adjustRowNumberIfValid(i,o,a),a.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,o;if(this.detectionResultColumns[e-1]!=null){var s=n[r],a=this.detectionResultColumns[e-1].getCodewords(),l=a;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=a[r],u[3]=l[r],r>0&&(u[0]=n[r-1],u[4]=a[r-1],u[5]=l[r-1]),r>1&&(u[8]=n[r-2],u[10]=a[r-2],u[11]=l[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=a[r+1],u[7]=l[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=a[r+2],u[13]=l[r+2]);try{for(var f=JR(u),d=f.next();!d.done;d=f.next()){var p=d.value;if(t.adjustRowNumber(s,p))return}}catch(v){i={error:v}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new jh,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var o=this.detectionResultColumns[i].getCodewords()[n];if(o==null){r.format("    |   ");continue}r.format(" %3d|%3d",o.getRowNumber(),o.getValue())}r.format("%n")}return r.toString()},t})(),eP=(function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),tP=(function(){function t(){}return t.initialize=function(){for(var e=0;e<dt.SYMBOL_TABLE.length;e++)for(var r=dt.SYMBOL_TABLE[e],n=r&1,i=0;i<dt.BARS_IN_MODULE;i++){for(var o=0;(r&1)===n;)o+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(dt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][dt.BARS_IN_MODULE-i-1]=Math.fround(o/dt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=pt.sum(e),n=new Int32Array(dt.BARS_IN_MODULE),i=0,o=0,s=0;s<dt.MODULES_IN_CODEWORD;s++){var a=r/(2*dt.MODULES_IN_CODEWORD)+s*r/dt.MODULES_IN_CODEWORD;o+e[i]<=a&&(o+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return dt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=pt.sum(e),n=new Array(dt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var o=o0.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var a=0;a<t.RATIOS_TABLE.length;a++){for(var l=0,u=t.RATIOS_TABLE[a],f=0;f<dt.BARS_IN_MODULE;f++){var d=Math.fround(u[f]-n[f]);if(l+=Math.fround(d*d),l>=o)break}l<o&&(o=l,s=dt.SYMBOL_TABLE[a])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(dt.SYMBOL_TABLE.length).map(function(e){return new Array(dt.BARS_IN_MODULE)}),t})(),rP=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),Ug=(function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t})(),nP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),iP=(function(t){nP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(ln),oP=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new iP;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new Fh;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),sP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),aP=(function(t){sP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(ln),lP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),uP=(function(t){lP(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new We("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new aP;i=it.MAX_VALUE}this.buf=ar.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new Fh;this.ensureCapacity(this.count+i),Tt.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return ar.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e})(oP),Ct;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function J2(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var nu;function Ki(t){if(typeof nu>"u"&&(nu=J2()),nu===null)throw new Error("BigInt is not supported!");return nu(t)}function cP(){var t=[];t[0]=Ki(1);var e=Ki(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var fP=(function(){function t(){}return t.decode=function(e,r){var n=new rt(""),i=sr.ISO8859_1;n.enableDecoding(i);for(var o=1,s=e[o++],a=new rP;o<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(s,e,i,o,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,n);break;case t.ECI_CHARSET:sr.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,a);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new Se;default:o--,o=t.textCompaction(e,o,n);break}if(o<e.length)s=e[o++];else throw Se.getFormatInstance()}if(n.length()===0)throw Se.getFormatInstance();var l=new $c(null,n.toString(),null,r);return l.setOther(a),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Se.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,r++)i[o]=e[r];n.setSegmentIndex(it.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new rt;r=t.textCompaction(e,r,s),n.setFileId(s.toString());var a=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new rt;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new rt;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var f=new rt;r=t.textCompaction(e,r+1,f),n.setAddressee(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var d=new rt;r=t.numericCompaction(e,r+1,d),n.setSegmentCount(it.parseInt(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var p=new rt;r=t.numericCompaction(e,r+1,p),n.setTimestamp(Ug.parseLong(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var v=new rt;r=t.numericCompaction(e,r+1,v),n.setChecksum(it.parseInt(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var y=new rt;r=t.numericCompaction(e,r+1,y),n.setFileSize(Ug.parseLong(y.toString()));break;default:throw Se.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw Se.getFormatInstance()}if(a!==-1){var b=r-a;n.isLastSegment()&&b--,n.setOptionalData(ar.copyOfRange(e,a,a+b))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),o=new Int32Array((e[0]-r)*2),s=0,a=!1;r<e[0]&&!a;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[s]=l/30,i[s+1]=l%30,s+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],o[s]=l,s++;break}}return t.decodeTextCompaction(i,o,s,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var o=Ct.ALPHA,s=Ct.ALPHA,a=0;a<n;){var l=e[a],u="";switch(o){case Ct.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.LL:o=Ct.LOWER;break;case t.ML:o=Ct.MIXED;break;case t.PS:s=o,o=Ct.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case t.AS:s=o,o=Ct.ALPHA_SHIFT;break;case t.ML:o=Ct.MIXED;break;case t.PS:s=o,o=Ct.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.MIXED:if(l<t.PL)u=t.MIXED_CHARS[l];else switch(l){case t.PL:o=Ct.PUNCT;break;case 26:u=" ";break;case t.LL:o=Ct.LOWER;break;case t.AL:o=Ct.ALPHA;break;case t.PS:s=o,o=Ct.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.PUNCT:if(l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=Ct.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(o=s,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(o=s,l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=Ct.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break}u!==""&&i.append(u),a++}},t.byteCompaction=function(e,r,n,i,o){var s=new uP,a=0,l=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var f=new Int32Array(6),d=r[i++];i<r[0]&&!u;)switch(f[a++]=d,l=900*l+d,d=r[i++],d){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(a%5===0&&a>0){for(var p=0;p<6;++p)s.write(Number(Ki(l)>>Ki(8*(5-p))));l=0,a=0}break}i===r[0]&&d<t.TEXT_COMPACTION_MODE_LATCH&&(f[a++]=d);for(var v=0;v<a;v++)s.write(f[v]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!u;){var y=r[i++];if(y<t.TEXT_COMPACTION_MODE_LATCH)a++,l=900*l+y;else switch(y){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(a%5===0&&a>0){for(var p=0;p<6;++p)s.write(Number(Ki(l)>>Ki(8*(5-p))));l=0,a=0}}break}return o.append(Tn.decode(s.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,o=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!o;){var a=e[r++];if(r===e[0]&&(o=!0),a<t.TEXT_COMPACTION_MODE_LATCH)s[i]=a,i++;else switch(a){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||a===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(n.append(t.decodeBase900toBase10(s,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Ki(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Ki(e[i]);var o=n.toString();if(o.charAt(0)!=="1")throw new Se;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=J2()?cP():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),da=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dP=(function(){function t(){}return t.decode=function(e,r,n,i,o,s,a){for(var l=new f0(e,r,n,i,o),u=null,f=null,d,p=!0;;p=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,l,r,!0,s,a)),i!=null&&(f=t.getRowIndicatorColumn(e,l,i,!1,s,a)),d=t.merge(u,f),d==null)throw fe.getNotFoundInstance();var v=d.getBoundingBox();if(p&&v!=null&&(v.getMinY()<l.getMinY()||v.getMaxY()>l.getMaxY()))l=v;else break}d.setBoundingBox(l);var y=d.getBarcodeColumnCount()+1;d.setDetectionResultColumn(0,u),d.setDetectionResultColumn(y,f);for(var b=u!=null,x=1;x<=y;x++){var w=b?x:y-x;if(d.getDetectionResultColumn(w)===void 0){var C=void 0;w===0||w===y?C=new $g(l,w===0):C=new Z2(l),d.setDetectionResultColumn(w,C);for(var _=-1,E=_,N=l.getMinY();N<=l.getMaxY();N++){if(_=t.getStartColumn(d,w,N,b),_<0||_>l.getMaxX()){if(E===-1)continue;_=E}var M=t.detectCodeword(e,l.getMinX(),l.getMaxX(),b,_,N,s,a);M!=null&&(C.setCodeword(N,M),E=_,s=Math.min(s,M.getWidth()),a=Math.max(a,M.getWidth()))}}}return t.createDecoderResult(d)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=f0.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new QR(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var o=t.getMax(i),s=0;try{for(var a=da(i),l=a.next();!l.done;l=a.next()){var u=l.value;if(s+=o-u,u>0)break}}catch(v){r={error:v}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}for(var f=e.getCodewords(),d=0;s>0&&f[d]==null;d++)s--;for(var p=0,d=i.length-1;d>=0&&(p+=o-i[d],!(i[d]>0));d--);for(var d=f.length-1;p>0&&f[d]==null;d--)p--;return e.getBoundingBox().addMissingRows(s,p,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var o=da(e),s=o.next();!s.done;s=o.next()){var a=s.value;i=Math.max(i,a)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,o,s){for(var a=new $g(r,i),l=0;l<2;l++)for(var u=l===0?1:-1,f=Math.trunc(Math.trunc(n.getX())),d=Math.trunc(Math.trunc(n.getY()));d<=r.getMaxY()&&d>=r.getMinY();d+=u){var p=t.detectCodeword(e,0,e.getWidth(),i,f,d,o,s);p!=null&&(a.setCodeword(d,p),i?f=p.getStartX():f=p.getEndX())}return a},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>dt.MAX_CODEWORDS_IN_BARCODE)throw fe.getNotFoundInstance();n.setValue(o)}else i[0]!==o&&n.setValue(o)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],s=new Array,a=0;a<e.getBarcodeRowCount();a++)for(var l=0;l<e.getBarcodeColumnCount();l++){var u=r[a][l+1].getValue(),f=a*e.getBarcodeColumnCount()+l;u.length===0?n.push(f):u.length===1?i[f]=u[0]:(s.push(f),o.push(u))}for(var d=new Array(o.length),p=0;p<d.length;p++)d[p]=o[p];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,dt.toIntArray(n),dt.toIntArray(s),d)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,o){for(var s=new Int32Array(i.length),a=100;a-- >0;){for(var l=0;l<s.length;l++)r[i[l]]=o[l][s[l]];try{return t.decodeCodewords(r,e,n)}catch(f){var u=f instanceof gr;if(!u)throw f}if(s.length===0)throw gr.getChecksumInstance();for(var l=0;l<s.length;l++)if(s[l]<o[l].length-1){s[l]++;break}else if(s[l]=0,l===s.length-1)throw gr.getChecksumInstance()}throw gr.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,o,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),a=0;a<s.length;a++)for(var l=0;l<s[a].length;l++)s[a][l]=new xa;var u=0;try{for(var f=da(e.getDetectionResultColumns()),d=f.next();!d.done;d=f.next()){var p=d.value;if(p!=null)try{for(var v=(i=void 0,da(p.getCodewords())),y=v.next();!y.done;y=v.next()){var b=y.value;if(b!=null){var x=b.getRowNumber();if(x>=0){if(x>=s.length)continue;s[x][u].setValue(b.getValue())}}}}catch(w){i={error:w}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}u++}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}return s},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var o,s,a=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-a)&&(l=e.getDetectionResultColumn(r-a).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-a)&&(l=e.getDetectionResultColumn(r-a).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-a);){r-=a;try{for(var f=(o=void 0,da(e.getDetectionResultColumn(r).getCodewords())),d=f.next();!d.done;d=f.next()){var p=d.value;if(p!=null)return(i?p.getEndX():p.getStartX())+a*u*(p.getEndX()-p.getStartX())}}catch(v){o={error:v}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,o,s,a,l){o=t.adjustCodewordStartColumn(e,r,n,i,o,s);var u=t.getModuleBitCount(e,r,n,i,o,s);if(u==null)return null;var f,d=pt.sum(u);if(i)f=o+d;else{for(var p=0;p<u.length/2;p++){var v=u[p];u[p]=u[u.length-1-p],u[u.length-1-p]=v}f=o,o=f-d}if(!t.checkCodewordSkew(d,a,l))return null;var y=tP.getDecodedValue(u),b=dt.getCodeword(y);return b===-1?null:new eP(o,f,t.getCodewordBucketNumber(y),b)},t.getModuleBitCount=function(e,r,n,i,o,s){for(var a=o,l=new Int32Array(8),u=0,f=i?1:-1,d=i;(i?a<n:a>=r)&&u<l.length;)e.get(a,s)===d?(l[u]++,a+=f):(u++,d=!d);return u===l.length||a===(i?n:r)&&u===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,o,s){for(var a=o,l=i?-1:1,u=0;u<2;u++){for(;(i?a>=r:a<n)&&i===e.get(a,s);){if(Math.abs(o-a)>t.CODEWORD_SKEW_SIZE)return o;a+=l}l=-l,i=!i}return a},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw Se.getFormatInstance();var i=1<<r+1,o=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var s=fP.decode(e,""+r);return s.setErrorsCorrected(o),s.setErasures(n.length),s},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw gr.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw Se.getFormatInstance();var n=e[0];if(n>e.length)throw Se.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw Se.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new jh,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var o=e[n][i];o.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new qR,t})(),hP=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d0=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw fe.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof Se||n instanceof gr?fe.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,o,s=new Array,a=UR.detectMultiple(e,r,n);try{for(var l=hP(a.getPoints()),u=l.next();!u.done;u=l.next()){var f=u.value,d=dP.decode(a.getBits(),f[4],f[5],f[6],f[7],t.getMinCodewordWidth(f),t.getMaxCodewordWidth(f)),p=new Lr(d.getText(),d.getRawBytes(),void 0,f,He.PDF_417);p.putMetadata(Ar.ERROR_CORRECTION_LEVEL,d.getECLevel());var v=d.getOther();v!=null&&p.putMetadata(Ar.PDF417_EXTRA_METADATA,v),s.push(p)}}catch(y){i={error:y}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return s.map(function(y){return y})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?it.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),pP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Vg=(function(t){pP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(ln),jg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gP=(function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Lt.TRY_HARDER)!==void 0,n=e==null?null:e.get(Lt.POSSIBLE_FORMATS),i=new Array;if(n!=null){var o=n.some(function(s){return s===He.UPC_A||s===He.UPC_E||s===He.EAN_13||s===He.EAN_8||s===He.CODABAR||s===He.CODE_39||s===He.CODE_93||s===He.CODE_128||s===He.ITF||s===He.RSS_14||s===He.RSS_EXPANDED});o&&!r&&i.push(new ma(e)),n.includes(He.QR_CODE)&&i.push(new c0),n.includes(He.DATA_MATRIX)&&i.push(new u0),n.includes(He.AZTEC)&&i.push(new a0),n.includes(He.PDF_417)&&i.push(new d0),o&&r&&i.push(new ma(e))}i.length===0&&(r||i.push(new ma(e)),i.push(new c0),i.push(new u0),i.push(new a0),i.push(new d0),r&&i.push(new ma(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=jg(this.readers),i=n.next();!i.done;i=n.next()){var o=i.value;o.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new Vg("No readers where selected, nothing can be read.");try{for(var i=jg(this.readers),o=i.next();!o.done;o=i.next()){var s=o.value;try{return s.decode(e,this.hints)}catch(a){if(a instanceof Vg)continue}}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new fe("No MultiFormat Readers were able to detect the code.")},t})(),vP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yP=(function(t){vP(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,o=new gP;return o.setHints(r),i=t.call(this,o,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(Gs),mP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){mP(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new d0,r)||this}return e})(Gs);var xP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){xP(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new c0,r)||this}return e})(Gs);var h0;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(h0||(h0={}));const iu=h0;var Q2=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Ji(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,o=r.length;o<=e;o++){var s=n.multiply(new Ji(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));r.push(s),n=s}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new We("No error correction bytes");var n=e.length-r;if(n<=0)throw new We("No data bytes provided");var i=this.buildGenerator(r),o=new Int32Array(n);Tt.arraycopy(e,0,o,0,n);var s=new Ji(this.field,o);s=s.multiplyByMonomial(r,1);for(var a=s.divide(i)[1],l=a.getCoefficients(),u=r-l.length,f=0;f<u;f++)e[n+f]=0;Tt.arraycopy(l,0,e,n+u,l.length)},t})(),ba=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o-1;s++)for(var a=n[s],l=0;l<i-1;l++){var u=a[l];u===a[l+1]&&u===n[s+1][l]&&u===n[s+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o;s++)for(var a=0;a<i;a++){var l=n[s];a+6<i&&l[a]===1&&l[a+1]===0&&l[a+2]===1&&l[a+3]===1&&l[a+4]===1&&l[a+5]===0&&l[a+6]===1&&(t.isWhiteHorizontal(l,a-4,a)||t.isWhiteHorizontal(l,a+7,a+11))&&r++,s+6<o&&n[s][a]===1&&n[s+1][a]===0&&n[s+2][a]===1&&n[s+3][a]===1&&n[s+4][a]===1&&n[s+5][a]===0&&n[s+6][a]===1&&(t.isWhiteVertical(n,a,s-4,s)||t.isWhiteVertical(n,a,s+7,s+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var o=n;o<i;o++)if(e[o][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o;s++)for(var a=n[s],l=0;l<i;l++)a[l]===1&&r++;var u=e.getHeight()*e.getWidth(),f=Math.floor(Math.abs(r*2-u)*10/u);return f*t.N4},t.getDataMaskBit=function(e,r,n){var i,o;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:o=n*r,i=(o&1)+o%3;break;case 6:o=n*r,i=(o&1)+o%3&1;break;case 7:o=n*r,i=o%3+(n+r&1)&1;break;default:throw new We("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),o=r?e.getWidth():e.getHeight(),s=e.getArray(),a=0;a<i;a++){for(var l=0,u=-1,f=0;f<o;f++){var d=r?s[a][f]:s[f][a];d===u?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,u=d)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),bP=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_P=(function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=bP(this.bytes),o=i.next();!o.done;o=i.next()){var s=o.value;ar.fill(s,e)}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var o=this.bytes[n],s=r.bytes[n],a=0,l=this.width;a<l;++a)if(o[a]!==s[a])return!1;return!0},t.prototype.toString=function(){for(var e=new rt,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],o=0,s=this.width;o<s;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),p0=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new rt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),wP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),kt=(function(t){wP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(ln),Hg=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,o){t.clearMatrix(o),t.embedBasicPatterns(n,o),t.embedTypeInfo(r,i,o),t.maybeEmbedVersionInfo(n,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new vr;t.makeTypeInfoBits(e,r,i);for(var o=0,s=i.getSize();o<s;++o){var a=i.get(i.getSize()-1-o),l=t.TYPE_INFO_COORDINATES[o],u=l[0],f=l[1];if(n.setBoolean(u,f,a),o<8){var d=n.getWidth()-o-1,p=8;n.setBoolean(d,p,a)}else{var d=8,p=n.getHeight()-7+(o-8);n.setBoolean(d,p,a)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new vr;t.makeVersionInfoBits(e,n);for(var i=17,o=0;o<6;++o)for(var s=0;s<3;++s){var a=n.get(i);i--,r.setBoolean(o,r.getHeight()-11+s,a),r.setBoolean(r.getHeight()-11+s,o,a)}}},t.embedDataBits=function(e,r,n){for(var i=0,o=-1,s=n.getWidth()-1,a=n.getHeight()-1;s>0;){for(s===6&&(s-=1);a>=0&&a<n.getHeight();){for(var l=0;l<2;++l){var u=s-l;if(t.isEmpty(n.get(u,a))){var f=void 0;i<e.getSize()?(f=e.get(i),++i):f=!1,r!==255&&ba.getDataMaskBit(r,u,a)&&(f=!f),n.setBoolean(u,a,f)}}a+=o}o=-o,a+=o,s-=2}if(i!==e.getSize())throw new kt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-it.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new We("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!p0.isValidMaskPattern(r))throw new kt("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(o,10);var s=new vr;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new kt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new kt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new kt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new kt;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new kt;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)n.setNumber(e+s,r+i,o[s])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)n.setNumber(e+s,r+i,o[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,s=i.length;o!==s;o++){var a=i[o];if(a>=0)for(var l=0;l!==s;l++){var u=i[l];u>=0&&t.isEmpty(r.get(u,a))&&t.embedPositionAdjustmentPattern(u-2,a-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),AP=(function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),Wg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return ba.applyMaskPenaltyRule1(e)+ba.applyMaskPenaltyRule2(e)+ba.applyMaskPenaltyRule3(e)+ba.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(iu.CHARACTER_SET)!==void 0;o&&(i=n.get(iu.CHARACTER_SET).toString());var s=this.chooseMode(e,i),a=new vr;if(s===Nt.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=sr.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,a)}this.appendModeInfo(s,a);var u=new vr;this.appendBytes(e,s,u,i);var f;if(n!==null&&n.get(iu.QR_VERSION)!==void 0){var d=Number.parseInt(n.get(iu.QR_VERSION).toString(),10);f=Vo.getVersionForNumber(d);var p=this.calculateBitsNeeded(s,a,u,f);if(!this.willFit(p,f,r))throw new kt("Data too big for requested version")}else f=this.recommendVersion(r,s,a,u);var v=new vr;v.appendBitArray(a);var y=s===Nt.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(y,f,s,v),v.appendBitArray(u);var b=f.getECBlocksForLevel(r),x=f.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(x,v);var w=this.interleaveWithECBytes(v,f.getTotalCodewords(),x,b.getNumBlocks()),C=new p0;C.setECLevel(r),C.setMode(s),C.setVersion(f);var _=f.getDimensionForVersion(),E=new _P(_,_),N=this.chooseMaskPattern(w,r,f,E);return C.setMaskPattern(N),Hg.buildMatrix(w,r,f,N,E),C.setMatrix(E),C},t.recommendVersion=function(e,r,n,i){var o=this.calculateBitsNeeded(r,n,i,Vo.getVersionForNumber(1)),s=this.chooseVersion(o,e),a=this.calculateBitsNeeded(r,n,i,s);return this.chooseVersion(a,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),sr.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Nt.KANJI;for(var n=!1,i=!1,o=0,s=e.length;o<s;++o){var a=e.charAt(o);if(t.isDigit(a))n=!0;else if(this.getAlphanumericCode(a.charCodeAt(0))!==-1)i=!0;else return Nt.BYTE}return i?Nt.ALPHANUMERIC:n?Nt.NUMERIC:Nt.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Tn.encode(e,sr.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var o=r[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var o=Number.MAX_SAFE_INTEGER,s=-1,a=0;a<p0.NUM_MASK_PATTERNS;a++){Hg.buildMatrix(e,r,n,a,i);var l=this.calculateMaskPenalty(i);l<o&&(o=l,s=a)}return s},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Vo.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new kt("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),o=r.getECBlocksForLevel(n),s=o.getTotalECCodewords(),a=i-s,l=(e+7)/8;return a>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new kt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var o=r.getSize()&7;if(o>0)for(var i=o;i<8;i++)r.appendBit(!1);for(var s=e-r.getSizeInBytes(),i=0;i<s;++i)r.appendBits((i&1)===0?236:17,8);if(r.getSize()!==n)throw new kt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,o,s){if(i>=n)throw new kt("Block ID too large");var a=e%n,l=n-a,u=Math.floor(e/n),f=u+1,d=Math.floor(r/n),p=d+1,v=u-d,y=f-p;if(v!==y)throw new kt("EC bytes mismatch");if(n!==l+a)throw new kt("RS blocks mismatch");if(e!==(d+v)*l+(p+y)*a)throw new kt("Total bytes mismatch");i<l?(o[0]=d,s[0]=v):(o[0]=p,s[0]=y)},t.interleaveWithECBytes=function(e,r,n,i){var o,s,a,l;if(e.getSizeInBytes()!==n)throw new kt("Number of bits and data bytes does not match");for(var u=0,f=0,d=0,p=new Array,v=0;v<i;++v){var y=new Int32Array(1),b=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,v,y,b);var x=y[0],w=new Uint8Array(x);e.toBytes(8*u,w,0,x);var C=t.generateECBytes(w,b[0]);p.push(new AP(w,C)),f=Math.max(f,x),d=Math.max(d,C.length),u+=y[0]}if(n!==u)throw new kt("Data bytes does not match offset");for(var _=new vr,v=0;v<f;++v)try{for(var E=(o=void 0,Wg(p)),N=E.next();!N.done;N=E.next()){var M=N.value,w=M.getDataBytes();v<w.length&&_.appendBits(w[v],8)}}catch(V){o={error:V}}finally{try{N&&!N.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}for(var v=0;v<d;++v)try{for(var T=(a=void 0,Wg(p)),I=T.next();!I.done;I=T.next()){var M=I.value,C=M.getErrorCorrectionBytes();v<C.length&&_.appendBits(C[v],8)}}catch(V){a={error:V}}finally{try{I&&!I.done&&(l=T.return)&&l.call(T)}finally{if(a)throw a.error}}if(r!==_.getSizeInBytes())throw new kt("Interleaving error: "+r+" and "+_.getSizeInBytes()+" differ.");return _},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),o=0;o<n;o++)i[o]=e[o]&255;new Q2(en.QR_CODE_FIELD_256).encode(i,r);for(var s=new Uint8Array(r),o=0;o<r;o++)s[o]=i[n+o];return s},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var o=n.getCharacterCountBits(r);if(e>=1<<o)throw new kt(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},t.appendBytes=function(e,r,n,i){switch(r){case Nt.NUMERIC:t.appendNumericBytes(e,n);break;case Nt.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Nt.BYTE:t.append8BitBytes(e,n,i);break;case Nt.KANJI:t.appendKanjiBytes(e,n);break;default:throw new kt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getDigit(e.charAt(i));if(i+2<n){var s=t.getDigit(e.charAt(i+1)),a=t.getDigit(e.charAt(i+2));r.appendBits(o*100+s*10+a,10),i+=3}else if(i+1<n){var s=t.getDigit(e.charAt(i+1));r.appendBits(o*10+s,7),i+=2}else r.appendBits(o,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new kt;if(i+1<n){var s=t.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new kt;r.appendBits(o*45+s,11),i+=2}else r.appendBits(o,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Tn.encode(e,n)}catch(l){throw new kt(l)}for(var o=0,s=i.length;o!==s;o++){var a=i[o];r.appendBits(a,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Tn.encode(e,sr.SJIS)}catch(d){throw new kt(d)}for(var i=n.length,o=0;o<i;o+=2){var s=n[o]&255,a=n[o+1]&255,l=s<<8&4294967295|a,u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new kt("Invalid byte sequence");var f=(u>>8)*192+(u&255);r.appendBits(f,13)}},t.appendECI=function(e,r){r.appendBits(Nt.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=sr.UTF8.getName(),t})();var CP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){CP(e,t);function e(r,n,i,o,s,a,l,u){var f=t.call(this,a,l)||this;if(f.yuvData=r,f.dataWidth=n,f.dataHeight=i,f.left=o,f.top=s,o+a>n||s+l>i)throw new We("Crop rectangle does not fit within image data.");return u&&f.reverseHorizontal(a,l),f}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new We("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return Tt.arraycopy(this.yuvData,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,o=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Tt.arraycopy(this.yuvData,s,o,0,i),o;for(var a=0;a<n;a++){var l=a*r;Tt.arraycopy(this.yuvData,s,o,l,r),s+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,o,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),o=this.yuvData,s=this.top*this.dataWidth+this.left,a=0;a<n;a++){for(var l=a*r,u=0;u<r;u++){var f=o[s+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+u]=4278190080|f*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,o=0,s=this.top*this.dataWidth+this.left;o<n;o++,s+=this.dataWidth)for(var a=s+r/2,l=s,u=s+r-1;l<a;l++,u--){var f=i[l];i[l]=i[u],i[u]=f}},e.prototype.invert=function(){return new Lh(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Lc);var EP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){EP(e,t);function e(r,n,i,o,s,a,l){var u=t.call(this,n,i)||this;if(u.dataWidth=o,u.dataHeight=s,u.left=a,u.top=l,r.BYTES_PER_ELEMENT===4){for(var f=n*i,d=new Uint8ClampedArray(f),p=0;p<f;p++){var v=r[p],y=v>>16&255,b=v>>7&510,x=v&255;d[p]=(y+b+x)/4&255}u.luminances=d}else u.luminances=r;if(o===void 0&&(u.dataWidth=n),s===void 0&&(u.dataHeight=i),a===void 0&&(u.left=0),l===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new We("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new We("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return Tt.arraycopy(this.luminances,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,o=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Tt.arraycopy(this.luminances,s,o,0,i),o;for(var a=0;a<n;a++){var l=a*r;Tt.arraycopy(this.luminances,s,o,l,r),s+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new Lh(this)},e})(Lc);var SP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),IP=(function(t){SP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(sr),TP=(function(){function t(){}return t.ISO_8859_1=sr.ISO8859_1,t})(),g0,OP=301,kP=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=OP);return{LOG:t,ALOG:e}};g0=kP([],[]),g0.LOG;g0.ALOG;var Kg;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Kg||(Kg={}));var qg=129,eb=230,NP=231,RP=235,PP=236,DP=237,MP=238,BP=239,FP=240,Yf=254,LP=254,Gg="[)>05",zg="[)>06",Xg="",At=0,xr=1,Wr=2,nr=3,pr=4,Nr=5,$P=(function(){function t(){}return t.prototype.getEncodingMode=function(){return At},t.prototype.encode=function(e){var r=Ln.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Ln.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Nr:e.writeCodeword(NP),e.signalEncoderChange(Nr);return;case xr:e.writeCodeword(eb),e.signalEncoderChange(xr);return;case nr:e.writeCodeword(MP),e.signalEncoderChange(nr);break;case Wr:e.writeCodeword(BP),e.signalEncoderChange(Wr);break;case pr:e.writeCodeword(FP),e.signalEncoderChange(pr);break;default:throw new Error("Illegal mode: "+i)}else Ln.isExtendedASCII(n)?(e.writeCodeword(RP),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Ln.isDigit(e)&&Ln.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t})(),UP=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Nr},t.prototype.encode=function(e){var r=new rt;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Ln.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(At);break}}var o=r.length()-1,s=1,a=e.getCodewordCount()+o+s;e.updateSymbolInfo(a);var l=e.getSymbolInfo().getDataCapacity()-a>0;if(e.hasMoreCharacters()||l)if(o<=249)r.setCharAt(0,ft.getCharAt(o));else if(o<=1555)r.setCharAt(0,ft.getCharAt(Math.floor(o/250)+249)),r.insert(1,ft.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t})(),Hh=(function(){function t(){}return t.prototype.getEncodingMode=function(){return xr},t.prototype.encodeMaximal=function(e){for(var r=new rt,n=0,i=e.pos,o=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,n=this.encodeChar(s,r),r.length()%3===0&&(i=e.pos,o=r.length())}if(o!==r.length()){var a=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+a+1);e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l,f=Math.floor(r.length()%3);(f===2&&u!==2||f===1&&(n>3||u!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(eb),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new rt;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),o=Math.floor(r.length()/3)*2,s=e.getCodewordCount()+o;e.updateSymbolInfo(s);var a=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var l=new rt;for(r.length()%3===2&&a!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||a!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var u=r.length();if(u%3===0){var f=Ln.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(f!==this.getEncodingMode()){e.signalEncoderChange(At);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var o=r.length(),s=r.toString().substring(0,o-i);r.setLengthToZero(),r.append(s),e.pos--;var a=e.getCurrentChar();return i=this.encodeChar(a,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Yf)}else if(s===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Yf),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(s>0||e.hasMoreCharacters())&&e.writeCodeword(Yf)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(At)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,o=new rt;return o.append(n),o.append(i),o.toString()},t})(),VP=(function(){function t(){}return t.prototype.getEncodingMode=function(){return pr},t.prototype.encode=function(e){for(var r=new rt;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var o=r.toString().substring(4);r.setLengthToZero(),r.append(o);var s=Ln.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(At);break}}}r.append(ft.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,a=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),u=l&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+a.length))}u?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(a)}finally{e.signalEncoderChange(At)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(ft.getCharAt(e-64)):Ln.illegalCharacter(ft.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,o=r>=3?e.charAt(2).charCodeAt(0):0,s=r>=4?e.charAt(3).charCodeAt(0):0,a=(n<<18)+(i<<12)+(o<<6)+s,l=a>>16&255,u=a>>8&255,f=a&255,d=new rt;return d.append(l),r>=2&&d.append(u),r>=3&&d.append(f),d.toString()},t})(),jP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),HP=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=(function(){function t(e,r,n,i,o,s,a,l){a===void 0&&(a=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=o,this.dataRegions=s,this.rsBlockData=a,this.rsBlockError=l}return t.lookup=function(e,r,n,i,o){var s,a;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!0);try{for(var l=HP(KP),u=l.next();!u.done;u=l.next()){var f=u.value;if(!(r===1&&f.rectangular)&&!(r===2&&!f.rectangular)&&!(n!=null&&(f.getSymbolWidth()<n.getWidth()||f.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(f.getSymbolWidth()>i.getWidth()||f.getSymbolHeight()>i.getHeight()))&&e<=f.dataCapacity)return f}}catch(d){s={error:d}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),WP=(function(t){jP(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e})(yt),KP=[new yt(!1,3,5,8,8,1),new yt(!1,5,7,10,10,1),new yt(!0,5,7,16,6,1),new yt(!1,8,10,12,12,1),new yt(!0,10,11,14,6,2),new yt(!1,12,12,14,14,1),new yt(!0,16,14,24,10,1),new yt(!1,18,14,16,16,1),new yt(!1,22,18,18,18,1),new yt(!0,22,18,16,10,2),new yt(!1,30,20,20,20,1),new yt(!0,32,24,16,14,2),new yt(!1,36,24,22,22,1),new yt(!1,44,28,24,24,1),new yt(!0,49,28,22,14,2),new yt(!1,62,36,14,14,4),new yt(!1,86,42,16,16,4),new yt(!1,114,48,18,18,4),new yt(!1,144,56,20,20,4),new yt(!1,174,68,22,22,4),new yt(!1,204,84,24,24,4,102,42),new yt(!1,280,112,14,14,16,140,56),new yt(!1,368,144,16,16,16,92,36),new yt(!1,456,192,18,18,16,114,48),new yt(!1,576,224,20,20,16,144,56),new yt(!1,696,272,22,22,16,174,68),new yt(!1,816,336,24,24,16,136,56),new yt(!1,1050,408,18,18,36,175,68),new yt(!1,1304,496,20,20,36,163,62),new WP],qP=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(a){return a.charCodeAt(0)}),n=new rt,i=0,o=r.length;i<o;i++){var s=String.fromCharCode(r[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new rt,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=yt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),GP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),zP=(function(t){GP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return nr},e.prototype.encode=function(r){for(var n=new rt;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var o=n.length();if(o%3===0){this.writeNextTriplet(r,n);var s=Ln.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){r.signalEncoderChange(At);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Ln.illegalCharacter(ft.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),o=n.length();r.pos-=o,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(LP),r.getNewEncoding()<0&&r.signalEncoderChange(At)},e})(Hh),XP=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),YP=(function(t){XP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Wr},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e})(Hh),Ln=(function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=qg+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,o){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!1);var s=new Hh,a=[new $P,s,new YP,new zP,new VP,new UP],l=new qP(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(Gg)&&e.endsWith(Xg)?(l.writeCodeword(PP),l.setSkipAtEnd(2),l.pos+=Gg.length):e.startsWith(zg)&&e.endsWith(Xg)&&(l.writeCodeword(DP),l.setSkipAtEnd(2),l.pos+=zg.length);var u=At;for(o&&(s.encodeMaximal(l),u=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)a[u].encode(l),l.getNewEncoding()>=0&&(u=l.getNewEncoding(),l.resetEncoderSignal());var f=l.getCodewordCount();l.updateSymbolInfo();var d=l.getSymbolInfo().getDataCapacity();f<d&&u!==At&&u!==Nr&&u!==pr&&l.writeCodeword("Ã¾");var p=l.getCodewords();for(p.length()<d&&p.append(qg);p.length()<d;)p.append(this.randomize253State(p.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===nr&&i===nr){for(var o=Math.min(r+3,e.length),s=r;s<o;s++)if(!this.isNativeX12(e.charCodeAt(s)))return At}else if(n===pr&&i===pr){for(var o=Math.min(r+4,e.length),s=r;s<o;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return At}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===At?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var o=0,s=new Uint8Array(6),a=[];;){if(r+o===e.length){ar.fill(s,0),ar.fill(a,0);var l=this.findMinimums(i,a,it.MAX_VALUE,s),u=this.getMinimumCount(s);if(a[At]===l)return At;if(u===1){if(s[Nr]>0)return Nr;if(s[pr]>0)return pr;if(s[Wr]>0)return Wr;if(s[nr]>0)return nr}return xr}var f=e.charCodeAt(r+o);if(o++,this.isDigit(f)?i[At]+=.5:this.isExtendedASCII(f)?(i[At]=Math.ceil(i[At]),i[At]+=2):(i[At]=Math.ceil(i[At]),i[At]++),this.isNativeC40(f)?i[xr]+=2/3:this.isExtendedASCII(f)?i[xr]+=8/3:i[xr]+=4/3,this.isNativeText(f)?i[Wr]+=2/3:this.isExtendedASCII(f)?i[Wr]+=8/3:i[Wr]+=4/3,this.isNativeX12(f)?i[nr]+=2/3:this.isExtendedASCII(f)?i[nr]+=13/3:i[nr]+=10/3,this.isNativeEDIFACT(f)?i[pr]+=3/4:this.isExtendedASCII(f)?i[pr]+=17/4:i[pr]+=13/4,this.isSpecialB256(f)?i[Nr]+=4:i[Nr]++,o>=4){if(ar.fill(s,0),ar.fill(a,0),this.findMinimums(i,a,it.MAX_VALUE,s),a[At]<this.min(a[Nr],a[xr],a[Wr],a[nr],a[pr]))return At;if(a[Nr]<a[At]||a[Nr]+1<this.min(a[xr],a[Wr],a[nr],a[pr]))return Nr;if(a[pr]+1<this.min(a[Nr],a[xr],a[Wr],a[nr],a[At]))return pr;if(a[Wr]+1<this.min(a[Nr],a[xr],a[pr],a[nr],a[At]))return Wr;if(a[nr]+1<this.min(a[Nr],a[xr],a[pr],a[Wr],a[At]))return nr;if(a[xr]+1<this.min(a[At],a[Nr],a[pr],a[Wr])){if(a[xr]<a[nr])return xr;if(a[xr]===a[nr]){for(var d=r+o+1;d<e.length;){var p=e.charCodeAt(d);if(this.isX12TermSep(p))return nr;if(!this.isNativeX12(p))break;d++}return xr}}}}},t.min=function(e,r,n,i,o){var s=Math.min(e,Math.min(r,Math.min(n,i)));return o===void 0?s:Math.min(s,o)},t.findMinimums=function(e,r,n,i){for(var o=0;o<6;o++){var s=r[o]=Math.ceil(e[o]);n>s&&(n=s,ar.fill(i,0)),n===s&&(i[o]=i[o]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=it.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t})(),Zf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yg=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Tn.encode(e,this.charset)!=null}catch{return!1}},t})(),ZP=(function(){function t(e,r,n){var i,o,s,a,l,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(k){return new Yg(IP.forName(k))}),this.encoders=[];var f=[];f.push(new Yg(TP.ISO_8859_1));for(var d=r!=null&&r.name.startsWith("UTF"),p=0;p<e.length;p++){var v=!1;try{for(var y=(i=void 0,Zf(f)),b=y.next();!b.done;b=y.next()){var x=b.value,w=e.charAt(p),C=w.charCodeAt(0);if(C===n||x.canEncode(w)){v=!0;break}}}catch(k){i={error:k}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}if(!v)try{for(var _=(s=void 0,Zf(this.ENCODERS)),E=_.next();!E.done;E=_.next()){var x=E.value;if(x.canEncode(e.charAt(p))){f.push(x),v=!0;break}}}catch(k){s={error:k}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}v||(d=!0)}if(f.length===1&&!d)this.encoders=[f[0]];else{this.encoders=[];var N=0;try{for(var M=Zf(f),T=M.next();!T.done;T=M.next()){var x=T.value;this.encoders[N++]=x}}catch(k){l={error:k}}finally{try{T&&!T.done&&(u=M.return)&&u.call(M)}finally{if(l)throw l.error}}}var I=-1;if(r!=null){for(var p=0;p<this.encoders.length;p++)if(this.encoders[p]!=null&&r.name===this.encoders[p].name){I=p;break}}this.priorityEncoderIndex=I}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Tn.encode(ft.getCharAt(e),this.encoders[r].name)},t})(),JP=3,QP=(function(){function t(e,r,n){this.fnc1=n;var i=new ZP(e,r,n);if(i.length()===1)for(var o=0;o<this.bytes.length;o++){var s=e.charAt(o).charCodeAt(0);this.bytes[o]=s===n?1e3:s}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new rt,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,o,s){var a=e.charAt(i).charCodeAt(0),l=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(a===s||r.canEncode(a,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),u=l+1);for(var f=l;f<u;f++)(a===s||r.canEncode(a,f))&&this.addEdge(n,i+1,new Zg(a,r,f,o,s))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,o=new Zg[i+1][r.length()];this.addEdges(e,r,o,0,null,n);for(var s=1;s<=i;s++){for(var a=0;a<r.length();a++)o[s][a]!=null&&s<i&&this.addEdges(e,r,o,s,o[s][a],n);for(var a=0;a<r.length();a++)o[s-1][a]=null}for(var l=-1,u=it.MAX_VALUE,a=0;a<r.length();a++)if(o[i][a]!=null){var f=o[i][a];f.cachedTotalSize<u&&(u=f.cachedTotalSize,l=a)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var d=[],p=o[i][l];p!=null;){if(p.isFNC1())d.unshift(1e3);else for(var v=r.encode(p.c,p.encoderIndex),s=v.length-1;s>=0;s--)d.unshift(v[s]&255);var y=p.previous===null?0:p.previous.encoderIndex;y!==p.encoderIndex&&d.unshift(256+r.getECIValue(p.encoderIndex)),p=p.previous}for(var b=[],s=0;s<b.length;s++)b[s]=d[s];return b},t})(),Zg=(function(){function t(e,r,n,i,o){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=o,this.c=e===o?1e3:e;var s=this.isFNC1()?1:r.encode(e,n).length,a=i===null?0:i.encoderIndex;a!==n&&(s+=JP),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),eD=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();var Jg;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(Jg||(Jg={}));(function(t){eD(e,t);function e(r,n,i,o,s){var a=t.call(this,r,n,i)||this;return a.shape=o,a.macroId=s,a}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(QP);var tD=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),Qg=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t})(),rD=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),nD=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Wh=(function(t){nD(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.value=n,o.bitCount=i,o}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+it.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e})(rD),iD=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),oD=(function(t){iD(e,t);function e(r,n,i){var o=t.call(this,r,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=i,o}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(Wh);function sD(t,e,r){return new oD(t,e,r)}function ha(t,e,r){return new Wh(t,e,r)}var aD=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Qi=0,tc=1,Cn=2,tb=3,ni=4,lD=new Wh(null,0,0),Jf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],uD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function cD(t){var e,r;try{for(var n=uD(t),i=n.next();!i.done;i=n.next()){var o=i.value;ar.fill(o,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Qi][ni]=0,t[tc][ni]=0,t[tc][Qi]=28,t[tb][ni]=0,t[Cn][ni]=0,t[Cn][Qi]=15,t}var rb=cD(ar.createInt32Array(6,6)),fD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dD=(function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var o=Jf[this.mode][e];i=ha(i,o&65535,o>>16),n+=o>>16}var s=e===Cn?4:5;return i=ha(i,r,s),new t(i,e,0,n+s)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Cn?4:5;return n=ha(n,rb[this.mode][e],i),n=ha(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===ni||this.mode===Cn){var o=Jf[n][Qi];r=ha(r,o&65535,o>>16),i+=o>>16,n=Qi}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new t(r,n,this.binaryShiftByteCount+1,i+s);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=sD(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(Jf[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())i.unshift(o);var s=new vr;try{for(var a=fD(i),l=a.next();!l.done;l=a.next()){var u=l.value;u.appendTo(s,e)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s},t.prototype.toString=function(){return ft.format("%s bits=%d bytes=%d",aD[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(lD,Qi,0,0),t})();function hD(t){var e=ft.getCharCode(" "),r=ft.getCharCode("."),n=ft.getCharCode(",");t[Qi][e]=1;for(var i=ft.getCharCode("Z"),o=ft.getCharCode("A"),s=o;s<=i;s++)t[Qi][s]=s-o+2;t[tc][e]=1;for(var a=ft.getCharCode("z"),l=ft.getCharCode("a"),s=l;s<=a;s++)t[tc][s]=s-l+2;t[Cn][e]=1;for(var u=ft.getCharCode("9"),f=ft.getCharCode("0"),s=f;s<=u;s++)t[Cn][s]=s-f+2;t[Cn][n]=12,t[Cn][r]=13;for(var d=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],p=0;p<d.length;p++)t[tb][ft.getCharCode(d[p])]=p;for(var v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],p=0;p<v.length;p++)ft.getCharCode(v[p])>0&&(t[ni][ft.getCharCode(v[p])]=p);return t}var Qf=hD(ar.createInt32Array(5,256)),ou=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pD=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ft.getCharCode(" "),r=ft.getCharCode(`
`),n=Qg.singletonList(dD.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ft.getCharCode("\r"):o=s===r?2:0;break;case ft.getCharCode("."):o=s===e?3:0;break;case ft.getCharCode(","):o=s===e?4:0;break;case ft.getCharCode(":"):o=s===e?5:0;break;default:o=0}o>0?(n=t.updateStateListForPair(n,i,o),i++):n=this.updateStateListForChar(n,i)}var a=Qg.min(n,function(l,u){return l.getBitCount()-u.getBitCount()});return a.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,o=[];try{for(var s=ou(e),a=s.next();!a.done;a=s.next()){var l=a.value;this.updateStateForChar(l,r,o)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,o=Qf[e.getMode()][i]>0,s=null,a=0;a<=ni;a++){var l=Qf[a][i];if(l>0){if(s==null&&(s=e.endBinaryShift(r)),!o||a===e.getMode()||a===Cn){var u=s.latchAndAppend(a,l);n.push(u)}if(!o&&rb[e.getMode()][a]>=0){var f=s.shiftAndAppend(a,l);n.push(f)}}}if(e.getBinaryShiftByteCount()>0||Qf[e.getMode()][i]===0){var d=e.addBinaryShiftChar(r);n.push(d)}},t.updateStateListForPair=function(e,r,n){var i,o,s=[];try{for(var a=ou(e),l=a.next();!l.done;l=a.next()){var u=l.value;this.updateStateForPair(u,r,n,s)}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return this.simplifyStates(s)},t.updateStateForPair=function(e,r,n,i){var o=e.endBinaryShift(r);if(i.push(o.latchAndAppend(ni,n)),e.getMode()!==ni&&i.push(o.shiftAndAppend(ni,n)),n===3||n===4){var s=o.latchAndAppend(Cn,16-n).latchAndAppend(Cn,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var a=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(a)}},t.simplifyStates=function(e){var r,n,i,o,s=[];try{for(var a=ou(e),l=a.next();!l.done;l=a.next()){var u=l.value,f=!0,d=function(x){if(x.isBetterThanOrEqualTo(u))return f=!1,"break";u.isBetterThanOrEqualTo(x)&&(s=s.filter(function(w){return w!==x}))};try{for(var p=(i=void 0,ou(s)),v=p.next();!v.done;v=p.next()){var y=v.value,b=d(y);if(b==="break")break}}catch(x){i={error:x}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}f&&s.push(u)}}catch(x){r={error:x}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s},t})(),gD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new pD(e).encode(),o=it.truncDivision(i.getSize()*r,100)+11,s=i.getSize()+o,a,l,u,f,d;if(n!==t.DEFAULT_AZTEC_LAYERS){if(a=n<0,l=Math.abs(n),l>(a?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new We(ft.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(l,a),f=t.WORD_SIZE[l];var p=u-u%f;if(d=t.stuffBits(i,f),d.getSize()+o>p)throw new We("Data to large for user specified layer");if(a&&d.getSize()>f*64)throw new We("Data to large for user specified layer")}else{f=0,d=null;for(var v=0;;v++){if(v>t.MAX_NB_BITS)throw new We("Data too large for an Aztec code");if(a=v<=3,l=a?v+1:v,u=t.totalBitsInLayer(l,a),!(s>u)){(d==null||f!==t.WORD_SIZE[l])&&(f=t.WORD_SIZE[l],d=t.stuffBits(i,f));var p=u-u%f;if(!(a&&d.getSize()>f*64)&&d.getSize()+o<=p)break}}}var y=t.generateCheckWords(d,u,f),b=d.getSize()/f,x=t.generateModeMessage(a,l,b),w=(a?11:14)+l*4,C=new Int32Array(w),_;if(a){_=w;for(var v=0;v<C.length;v++)C[v]=v}else{_=w+1+2*it.truncDivision(it.truncDivision(w,2)-1,15);for(var E=it.truncDivision(w,2),N=it.truncDivision(_,2),v=0;v<E;v++){var M=v+it.truncDivision(v,15);C[E-v-1]=N-M-1,C[E+v]=N+M+1}}for(var T=new si(_),v=0,I=0;v<l;v++){for(var k=(l-v)*4+(a?9:12),V=0;V<k;V++)for(var ue=V*2,W=0;W<2;W++)y.get(I+ue+W)&&T.set(C[v*2+W],C[v*2+V]),y.get(I+k*2+ue+W)&&T.set(C[v*2+V],C[w-1-v*2-W]),y.get(I+k*4+ue+W)&&T.set(C[w-1-v*2-W],C[w-1-v*2-V]),y.get(I+k*6+ue+W)&&T.set(C[w-1-v*2-V],C[v*2+W]);I+=k*8}if(t.drawModeMessage(T,a,_,x),a)t.drawBullsEye(T,it.truncDivision(_,2),5);else{t.drawBullsEye(T,it.truncDivision(_,2),7);for(var v=0,V=0;v<it.truncDivision(w,2)-1;v+=15,V+=16)for(var W=it.truncDivision(_,2)&1;W<_;W+=2)T.set(it.truncDivision(_,2)-V,W),T.set(it.truncDivision(_,2)+V,W),T.set(W,it.truncDivision(_,2)-V),T.set(W,it.truncDivision(_,2)+V)}var D=new tD;return D.setCompact(a),D.setSize(_),D.setLayers(l),D.setCodeWords(b),D.setMatrix(T),D},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var o=r-i;o<=r+i;o++)e.set(o,r-i),e.set(o,r+i),e.set(r-i,o),e.set(r+i,o);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new vr;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var o=it.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var a=o-3+s;i.get(s)&&e.set(a,o-5),i.get(s+7)&&e.set(o+5,a),i.get(20-s)&&e.set(a,o+5),i.get(27-s)&&e.set(o-5,a)}else for(var s=0;s<10;s++){var a=o-5+s+it.truncDivision(s,5);i.get(s)&&e.set(a,o-7),i.get(s+10)&&e.set(o+7,a),i.get(29-s)&&e.set(a,o+7),i.get(39-s)&&e.set(o-7,a)}},t.generateCheckWords=function(e,r,n){var i,o,s=e.getSize()/n,a=new Q2(t.getGF(n)),l=it.truncDivision(r,n),u=t.bitsToWords(e,n,l);a.encode(u,l-s);var f=r%n,d=new vr;d.appendBits(0,f);try{for(var p=gD(Array.from(u)),v=p.next();!v.done;v=p.next()){var y=v.value;d.appendBits(y,n)}}catch(b){i={error:b}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}return d},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),o,s;for(o=0,s=e.getSize()/r;o<s;o++){for(var a=0,l=0;l<r;l++)a|=e.get(o*r+l)?1<<r-l-1:0;i[o]=a}return i},t.getGF=function(e){switch(e){case 4:return en.AZTEC_PARAM;case 6:return en.AZTEC_DATA_6;case 8:return en.AZTEC_DATA_8;case 10:return en.AZTEC_DATA_10;case 12:return en.AZTEC_DATA_12;default:throw new We("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new vr,i=e.getSize(),o=(1<<r)-2,s=0;s<i;s+=r){for(var a=0,l=0;l<r;l++)(s+l>=i||e.get(s+l))&&(a|=1<<r-1-l);(a&o)===o?(n.appendBits(a&o,r),s--):(a&o)===0?(n.appendBits(a|1,r),s--):n.appendBits(a,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const vD={class:"h-[calc(100vh-6rem)] flex -m-6"},yD={class:"w-[70%] bg-gray-100 p-2 pr-2 md:p-6 overflow-y-auto border-r border-gray-200"},mD={class:"mb-2 md:mb-6 flex flex-col gap-1.5 md:flex-row md:gap-4"},xD=["value"],bD={key:0,class:"fixed inset-0 bg-black z-50 flex flex-col"},_D={class:"flex-1 relative"},wD={key:1,class:"flex justify-center py-10"},AD={key:2,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-1.5 md:gap-4"},CD=["onClick"],ED={class:"aspect-square relative mb-1.5 md:mb-3 bg-gray-100 rounded overflow-hidden"},SD=["src"],ID={class:"font-semibold text-gray-800 text-[10px] md:text-sm mb-0.5 md:mb-1 leading-tight line-clamp-2"},TD={class:"text-indigo-600 font-bold text-[10px] md:text-base"},OD={class:"w-[30%] bg-white flex flex-col h-full shadow-xl z-10 border-l border-gray-200"},kD={class:"p-3 md:p-6 border-b border-gray-100 bg-gray-50 flex items-center justify-between"},ND={class:"text-lg md:text-xl font-bold text-gray-800 flex items-center gap-2"},RD={class:"text-xs md:text-sm font-normal text-gray-500 bg-white px-2 py-1 rounded border"},PD={class:"flex items-center gap-2"},DD={class:"px-3 md:px-6 pt-3 md:pt-4"},MD=["value"],BD={class:"flex-1 overflow-y-auto p-2 md:p-4 space-y-2 md:space-y-3"},FD={key:0,class:"h-full flex flex-col items-center justify-center text-gray-400"},LD={class:"flex items-center justify-between mb-2"},$D={class:"flex-1 min-w-0 mr-2"},UD=["title"],VD={class:"text-xs text-gray-500"},jD={class:"flex items-center space-x-2"},HD=["onClick"],WD={class:"font-bold w-6 text-center text-sm"},KD=["onClick"],qD={class:"text-right ml-2 w-16 md:w-20"},GD={class:"font-bold text-gray-800 text-xs md:text-sm"},zD={class:"flex justify-between items-center"},XD=["onClick"],YD=["onUpdate:modelValue"],ZD=["value"],JD={class:"p-3 md:p-6 bg-gray-50 border-t border-gray-200 space-y-2"},QD={class:"flex justify-between text-gray-600 text-sm"},eM={class:"flex justify-between text-gray-600 text-sm"},tM={class:"flex justify-between text-lg md:text-xl font-bold text-gray-900 border-t border-gray-200 pt-2 mt-2"},rM={class:"mt-4"},nM=["value"],iM={class:"mt-4"},oM={class:"relative rounded-md shadow-sm"},sM={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},aM={class:"text-gray-500 text-sm"},lM={class:"text-lg md:text-xl font-bold"},uM={key:0,class:"text-xs text-red-500 mt-1 text-right"},cM=["disabled"],fM={key:0},dM={key:1,class:"animate-pulse flex items-center gap-2"},hM={key:1,class:"mt-2 text-center text-xs text-orange-600 font-bold"},pM={__name:"PosSystem",props:{initialCategories:{type:Array,default:()=>[]},initialPaymentTypes:{type:Array,default:()=>[]},initialCustomers:{type:Array,default:()=>[]},taxCodes:{type:Array,default:()=>[]},taxRate:{type:[Number,String],default:0},enableTax:{type:Boolean,default:!1},currencySymbol:{type:String,default:"$"},tenantId:{type:[String,Number],required:!0},tenantName:{type:String,default:"Store"},routes:{type:Object,required:!0},csrfToken:{type:String,required:!0}},setup(t){const e=t,r=ye(null),n=ye([]),i=ye(e.initialCategories||[]),o=ye(e.initialPaymentTypes||[]),s=ye(e.initialCustomers||[]),a=ye([]),l=ye(""),u=ye(""),f=ye(null),d=ye(""),p=ye(""),v=ye(!1),y=ye(!0),b=ye(navigator.onLine),x=ye(0),w=ye(!1),C=ye(!1),_=ye(null);let E=null,N="",M=null,T=null,I=null;const k=new(window.AudioContext||window.webkitAudioContext),V=Gr(()=>n.value.filter(Q=>{const Z=Q.name.toLowerCase().includes(l.value.toLowerCase()),ie=u.value===""||Q.category_id==u.value;return Z&&ie})),ue=Gr(()=>a.value.reduce((Q,Z)=>Q+Z.price*Z.quantity,0)),W=Gr(()=>a.value.reduce((Q,Z)=>{if(!Z.tax_code_id)return Q;const ie=e.taxCodes.find(he=>he.id==Z.tax_code_id),ge=ie?parseFloat(ie.rate):0;return Q+Z.price*Z.quantity*(ge/100)},0)),D=Gr(()=>ue.value+W.value),re=Gr(()=>(parseFloat(p.value)||0)-D.value),De=Gr(()=>a.value.length===0||v.value||!f.value?!1:(parseFloat(p.value)||0)>=D.value-.01);Vn([a,p,f],()=>{$t()},{deep:!0}),Vn(b,Q=>{Q&&G()}),kn(async()=>{r.value=new Qu(`pos_db_${e.tenantId}`),r.value.version(1).stores({products:"id, category_id, name",customers:"id, name",paymentTypes:"id",orders:"++id, synced"}),window.addEventListener("online",()=>b.value=!0),window.addEventListener("offline",()=>b.value=!1),document.addEventListener("fullscreenchange",vn),document.addEventListener("keypress",yn),await be(),$(),$t(),Cs(()=>{const Q=document.getElementById("amount-tendered-input");Q&&Q.focus()}),o.value.length>0&&(f.value=o.value[0].id)}),ao(()=>{window.removeEventListener("online",()=>b.value=!0),window.removeEventListener("offline",()=>b.value=!1),document.removeEventListener("fullscreenchange",vn),document.removeEventListener("keypress",yn),zn()});const be=async()=>{y.value=!0;try{if(b.value){const Q=[];e.initialCategories.forEach(Z=>{Z.products&&Z.products.forEach(ie=>{Q.push({id:ie.id,name:ie.name,price:parseFloat(ie.price),category_id:Z.id,image_url:ie.image_url,stock:ie.stock_quantity||0,sku:ie.sku||"",barcode:ie.barcode||""})})}),await r.value.products.bulkPut(Q),await r.value.customers.bulkPut(e.initialCustomers.map(Z=>({id:Z.id,name:Z.name}))),await r.value.paymentTypes.bulkPut(e.initialPaymentTypes.map(Z=>({id:Z.id,name:Z.name})))}n.value=await r.value.products.toArray()}catch(Q){console.error("Error loading data",Q)}finally{y.value=!1}},Pe=Q=>e.currencySymbol+Number(Q).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),me=Q=>{const Z=a.value.find(ie=>ie.id===Q.id);Z?Z.quantity++:a.value.push({...Q,quantity:1,uniqueId:Date.now()}),$r()},ze=(Q,Z)=>{const ie=a.value[Q];ie.quantity+=Z,ie.quantity<=0&&a.value.splice(Q,1)},Mt=Q=>{a.value.splice(Q,1)},Et=()=>{a.value=[],p.value="",d.value="",$t()},$t=()=>{const Q={cart:a.value,subtotal:ue.value,tax:W.value,total:D.value,currencySymbol:e.currencySymbol,amountTendered:p.value,change:re.value,taxRate:e.enableTax?e.taxRate:0,timestamp:Date.now()};localStorage.setItem("pos_state",JSON.stringify(Q))},$r=()=>{try{const Q=k.createOscillator(),Z=k.createGain();Q.connect(Z),Z.connect(k.destination),Q.frequency.value=800,Q.type="sine",Z.gain.setValueAtTime(.3,k.currentTime),Z.gain.exponentialRampToValueAtTime(.01,k.currentTime+.1),Q.start(k.currentTime),Q.stop(k.currentTime+.1)}catch{}},Nn=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen().catch(Q=>{console.error(Q)})},vn=()=>{document.querySelector(".sidebar")},Xr=()=>{const Q=document.querySelector("aside");Q&&Q.classList.toggle("hidden")},Gn=async()=>{w.value=!0,await Cs();try{E=new yP;const Q=document.querySelector("video");await E.decodeFromVideoDevice(null,Q,(Z,ie)=>{Z&&Le(Z.text)})}catch(Q){console.error("Scanner error:",Q),alert("Camera access denied or not available"),zn()}},zn=()=>{E&&(E.reset(),E=null),w.value=!1},Le=Q=>{const Z=n.value.find(ie=>ie.sku===Q||ie.barcode===Q);Z?(me(Z),zn()):alert("Product not found: "+Q)},yn=Q=>{Q.target.tagName==="INPUT"||Q.target.tagName==="TEXTAREA"||(M&&clearTimeout(M),Q.key==="Enter"?(N.length>3&&Le(N),N=""):(N+=Q.key,M=setTimeout(()=>N="",100)))},Rn=async()=>{if(!confirm("Process payment of "+Pe(D.value)+"?"))return;v.value=!0;const Q={items:a.value,subtotal:ue.value,tax:W.value,total:D.value,payment_method_id:f.value,amount_tendered:p.value,change:re.value,customer_id:d.value||null,created_at:new Date().toISOString()};if(b.value)try{const ie=await(await fetch(e.routes.store,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e.csrfToken},body:JSON.stringify(Q)})).json();if(ie.success)alert("Order processed successfully!"),await ve({...Q,order_id:ie.order_id}),Et();else throw new Error(ie.message)}catch(Z){console.error("Online payment failed, saving offline",Z),await at(Q)}else await at(Q);v.value=!1},at=async Q=>{try{const Z=JSON.parse(JSON.stringify({...Q,synced:0}));await r.value.orders.add(Z),alert("Offline: Order saved locally. Will sync when online."),$(),Et()}catch(Z){console.error("Error saving offline",Z),alert("Error saving offline: "+Z.message)}},$=()=>{r.value.orders.where("synced").equals(0).count().then(Q=>x.value=Q)},G=async()=>{if(!b.value)return;const Q=await r.value.orders.where("synced").equals(0).toArray();if(Q.length!==0){for(const Z of Q)try{(await(await fetch(e.routes.store,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e.csrfToken},body:JSON.stringify(Z)})).json()).success&&await r.value.orders.update(Z.id,{synced:1})}catch(ie){console.error("Sync failed",ie)}$()}},ae=async()=>{try{T=await navigator.bluetooth.requestDevice({filters:[{services:["000018f0-0000-1000-8000-00805f9b34fb"]}],optionalServices:["000018f0-0000-1000-8000-00805f9b34fb"]}),I=await(await(await T.gatt.connect()).getPrimaryService("000018f0-0000-1000-8000-00805f9b34fb")).getCharacteristic("00002af1-0000-1000-8000-00805f9b34fb"),C.value=!0,alert("Printer connected!")}catch(Q){console.error(Q),alert("Printer connection failed.")}},ve=async Q=>{if(C.value&&I)alert("Printing thermal receipt...");else{const Z=e.routes.receipt.replace(":id",Q.order_id);window.open(Z,"Receipt","width=400,height=600")}},pe=()=>{window.open(e.routes.display,"CustomerDisplay","width=800,height=600,menubar=no,toolbar=no,location=no,status=no")};return(Q,Z)=>(B(),F("div",vD,[c("div",yD,[c("div",mD,[le(c("input",{type:"text","onUpdate:modelValue":Z[0]||(Z[0]=ie=>l.value=ie),placeholder:"Search...",class:"flex-1 px-2 py-1.5 md:px-4 md:py-3 rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-xs md:text-lg"},null,512),[[Ee,l.value]]),le(c("select",{"onUpdate:modelValue":Z[1]||(Z[1]=ie=>u.value=ie),class:"px-2 py-1.5 md:px-4 md:py-3 rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-xs md:text-base"},[Z[7]||(Z[7]=c("option",{value:""},"All",-1)),(B(!0),F(Re,null,Ke(i.value,ie=>(B(),F("option",{key:ie.id,value:ie.id},j(ie.name),9,xD))),128))],512),[[jt,u.value]]),c("div",{class:"flex gap-2"},[c("button",{onClick:Gn,class:"px-3 py-1.5 bg-indigo-600 text-white rounded-lg flex items-center justify-center gap-1 text-xs font-semibold hover:bg-indigo-700 transition"},[...Z[8]||(Z[8]=[c("i",{class:"fas fa-barcode"},null,-1),$e(" Scan ",-1)])]),c("button",{onClick:Nn,class:"hidden md:flex px-3 py-1.5 bg-gray-700 text-white rounded-lg items-center justify-center gap-1 text-xs font-semibold hover:bg-gray-800 transition"},[...Z[9]||(Z[9]=[c("i",{class:"fas fa-expand"},null,-1),$e(" Fullscreen ",-1)])]),c("button",{onClick:Xr,class:"hidden md:block px-3 py-1.5 bg-gray-700 text-white rounded-lg items-center justify-center gap-1 text-xs font-semibold hover:bg-gray-800 transition"},[...Z[10]||(Z[10]=[c("i",{class:"fas fa-bars"},null,-1),$e(" Menu ",-1)])])])]),w.value?(B(),F("div",bD,[c("div",{class:"p-4 bg-gray-900 flex justify-between items-center"},[Z[11]||(Z[11]=c("h3",{class:"text-white font-bold"},"Scan Barcode",-1)),c("button",{onClick:zn,class:"text-white px-4 py-2 bg-red-600 rounded-lg"},"Close")]),c("div",_D,[c("video",{ref_key:"videoElement",ref:_,class:"w-full h-full object-cover"},null,512),Z[12]||(Z[12]=c("div",{class:"absolute inset-0 flex items-center justify-center pointer-events-none"},[c("div",{class:"w-64 h-48 border-2 border-green-500 rounded-lg"})],-1))]),Z[13]||(Z[13]=c("div",{class:"p-4 bg-gray-900 text-white text-center text-sm"}," Position barcode within the frame ",-1))])):_e("",!0),y.value?(B(),F("div",wD,[...Z[14]||(Z[14]=[c("div",{class:"animate-spin rounded-full h-8 md:h-12 w-8 md:w-12 border-b-2 border-indigo-600"},null,-1)])])):(B(),F("div",AD,[(B(!0),F(Re,null,Ke(V.value,ie=>(B(),F("div",{key:ie.id,onClick:ge=>me(ie),class:"bg-white rounded-lg shadow cursor-pointer hover:shadow-md transition p-1.5 md:p-3 flex flex-col group relative"},[c("div",ED,[c("img",{src:ie.image_url,class:"object-cover w-full h-full group-hover:scale-110 transition duration-500",onError:Z[2]||(Z[2]=ge=>ge.target.src="https://placehold.co/200x200?text=No+Image")},null,40,SD),c("div",{class:Ue(["absolute top-1 right-1 px-1.5 py-0.5 rounded text-[10px] font-bold text-white shadow",ie.stock>10?"bg-green-500":ie.stock>0?"bg-yellow-500":"bg-red-500"])},j(ie.stock),3)]),c("h3",ID,j(ie.name),1),c("p",TD,j(Pe(ie.price)),1)],8,CD))),128))]))]),c("div",OD,[c("div",kD,[c("h2",ND,[Z[15]||(Z[15]=c("span",null,"Cart",-1)),c("span",RD,j(a.value.length)+" items",1)]),c("div",PD,[c("div",{class:Ue(["text-xs px-2 py-1 rounded transition-colors duration-300",b.value?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},j(b.value?"Online":"Offline"),3),c("button",{onClick:ae,class:Ue(["hidden md:block text-xs px-2 py-1 rounded hover:opacity-80 transition",C.value?"bg-green-600 text-white":"bg-gray-800 text-white"])},j(C.value?"Printer âœ“":"Connect Printer"),3),c("button",{onClick:pe,class:"hidden md:block text-xs bg-gray-800 text-white px-3 py-1 rounded hover:bg-gray-700"},"Display")])]),c("div",DD,[le(c("select",{"onUpdate:modelValue":Z[3]||(Z[3]=ie=>d.value=ie),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm"},[Z[16]||(Z[16]=c("option",{value:""},"Walk-in Customer",-1)),(B(!0),F(Re,null,Ke(s.value,ie=>(B(),F("option",{key:ie.id,value:ie.id},j(ie.name),9,MD))),128))],512),[[jt,d.value]])]),c("div",BD,[a.value.length===0?(B(),F("div",FD,[...Z[17]||(Z[17]=[c("i",{class:"fas fa-shopping-cart text-5xl mb-4 opacity-30"},null,-1),c("p",{class:"text-sm md:text-base"},"Cart is empty",-1)])])):_e("",!0),(B(!0),F(Re,null,Ke(a.value,(ie,ge)=>(B(),F("div",{key:ie.uniqueId||ie.id,class:"flex flex-col p-2 md:p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition border border-gray-100"},[c("div",LD,[c("div",$D,[c("h4",{class:"font-medium text-gray-800 text-xs md:text-sm truncate",title:ie.name},j(ie.name),9,UD),c("p",VD,j(Pe(ie.price)),1)]),c("div",jD,[c("button",{onClick:he=>ze(ge,-1),class:"w-7 h-7 md:w-8 md:h-8 rounded-full bg-white border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-100 text-sm font-bold transition-colors"},"-",8,HD),c("span",WD,j(ie.quantity),1),c("button",{onClick:he=>ze(ge,1),class:"w-7 h-7 md:w-8 md:h-8 rounded-full bg-white border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-100 text-sm font-bold transition-colors"},"+",8,KD)]),c("div",qD,[c("p",GD,j(Pe(ie.price*ie.quantity)),1)])]),c("div",zD,[c("button",{onClick:he=>Mt(ge),class:"text-[10px] text-red-500 hover:underline"},"Remove",8,XD),le(c("select",{"onUpdate:modelValue":he=>ie.tax_code_id=he,class:"text-[10px] py-1 pl-2 pr-6 rounded border-gray-200 bg-white text-gray-600 focus:border-indigo-500 focus:ring-indigo-500 w-32"},[Z[18]||(Z[18]=c("option",{value:""},"No Tax",-1)),(B(!0),F(Re,null,Ke(t.taxCodes,he=>(B(),F("option",{key:he.id,value:he.id},j(he.name)+" ("+j(Number(he.rate))+"%)",9,ZD))),128))],8,YD),[[jt,ie.tax_code_id]])])]))),128))]),c("div",JD,[c("div",QD,[Z[19]||(Z[19]=c("span",null,"Subtotal",-1)),c("span",null,j(Pe(ue.value)),1)]),c("div",eM,[Z[20]||(Z[20]=c("span",null,"Tax",-1)),c("span",null,j(Pe(W.value)),1)]),c("div",tM,[Z[21]||(Z[21]=c("span",null,"Total",-1)),c("span",null,j(Pe(D.value)),1)]),c("div",rM,[Z[22]||(Z[22]=c("label",{class:"block text-xs md:text-sm font-medium text-gray-700 mb-1"},"Payment Method",-1)),le(c("select",{"onUpdate:modelValue":Z[4]||(Z[4]=ie=>f.value=ie),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm"},[(B(!0),F(Re,null,Ke(o.value,ie=>(B(),F("option",{key:ie.id,value:ie.id},j(ie.name),9,nM))),128))],512),[[jt,f.value]])]),c("div",iM,[Z[23]||(Z[23]=c("label",{class:"block text-xs md:text-sm font-medium text-gray-700 mb-1"},"Amount Tendered",-1)),c("div",oM,[c("div",sM,[c("span",aM,j(t.currencySymbol),1)]),le(c("input",{type:"number","onUpdate:modelValue":Z[5]||(Z[5]=ie=>p.value=ie),step:"0.01",onKeydown:Z[6]||(Z[6]=ju(ie=>De.value&&Rn(),["enter"])),id:"amount-tendered-input",class:"block w-full rounded-md border-gray-300 pl-7 pr-12 focus:border-indigo-500 focus:ring-indigo-500 text-base md:text-lg font-bold",placeholder:"0.00"},null,544),[[Ee,p.value]])])]),c("div",{class:Ue(["mt-4 p-3 md:p-4 bg-gray-100 rounded-lg flex justify-between items-center",re.value<0?"bg-red-50 text-red-600":"bg-green-50 text-green-700"])},[Z[24]||(Z[24]=c("span",{class:"font-bold text-sm md:text-base"},"Change Due",-1)),c("span",lM,j(Pe(Math.max(0,re.value))),1)],2),re.value<0?(B(),F("div",uM," Short by "+j(Pe(Math.abs(re.value))),1)):_e("",!0),c("button",{onClick:Rn,disabled:!De.value,class:"w-full mt-4 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-white text-base md:text-lg font-bold py-3 md:py-4 rounded-xl shadow-lg hover:shadow-xl transition transform active:scale-95 flex items-center justify-center"},[v.value?(B(),F("span",dM,[...Z[25]||(Z[25]=[c("i",{class:"fas fa-spinner fa-spin"},null,-1),$e(" Processing... ",-1)])])):(B(),F("span",fM,"Charge "+j(Pe(D.value)),1))],8,cM),x.value>0?(B(),F("div",hM,j(x.value)+" Offline Orders Waiting Sync ",1)):_e("",!0)])])]))}},gM={class:"flex h-screen overflow-hidden font-sans"},vM={class:"w-1/2 bg-indigo-900 flex flex-col items-center justify-center text-white p-12 relative"},yM=["src"],mM={key:1,class:"text-6xl font-black tracking-tighter mb-4"},xM={class:"fixed bottom-4 left-4 flex items-center gap-2 text-xs opacity-50"},bM={class:"w-1/2 bg-white p-8 flex flex-col shadow-2xl h-full text-black"},_M={class:"flex-1 overflow-y-auto space-y-4 pr-2"},wM={key:0,class:"h-full flex items-center justify-center text-gray-400 text-lg"},AM={class:"font-bold text-xl text-gray-800"},CM={class:"text-gray-500"},EM={class:"font-bold text-xl text-gray-900"},SM={class:"mt-auto pt-6 border-t-2 border-gray-100 space-y-3"},IM={class:"flex justify-between text-xl text-gray-600"},TM={key:0,class:"flex justify-between text-xl text-gray-600"},OM={class:"flex justify-between text-4xl font-black text-indigo-900 py-4"},kM={key:1,class:"bg-indigo-50 p-4 rounded-xl space-y-2"},NM={class:"flex justify-between text-lg text-indigo-800"},RM={__name:"CustomerDisplay",props:{logoUrl:{type:String,default:null},tenantName:{type:String,default:"Store"},currencySymbol:{type:String,default:"$"}},setup(t){const e=t,r=ye(!1),n=ye({cart:[],subtotal:0,tax:0,total:0,amountTendered:0,change:0,taxRate:0,currencySymbol:e.currencySymbol}),i=()=>{const a=localStorage.getItem("pos_state");if(a)try{n.value=JSON.parse(a),r.value=!0}catch(l){console.error("Error parsing POS state",l)}},o=a=>{a.key==="pos_state"&&i()};kn(()=>{i(),window.addEventListener("storage",o)}),ao(()=>{window.removeEventListener("storage",o)});const s=a=>(n.value.currencySymbol||e.currencySymbol)+Number(a).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return(a,l)=>(B(),F("div",gM,[c("div",vM,[t.logoUrl?(B(),F("img",{key:0,src:t.logoUrl,class:"max-w-xs mb-8 rounded-xl shadow-2xl bg-white p-4"},null,8,yM)):(B(),F("h1",mM,j(t.tenantName),1)),l[0]||(l[0]=c("p",{class:"text-2xl opacity-75 text-center"},"Thank you for shopping with us!",-1)),c("div",xM,[c("div",{class:Ue(["w-2 h-2 rounded-full",r.value?"bg-green-400":"bg-red-400"])},null,2),c("span",null,j(r.value?"Connected":"Waiting for POS..."),1)])]),c("div",bM,[l[7]||(l[7]=c("h2",{class:"text-2xl font-bold text-gray-800 mb-6 border-b pb-4"},"Your Order",-1)),c("div",_M,[n.value.cart.length===0?(B(),F("div",wM," Processing... ")):_e("",!0),(B(!0),F(Re,null,Ke(n.value.cart,u=>(B(),F("div",{key:u.id||u.uniqueId,class:"flex justify-between items-center py-2 border-b border-gray-50 last:border-0"},[c("div",null,[c("div",AM,j(u.name),1),c("div",CM,[c("span",null,j(u.quantity),1),l[1]||(l[1]=$e(" x ",-1)),c("span",null,j(s(u.price)),1)])]),c("div",EM,j(s(u.price*u.quantity)),1)]))),128))]),c("div",SM,[c("div",IM,[l[2]||(l[2]=c("span",null,"Subtotal",-1)),c("span",null,j(s(n.value.subtotal||0)),1)]),n.value.tax>0?(B(),F("div",TM,[l[3]||(l[3]=c("span",null,"Tax",-1)),c("span",null,j(s(n.value.tax||0)),1)])):_e("",!0),c("div",OM,[l[4]||(l[4]=c("span",null,"Total",-1)),c("span",null,j(s(n.value.total||0)),1)]),n.value.amountTendered>0?(B(),F("div",kM,[c("div",NM,[l[5]||(l[5]=c("span",null,"Paid",-1)),c("span",null,j(s(n.value.amountTendered)),1)]),c("div",{class:Ue(["flex justify-between text-2xl font-bold",n.value.change<0?"text-red-600":"text-green-600"])},[l[6]||(l[6]=c("span",null,"Change",-1)),c("span",null,j(s(Math.max(0,n.value.change))),1)],2)])):_e("",!0)])])]))}},PM={class:"space-y-6"},DM={class:"flex justify-between items-center mb-6"},MM=["disabled"],BM={key:0,class:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"},FM={key:0,class:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 relative"},LM={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 relative"},$M={key:0,class:"list-disc pl-5"},UM={key:1},VM={class:"border-b border-gray-200 overflow-x-auto"},jM={class:"-mb-px flex space-x-8"},HM=["onClick"],WM={class:"mt-6"},KM={class:"space-y-6"},qM={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},GM={class:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},zM={class:"grid grid-cols-2 gap-4"},XM={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},YM={class:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},ZM={class:"md:col-span-2"},JM={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},QM={class:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},eB={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},tB={class:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},rB={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},nB={class:"p-6 space-y-4"},iB={class:"flex items-start"},oB={class:"flex items-center h-5"},sB={class:"flex items-start border-t border-gray-100 pt-4"},aB={class:"flex items-center h-5"},lB={class:"space-y-6"},uB={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},cB={class:"mb-6"},fB={class:"flex items-center space-x-4"},dB={class:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center overflow-hidden"},hB=["src"],pB={key:1,class:"text-gray-400 text-xs"},gB={class:"mb-6"},vB={class:"flex items-center space-x-4"},yB={class:"flex-shrink-0 w-12 h-12 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center overflow-hidden"},mB=["src"],xB={key:1,class:"text-gray-400 text-xs"},bB={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},_B={class:"space-y-6"},wB={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},AB={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},CB={class:"flex items-center justify-between mb-4"},EB={class:"font-bold text-gray-700 uppercase"},SB={class:"relative inline-flex items-center cursor-pointer"},IB=["onUpdate:modelValue"],TB={class:"space-y-3"},OB=["onUpdate:modelValue"],kB=["onUpdate:modelValue"],NB=["onUpdate:modelValue"],RB={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},PB={class:"flex justify-between items-center mb-4 border-b pb-2"},DB={class:"overflow-x-auto"},MB={class:"min-w-full divide-y divide-gray-200"},BB={class:"divide-y divide-gray-200"},FB={class:"px-4 py-2 text-sm"},LB={class:"px-4 py-2 text-sm uppercase"},$B={class:"px-4 py-2 text-sm text-gray-600"},UB={class:"px-4 py-2 text-sm text-gray-600"},VB={class:"px-4 py-2 text-right text-sm"},jB=["onClick"],HB={key:0},WB={class:"space-y-6"},KB={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},qB={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},GB={class:"mt-6 pt-6 border-t border-gray-200"},zB={class:"flex items-end gap-4"},XB={class:"flex-1"},YB={class:"space-y-6"},ZB={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},JB={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col"},QB={class:"mt-4 pt-4 border-t border-gray-100"},eF=["href"],tF={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col"},rF={class:"mt-4 pt-4 border-t border-gray-100"},nF=["href"],iF={class:"space-y-6"},oF={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},sF={class:"flex justify-between items-center mb-6"},aF=["href"],lF={class:"text-center py-8"},uF={class:"mt-6"},cF=["href"],fF={class:"space-y-4"},dF={key:0,class:"space-y-3"},hF={class:"flex items-center mt-4"},pF={key:0,class:"mt-2"},gF=["disabled"],vF={__name:"GeneralSettings",props:{initialSettings:{type:Object,required:!0,default:()=>({})},tenantName:{type:String,default:""},paymentTypes:{type:Array,default:()=>[]},initialStorefrontStatus:{type:Boolean,default:!1},hasFeature:{type:Boolean,default:!1},tenantSlug:{type:String,default:""},defaultTab:{type:String,default:"general"},routes:{type:Object,required:!0},csrfToken:String,currentUserEmail:String},setup(t){const e=t,r=ye(e.defaultTab),n=ye(!1),i=ye(""),o=ye(""),s=ye(!1),a=ye(!1),l=ye([...e.paymentTypes]),u=ye(e.currentUserEmail||""),f=["opay","moniepoint","paystack","flutterwave"],d=[{id:"general",name:"General"},{id:"branding",name:"Branding"},{id:"payments",name:"Payments"},{id:"integrations",name:"Integrations"},{id:"storefront",name:"Storefront & CMS"},{id:"tax",name:"Tax"}],p=yr({store_name:e.tenantName,currency_code:e.initialSettings.currency_code||"NGN",currency_symbol:e.initialSettings.currency_symbol||"â‚¦",company_address:e.initialSettings.company_address||"",company_email:e.initialSettings.company_email||"",company_phone:e.initialSettings.company_phone||"",po_prefix:e.initialSettings.po_prefix||"PO-",invoice_prefix:e.initialSettings.invoice_prefix||"INV-",shipping_cost:e.initialSettings.shipping_cost||"0",free_shipping_threshold:e.initialSettings.free_shipping_threshold||"0",hide_powered_by:!!e.initialSettings.hide_powered_by,guest_checkout:e.initialSettings.guest_checkout!==void 0?!!e.initialSettings.guest_checkout:!0,primary_color:e.initialSettings.primary_color||"#4f46e5",mail_host:e.initialSettings.mail_host||"",mail_port:e.initialSettings.mail_port||"587",mail_username:e.initialSettings.mail_username||"",mail_password:e.initialSettings.mail_password||"",mail_encryption:e.initialSettings.mail_encryption||"tls",mail_from_address:e.initialSettings.mail_from_address||"",gateway_opay_active:!!e.initialSettings.gateway_opay_active,gateway_opay_public_key:e.initialSettings.gateway_opay_public_key||"",gateway_opay_secret_key:e.initialSettings.gateway_opay_secret_key||"",gateway_opay_merchant_id:e.initialSettings.gateway_opay_merchant_id||"",gateway_moniepoint_active:!!e.initialSettings.gateway_moniepoint_active,gateway_moniepoint_public_key:e.initialSettings.gateway_moniepoint_public_key||"",gateway_moniepoint_secret_key:e.initialSettings.gateway_moniepoint_secret_key||"",gateway_moniepoint_merchant_id:e.initialSettings.gateway_moniepoint_merchant_id||"",gateway_paystack_active:!!e.initialSettings.gateway_paystack_active,gateway_paystack_public_key:e.initialSettings.gateway_paystack_public_key||"",gateway_paystack_secret_key:e.initialSettings.gateway_paystack_secret_key||"",gateway_flutterwave_active:!!e.initialSettings.gateway_flutterwave_active,gateway_flutterwave_public_key:e.initialSettings.gateway_flutterwave_public_key||"",gateway_flutterwave_secret_key:e.initialSettings.gateway_flutterwave_secret_key||""}),v=ye(null),y=ye(null),b=ye(e.initialSettings.logo?e.routes.media+"?path="+e.initialSettings.logo:null),x=ye(e.initialSettings.favicon?e.routes.media+"?path="+e.initialSettings.favicon:null),w=yr({name:"",type:"cash",bank_name:"",account_number:"",account_name:"",require_gateway:!1,gateway_provider:""}),C=(T,I)=>{const k=T.target.files[0];if(k){const V=new FileReader;V.onload=ue=>{I==="logo"?(b.value=ue.target.result,v.value=k):(x.value=ue.target.result,y.value=k)},V.readAsDataURL(k)}},_=async()=>{n.value=!0,o.value="",i.value="";const T=new FormData;for(const I in p)typeof p[I]=="boolean"?T.append(I,p[I]?"1":"0"):T.append(I,p[I]||"");v.value&&T.append("logo",v.value),y.value&&T.append("favicon",y.value);try{await st.post(e.routes.update,T,{headers:{"Content-Type":"multipart/form-data"}}),window.location.reload()}catch(I){console.error(I),I.response&&I.response.data&&I.response.data.errors?o.value=I.response.data.errors:o.value="Failed to update settings. Please try again.",n.value=!1}},E=async()=>{a.value=!0;try{const T=await st.post(e.routes.paymentTypesStore,w,{headers:{Accept:"application/json"}});T.data.success&&(l.value.push(T.data.payment_type),s.value=!1,w.name="",w.type="cash",w.bank_name="",w.account_number="",w.account_name="",w.require_gateway=!1,w.gateway_provider="",i.value=T.data.message)}catch(T){console.error(T),alert("Failed to create payment type.")}finally{a.value=!1}},N=async T=>{if(confirm("Are you sure you want to delete this payment type?"))try{const I=e.routes.paymentTypesDestroy.replace(":id",T),k=await st.delete(I,{headers:{Accept:"application/json"}});k.data.success&&(l.value=l.value.filter(V=>V.id!==T),i.value=k.data.message)}catch(I){console.error(I),alert("Failed to delete payment type.")}},M=async()=>{if(!u.value){alert("Please enter an email address.");return}try{const T=await st.post(e.routes.testEmail,{test_email:u.value});T.data.success?alert(T.data.message):alert(T.data.message||"Email sent (check logs if not received).")}catch(T){console.error(T);const I=T.response?.data?.message||"Failed to send test email. Check logs or ensure settings are SAVED.";alert(I)}};return(T,I)=>(B(),F("div",PM,[c("div",DM,[I[34]||(I[34]=c("div",null,[c("h2",{class:"text-2xl font-bold text-gray-800"},"Settings"),c("p",{class:"text-gray-600"},"Manage your store configuration.")],-1)),c("button",{onClick:_,disabled:n.value,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg transition shadow-md disabled:opacity-50 flex items-center gap-2"},[n.value?(B(),F("span",BM)):_e("",!0),$e(" "+j(n.value?"Saving...":"Save Changes"),1)],8,MM)]),i.value?(B(),F("div",FM,[$e(j(i.value)+" ",1),c("button",{onClick:I[0]||(I[0]=k=>i.value=""),class:"absolute top-2 right-2 text-green-500 hover:text-green-700"},"Ã—")])):_e("",!0),o.value?(B(),F("div",LM,[typeof o.value=="object"?(B(),F("ul",$M,[(B(!0),F(Re,null,Ke(o.value,(k,V)=>(B(),F("li",{key:V},j(k),1))),128))])):(B(),F("span",UM,j(o.value),1)),c("button",{onClick:I[1]||(I[1]=k=>o.value=""),class:"absolute top-2 right-2 text-red-500 hover:text-red-700"},"Ã—")])):_e("",!0),c("div",VM,[c("nav",jM,[(B(),F(Re,null,Ke(d,k=>c("button",{key:k.id,onClick:V=>r.value=k.id,class:Ue([r.value===k.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},j(k.name),11,HM)),64))])]),c("div",WM,[le(c("div",KM,[c("div",qM,[I[38]||(I[38]=c("div",{class:"px-6 py-4 border-b border-gray-100 bg-gray-50/50"},[c("h3",{class:"text-lg font-bold text-gray-900"},"Store Identity"),c("p",{class:"text-sm text-gray-500"},"Basic information about your store.")],-1)),c("div",GM,[c("div",null,[I[35]||(I[35]=c("label",{class:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2"},"Store Name",-1)),le(c("input",{"onUpdate:modelValue":I[2]||(I[2]=k=>p.store_name=k),type:"text",class:"block w-full rounded-xl border-3 border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 py-3 text-base font-medium transition-all"},null,512),[[Ee,p.store_name]])]),c("div",zM,[c("div",null,[I[36]||(I[36]=c("label",{class:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2"},"Currency Code",-1)),le(c("input",{"onUpdate:modelValue":I[3]||(I[3]=k=>p.currency_code=k),type:"text",class:"block w-full rounded-xl border-3 border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 py-3 text-base font-medium transition-all uppercase"},null,512),[[Ee,p.currency_code]])]),c("div",null,[I[37]||(I[37]=c("label",{class:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2"},"Symbol",-1)),le(c("input",{"onUpdate:modelValue":I[4]||(I[4]=k=>p.currency_symbol=k),type:"text",class:"block w-full rounded-xl border-3 border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 py-3 text-base font-medium transition-all"},null,512),[[Ee,p.currency_symbol]])])])])]),c("div",XM,[I[42]||(I[42]=c("div",{class:"px-6 py-4 border-b border-gray-100 bg-gray-50/50"},[c("h3",{class:"text-lg font-bold text-gray-900"},"Contact Information"),c("p",{class:"text-sm text-gray-500"},"Displayed on Invoices and Purchase Orders.")],-1)),c("div",YM,[c("div",ZM,[I[39]||(I[39]=c("label",{class:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2"},"Company Address",-1)),le(c("textarea",{"onUpdate:modelValue":I[5]||(I[5]=k=>p.company_address=k),rows:"3",class:"block w-full rounded-xl border-3 border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 py-3 text-base font-medium transition-all"},null,512),[[Ee,p.company_address]])]),c("div",null,[I[40]||(I[40]=c("label",{class:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2"},"Company Email",-1)),le(c("input",{"onUpdate:modelValue":I[6]||(I[6]=k=>p.company_email=k),type:"email",class:"block w-full rounded-xl border-3 border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 py-3 text-base font-medium transition-all"},null,512),[[Ee,p.company_email]])]),c("div",null,[I[41]||(I[41]=c("label",{class:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2"},"Company Phone",-1)),le(c("input",{"onUpdate:modelValue":I[7]||(I[7]=k=>p.company_phone=k),type:"text",class:"block w-full rounded-xl border-3 border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 py-3 text-base font-medium transition-all"},null,512),[[Ee,p.company_phone]])])])]),c("div",JM,[I[45]||(I[45]=c("div",{class:"px-6 py-4 border-b border-gray-100 bg-gray-50/50"},[c("h3",{class:"text-lg font-bold text-gray-900"},"Document Defaults"),c("p",{class:"text-sm text-gray-500"},"Set default prefixes for your documents.")],-1)),c("div",QM,[c("div",null,[I[43]||(I[43]=c("label",{class:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2"},"PO Prefix",-1)),le(c("input",{"onUpdate:modelValue":I[8]||(I[8]=k=>p.po_prefix=k),type:"text",class:"block w-full rounded-xl border-3 border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 py-3 text-base font-medium transition-all"},null,512),[[Ee,p.po_prefix]])]),c("div",null,[I[44]||(I[44]=c("label",{class:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2"},"Invoice Prefix",-1)),le(c("input",{"onUpdate:modelValue":I[9]||(I[9]=k=>p.invoice_prefix=k),type:"text",class:"block w-full rounded-xl border-3 border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 py-3 text-base font-medium transition-all"},null,512),[[Ee,p.invoice_prefix]])])])]),c("div",eB,[I[49]||(I[49]=c("div",{class:"px-6 py-4 border-b border-gray-100 bg-gray-50/50"},[c("h3",{class:"text-lg font-bold text-gray-900"},"Shipping Configuration"),c("p",{class:"text-sm text-gray-500"},"Configure default shipping rates.")],-1)),c("div",tB,[c("div",null,[I[46]||(I[46]=c("label",{class:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2"},"Flat Rate Shipping Cost",-1)),le(c("input",{"onUpdate:modelValue":I[10]||(I[10]=k=>p.shipping_cost=k),type:"number",step:"0.01",class:"block w-full rounded-xl border-3 border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 py-3 text-base font-medium transition-all"},null,512),[[Ee,p.shipping_cost]])]),c("div",null,[I[47]||(I[47]=c("label",{class:"block text-sm font-bold text-gray-700 uppercase tracking-wide mb-2"},"Free Shipping Threshold",-1)),le(c("input",{"onUpdate:modelValue":I[11]||(I[11]=k=>p.free_shipping_threshold=k),type:"number",step:"0.01",class:"block w-full rounded-xl border-3 border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 py-3 text-base font-medium transition-all"},null,512),[[Ee,p.free_shipping_threshold]]),I[48]||(I[48]=c("p",{class:"text-xs text-gray-500 mt-1"},"Orders above this amount will have free shipping. Set to 0 to disable.",-1))])])]),c("div",rB,[I[52]||(I[52]=c("div",{class:"px-6 py-4 border-b border-gray-100 bg-gray-50/50"},[c("h3",{class:"text-lg font-bold text-gray-900"},"White Label & Features")],-1)),c("div",nB,[c("div",iB,[c("div",oB,[le(c("input",{"onUpdate:modelValue":I[12]||(I[12]=k=>p.hide_powered_by=k),id:"hide_powered_by",type:"checkbox",class:"focus:ring-indigo-500 h-5 w-5 text-indigo-600 border-gray-300 rounded focus:ring-offset-0"},null,512),[[tn,p.hide_powered_by]])]),I[50]||(I[50]=c("div",{class:"ml-3 text-sm"},[c("label",{for:"hide_powered_by",class:"font-bold text-gray-700"},'Remove "Powered by" Branding'),c("p",{class:"text-gray-500"},"Hide the platform branding from the footer.")],-1))]),c("div",sB,[c("div",aB,[le(c("input",{"onUpdate:modelValue":I[13]||(I[13]=k=>p.guest_checkout=k),id:"guest_checkout",type:"checkbox",class:"focus:ring-indigo-500 h-5 w-5 text-indigo-600 border-gray-300 rounded focus:ring-offset-0"},null,512),[[tn,p.guest_checkout]])]),I[51]||(I[51]=c("div",{class:"ml-3 text-sm"},[c("label",{for:"guest_checkout",class:"font-bold text-gray-700"},"Enable Guest Checkout"),c("p",{class:"text-gray-500"},"Allow customers to purchase without creating an account.")],-1))])])])],512),[[Rt,r.value==="general"]]),le(c("div",lB,[c("div",uB,[c("div",cB,[I[53]||(I[53]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Store Logo",-1)),c("div",fB,[c("div",dB,[b.value?(B(),F("img",{key:0,src:b.value,alt:"Store Logo",class:"max-w-full max-h-full object-contain"},null,8,hB)):(B(),F("span",pB,"No Logo"))]),c("input",{type:"file",onChange:I[14]||(I[14]=k=>C(k,"logo")),accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:bg-indigo-50 file:text-indigo-700"},null,32)])]),c("div",gB,[I[54]||(I[54]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Favicon",-1)),c("div",vB,[c("div",yB,[x.value?(B(),F("img",{key:0,src:x.value,alt:"Favicon",class:"w-8 h-8 object-contain"},null,8,mB)):(B(),F("span",xB,"None"))]),c("input",{type:"file",onChange:I[15]||(I[15]=k=>C(k,"favicon")),accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:bg-indigo-50 file:text-indigo-700"},null,32)])])]),c("div",bB,[I[55]||(I[55]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Primary Color",-1)),le(c("input",{"onUpdate:modelValue":I[16]||(I[16]=k=>p.primary_color=k),type:"color",class:"h-10 w-32 rounded-md border-gray-300 p-1"},null,512),[[Ee,p.primary_color]])])],512),[[Rt,r.value==="branding"]]),le(c("div",_B,[c("div",wB,[I[57]||(I[57]=c("h3",{class:"text-lg font-semibold text-gray-800 mb-4 border-b pb-2"},"Payment Gateways",-1)),c("div",AB,[(B(),F(Re,null,Ke(f,k=>c("div",{key:k,class:"border rounded-lg p-4 bg-gray-50"},[c("div",CB,[c("span",EB,j(k),1),c("label",SB,[le(c("input",{type:"checkbox","onUpdate:modelValue":V=>p["gateway_"+k+"_active"]=V,class:"sr-only peer"},null,8,IB),[[tn,p["gateway_"+k+"_active"]]]),I[56]||(I[56]=c("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none ring-0 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"},null,-1))])]),c("div",TB,[le(c("input",{"onUpdate:modelValue":V=>p["gateway_"+k+"_public_key"]=V,type:"text",placeholder:"Public Key",class:"block w-full text-xs rounded-md border-gray-300"},null,8,OB),[[Ee,p["gateway_"+k+"_public_key"]]]),le(c("input",{"onUpdate:modelValue":V=>p["gateway_"+k+"_secret_key"]=V,type:"password",placeholder:"Secret Key",class:"block w-full text-xs rounded-md border-gray-300"},null,8,kB),[[Ee,p["gateway_"+k+"_secret_key"]]]),["opay","moniepoint"].includes(k)?le((B(),F("input",{key:0,"onUpdate:modelValue":V=>p["gateway_"+k+"_merchant_id"]=V,type:"text",placeholder:"Merchant ID",class:"block w-full text-xs rounded-md border-gray-300"},null,8,NB)),[[Ee,p["gateway_"+k+"_merchant_id"]]]):_e("",!0)])])),64))])]),c("div",RB,[c("div",PB,[I[58]||(I[58]=c("h3",{class:"text-lg font-semibold text-gray-800"},"Payment Types",-1)),c("button",{type:"button",onClick:I[17]||(I[17]=k=>s.value=!0),class:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded hover:bg-indigo-200 text-sm font-medium"},"+ Add Payment Type")]),c("div",DB,[c("table",MB,[I[60]||(I[60]=c("thead",null,[c("tr",null,[c("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Name"),c("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Type"),c("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"GL Account"),c("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Gateway"),c("th",{class:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase"},"Action")])],-1)),c("tbody",BB,[(B(!0),F(Re,null,Ke(l.value,k=>(B(),F("tr",{key:k.id},[c("td",FB,j(k.name),1),c("td",LB,j(k.type),1),c("td",$B,j(k.account?k.account.account_code+" - "+k.account.account_name:"-"),1),c("td",UB,j(k.require_gateway?k.gateway_provider||"Linked":"-"),1),c("td",VB,[c("button",{onClick:V=>N(k.id),class:"text-red-600 hover:text-red-900 border-none bg-transparent cursor-pointer"},"Delete",8,jB)])]))),128)),l.value.length===0?(B(),F("tr",HB,[...I[59]||(I[59]=[c("td",{colspan:"5",class:"px-4 py-4 text-center text-sm text-gray-500"},"No payment types registered.",-1)])])):_e("",!0)])])])])],512),[[Rt,r.value==="payments"]]),le(c("div",WB,[c("div",KB,[I[71]||(I[71]=c("h3",{class:"text-lg font-semibold text-gray-800 mb-4 border-b pb-2"},"SMTP Mail Settings",-1)),c("div",qB,[c("div",null,[I[61]||(I[61]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Mail Host",-1)),le(c("input",{"onUpdate:modelValue":I[18]||(I[18]=k=>p.mail_host=k),type:"text",class:"block w-full rounded-md border-gray-300"},null,512),[[Ee,p.mail_host]])]),c("div",null,[I[62]||(I[62]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Mail Port",-1)),le(c("input",{"onUpdate:modelValue":I[19]||(I[19]=k=>p.mail_port=k),type:"number",class:"block w-full rounded-md border-gray-300"},null,512),[[Ee,p.mail_port]])]),c("div",null,[I[63]||(I[63]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Username",-1)),le(c("input",{"onUpdate:modelValue":I[20]||(I[20]=k=>p.mail_username=k),type:"text",class:"block w-full rounded-md border-gray-300"},null,512),[[Ee,p.mail_username]])]),c("div",null,[I[64]||(I[64]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password",-1)),le(c("input",{"onUpdate:modelValue":I[21]||(I[21]=k=>p.mail_password=k),type:"password",class:"block w-full rounded-md border-gray-300"},null,512),[[Ee,p.mail_password]])]),c("div",null,[I[66]||(I[66]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Encryption",-1)),le(c("select",{"onUpdate:modelValue":I[22]||(I[22]=k=>p.mail_encryption=k),class:"block w-full rounded-md border-gray-300"},[...I[65]||(I[65]=[c("option",{value:"tls"},"TLS",-1),c("option",{value:"ssl"},"SSL",-1),c("option",{value:""},"None",-1)])],512),[[jt,p.mail_encryption]])]),c("div",null,[I[67]||(I[67]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"From Address",-1)),le(c("input",{"onUpdate:modelValue":I[23]||(I[23]=k=>p.mail_from_address=k),type:"email",class:"block w-full rounded-md border-gray-300"},null,512),[[Ee,p.mail_from_address]])])]),c("div",GB,[I[69]||(I[69]=c("h4",{class:"text-md font-medium text-gray-900 mb-2"},"Test Configuration",-1)),c("div",zB,[c("div",XB,[I[68]||(I[68]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Send Test Email To",-1)),le(c("input",{"onUpdate:modelValue":I[24]||(I[24]=k=>u.value=k),type:"email",class:"block w-full rounded-md border-gray-300"},null,512),[[Ee,u.value]])]),c("button",{onClick:M,type:"button",class:"bg-gray-800 hover:bg-gray-900 text-white font-medium py-2 px-4 rounded-md transition self-end"}," Send Test Email ")]),I[70]||(I[70]=c("p",{class:"text-xs text-gray-500 mt-2"},[$e("Note: This tests your "),c("strong",null,"SAVED"),$e(" settings. Please save any changes before testing.")],-1))])])],512),[[Rt,r.value==="integrations"]]),le(c("div",YB,[tt(j2,{"initial-status":t.initialStorefrontStatus,"has-feature":t.hasFeature,"tenant-slug":t.tenantSlug},null,8,["initial-status","has-feature","tenant-slug"]),c("div",ZB,[c("div",JB,[I[72]||(I[72]=ro('<div class="flex items-center mb-4"><div class="p-3 bg-indigo-100 rounded-lg text-indigo-600 mr-4"><i class="fas fa-edit text-2xl"></i></div><div><h3 class="text-lg font-bold text-gray-900">Visual Editor</h3><p class="text-sm text-gray-500">Customize your storefront&#39;s look and feel.</p></div></div><div class="flex-grow"><p class="text-gray-600 text-sm mb-4">Use our visual editor to change colors, fonts, layouts, and content directly on your storefront.</p></div>',2)),c("div",QB,[c("a",{href:t.routes.storefrontHome,target:"_blank",class:"block w-full text-center bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition"},"Launch Visual Editor â†—",8,eF)])]),c("div",tF,[I[73]||(I[73]=ro('<div class="flex items-center mb-4"><div class="p-3 bg-green-100 rounded-lg text-green-600 mr-4"><i class="fas fa-magic text-2xl"></i></div><div><h3 class="text-lg font-bold text-gray-900">Setup Wizard</h3><p class="text-sm text-gray-500">Restart the store configuration wizard.</p></div></div><div class="flex-grow"><p class="text-gray-600 text-sm mb-4">Re-run the step-by-step wizard to reset your industry, catalog, and basic branding settings.</p></div>',2)),c("div",rF,[c("a",{href:t.routes.wizardIndex,class:"block w-full text-center bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-bold py-2 px-4 rounded-lg transition"},"Restart Wizard",8,nF)])])])],512),[[Rt,r.value==="storefront"]]),le(c("div",iF,[c("div",oF,[c("div",sF,[I[74]||(I[74]=c("div",null,[c("h3",{class:"text-lg font-semibold text-gray-800"},"Tax Code Management"),c("p",{class:"text-sm text-gray-500 mt-1"},"Manage tax codes with auto-generated GL accounts")],-1)),c("a",{href:t.routes.taxCodesCreate,class:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition"},"+ Add Tax Code",8,aF)]),I[78]||(I[78]=c("div",{class:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 rounded"},[c("p",{class:"text-sm text-blue-800"},[c("strong",null,"Note:"),$e(" Tax codes are now managed separately with automatic GL account generation."),c("br"),$e(" â€¢ Sales Tax â†’ 2100 series (Sales Tax Payable - Liability)"),c("br"),$e(" â€¢ Purchase Tax â†’ 1300 series (Input Tax Receivable - Asset) ")])],-1)),c("div",lF,[I[75]||(I[75]=c("i",{class:"fas fa-money-bill-wave mx-auto h-12 w-12 text-gray-400 text-5xl"},null,-1)),I[76]||(I[76]=c("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Tax Code Management",-1)),I[77]||(I[77]=c("p",{class:"mt-1 text-sm text-gray-500"},"Click the button below to manage your tax codes",-1)),c("div",uF,[c("a",{href:t.routes.taxCodesIndex,class:"inline-flex items-center px-6 py-3 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700"}," Manage Tax Codes ",8,cF)])])])],512),[[Rt,r.value==="tax"]])]),tt(Uo,{show:s.value,title:"Add Payment Type",onClose:I[33]||(I[33]=k=>s.value=!1)},{footer:Cr(()=>[c("button",{onClick:I[32]||(I[32]=k=>s.value=!1),class:"bg-gray-200 text-gray-700 px-4 py-2 rounded text-sm hover:bg-gray-300 mr-2"},"Cancel"),c("button",{onClick:E,disabled:a.value,class:"bg-indigo-600 text-white px-4 py-2 rounded text-sm hover:bg-indigo-700 disabled:opacity-50"},j(a.value?"Creating...":"Create"),9,gF)]),default:Cr(()=>[c("div",fF,[c("div",null,[I[79]||(I[79]=c("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),le(c("input",{"onUpdate:modelValue":I[25]||(I[25]=k=>w.name=k),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm"},null,512),[[Ee,w.name]])]),c("div",null,[I[81]||(I[81]=c("label",{class:"block text-sm font-medium text-gray-700"},"Type",-1)),le(c("select",{"onUpdate:modelValue":I[26]||(I[26]=k=>w.type=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm"},[...I[80]||(I[80]=[c("option",{value:"cash"},"Cash",-1),c("option",{value:"bank"},"Bank Transfer",-1)])],512),[[jt,w.type]])]),w.type==="bank"?(B(),F("div",dF,[le(c("input",{"onUpdate:modelValue":I[27]||(I[27]=k=>w.bank_name=k),type:"text",placeholder:"Bank Name",class:"block w-full rounded-md border-gray-300 shadow-sm sm:text-sm"},null,512),[[Ee,w.bank_name]]),le(c("input",{"onUpdate:modelValue":I[28]||(I[28]=k=>w.account_number=k),type:"text",placeholder:"Account Number",class:"block w-full rounded-md border-gray-300 shadow-sm sm:text-sm"},null,512),[[Ee,w.account_number]]),le(c("input",{"onUpdate:modelValue":I[29]||(I[29]=k=>w.account_name=k),type:"text",placeholder:"Account Name",class:"block w-full rounded-md border-gray-300 shadow-sm sm:text-sm"},null,512),[[Ee,w.account_name]])])):_e("",!0),c("div",null,[c("div",hF,[le(c("input",{"onUpdate:modelValue":I[30]||(I[30]=k=>w.require_gateway=k),type:"checkbox",id:"req_gw_modal",class:"h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,512),[[tn,w.require_gateway]]),I[82]||(I[82]=c("label",{for:"req_gw_modal",class:"ml-2 block text-sm text-gray-900"},"Link to Payment Gateway",-1))]),w.require_gateway?(B(),F("div",pF,[le(c("select",{"onUpdate:modelValue":I[31]||(I[31]=k=>w.gateway_provider=k),class:"block w-full rounded-md border-gray-300 shadow-sm sm:text-sm"},[...I[83]||(I[83]=[c("option",{value:""},"Select Provider...",-1),c("option",{value:"opay"},"Opay",-1),c("option",{value:"moniepoint"},"Moniepoint",-1),c("option",{value:"paystack"},"Paystack",-1),c("option",{value:"flutterwave"},"Flutterwave",-1)])],512),[[jt,w.gateway_provider]])])):_e("",!0)])])]),_:1},8,["show"])]))}},yF={class:"space-y-4"},mF={class:"bg-gray-50/50 p-6 rounded-2xl border border-gray-100"},xF={class:"space-y-4"},bF={class:"flex items-center justify-between"},_F={class:"flex items-center gap-4 flex-1"},wF={class:"flex flex-col flex-1"},AF={class:"text-base font-bold text-[#0A2540]"},CF={key:0,class:"mt-2 text-sm"},EF=["onUpdate:modelValue"],SF={class:"flex items-center"},IF=["onClick"],TF={key:0,class:"ml-10 mt-6 space-y-3 border-l-2 border-gray-50 pl-6"},OF={class:"flex items-center gap-3"},kF={class:"text-sm font-medium text-gray-600"},NF=["onUpdate:modelValue"],RF=["onClick"],PF={__name:"CatalogCurator",props:{modelValue:{type:Array,required:!0,default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,n=e,i=ye(r.modelValue);Vn(()=>r.modelValue,s=>{i.value=s},{deep:!0}),Vn(i,s=>{n("update:modelValue",s)},{deep:!0});const o=s=>{s.is_visible_online=!s.is_visible_online,!s.is_visible_online&&s.children&&s.children.forEach(a=>{a.is_visible_online=!1})};return(s,a)=>(B(),F("div",yF,[c("div",mF,[a[1]||(a[1]=c("h3",{class:"text-xl font-bold text-[#0A2540] mb-2"},"Build Your Online Menu",-1)),a[2]||(a[2]=c("p",{class:"text-sm text-gray-500 mb-8"},"Select which categories appear on your storefront. We've auto-hidden internal categories like 'Raw Materials'.",-1)),c("ul",xF,[(B(!0),F(Re,null,Ke(i.value,l=>(B(),F("li",{key:l.id,class:"bg-white border border-gray-100 rounded-2xl p-5 shadow-sm hover:shadow-md transition-shadow"},[c("div",bF,[c("div",_F,[a[0]||(a[0]=c("div",{class:"cursor-move text-gray-300 hover:text-gray-400"},[c("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[c("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)),c("div",wF,[c("span",AF,j(l.name),1),l.is_visible_online?(B(),F("div",CF,[le(c("input",{type:"text","onUpdate:modelValue":u=>l.public_display_name=u,class:"w-full max-w-xs text-sm border-gray-100 bg-gray-50 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#0A2540]/10 focus:border-[#0A2540] transition-all",placeholder:"Display name for customers..."},null,8,EF),[[Ee,l.public_display_name]])])):_e("",!0)])]),c("div",SF,[c("button",{type:"button",class:Ue(["relative inline-flex h-7 w-12 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",l.is_visible_online?"bg-[#0A2540]":"bg-gray-200"]),onClick:u=>o(l)},[c("span",{"aria-hidden":"true",class:Ue(["pointer-events-none inline-block h-6 w-6 transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out",l.is_visible_online?"translate-x-5":"translate-x-0"])},null,2)],10,IF)])]),l.children&&l.children.length>0&&l.is_visible_online?(B(),F("ul",TF,[(B(!0),F(Re,null,Ke(l.children,u=>(B(),F("li",{key:u.id,class:"flex items-center justify-between py-2 group"},[c("div",OF,[c("span",kF,j(u.name),1),le(c("input",{type:"text","onUpdate:modelValue":f=>u.public_display_name=f,class:"ml-2 text-xs border-gray-100 bg-gray-50 rounded-lg px-3 py-1 focus:ring-2 focus:ring-[#0A2540]/10 focus:border-[#0A2540] transition-all",placeholder:"Display name..."},null,8,NF),[[Ee,u.public_display_name],[Rt,u.is_visible_online]])]),c("button",{type:"button",class:Ue(["relative inline-flex h-6 w-10 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out",u.is_visible_online?"bg-[#0A2540]":"bg-gray-200"]),onClick:f=>o(u)},[c("span",{"aria-hidden":"true",class:Ue(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",u.is_visible_online?"translate-x-4":"translate-x-0"])},null,2)],10,RF)]))),128))])):_e("",!0)]))),128))])])]))}},DF={class:"py-12"},MF={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},BF={class:"mb-12"},FF={class:"flex items-center space-x-4"},LF={class:"stepper-segment bg-gray-200"},$F={class:"mt-3 flex items-center"},UF={class:"bg-white overflow-hidden wizard-card border border-gray-100 p-6 text-gray-900 rounded-2xl shadow-lg"},VF={key:0,class:"animate-fade-in-right"},jF={class:"space-y-6"},HF={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},WF={class:"flex items-center gap-3 mt-1"},KF={class:"relative"},qF={class:"mt-1 flex items-center justify-center px-6 pt-5 pb-6 border-2 border-gray-100 border-dashed rounded-xl hover:border-[#0A2540] transition-colors group cursor-pointer relative"},GF={class:"space-y-1 text-center"},zF={key:0,class:"text-xs text-green-600 font-bold mt-2"},XF={key:1,class:"animate-fade-in-right"},YF={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-6"},ZF=["onClick"],JF={class:"flex justify-between items-start mb-4"},QF={class:"text-5xl group-hover:scale-110 transition-transform duration-500"},eL={class:"text-white bg-[#0A2540] rounded-full p-1 shadow-md"},tL={class:"font-bold text-[#0A2540] text-lg"},rL={class:"text-sm text-gray-500 mt-2 leading-relaxed"},nL={key:2,class:"animate-fade-in-right"},iL={key:3,class:"animate-fade-in-right"},oL={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},sL=["onClick"],aL={class:"bg-gray-50 h-40 border-b border-gray-100 relative group-hover:bg-gray-100 transition-colors"},lL=["innerHTML"],uL={class:"absolute top-3 right-3 text-white bg-[#0A2540] rounded-full p-1.5 shadow-lg"},cL={class:"p-5 flex-1 flex flex-col"},fL={class:"font-bold text-[#0A2540] text-lg"},dL={class:"text-xs text-gray-500 mt-2 mb-4 leading-relaxed flex-1"},hL={class:"flex gap-2 flex-wrap"},pL={key:0,class:"mt-12 rounded-2xl overflow-hidden shadow-2xl border border-gray-800"},gL={class:"bg-[#1a1a2e] p-6 text-xs font-mono leading-relaxed"},vL={class:"text-blue-300 overflow-x-auto"},yL={class:"mt-10 flex justify-between items-center border-t border-gray-100 pt-8"},mL=["disabled"],xL={key:0,class:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"},bL=["disabled"],_L={key:0,class:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"},wL={__name:"StoreWizard",props:{storeConfig:{type:Object,required:!0},categories:{type:Array,required:!0},routes:{type:Object,required:!0},csrfToken:String},setup(t){const e=t,r=ye(1),n=ye(!1),i=ye(""),o=yr({store_name:e.storeConfig.store_name||"",brand_color:e.storeConfig.brand_color||"#3b82f6",industry:e.storeConfig.industry||"",selected_categories:e.storeConfig.selected_categories||[],layout_preference:e.storeConfig.layout_preference||"minimal",logo:null}),s=ye(JSON.parse(JSON.stringify(e.categories))),a=[{id:"fashion",label:"Fashion",icon:"ðŸ‘—",desc:"Stylish fonts & large images"},{id:"electronics",label:"Electronics",icon:"ðŸ“±",desc:"Tech-focused & clean"},{id:"grocery",label:"Grocery",icon:"ðŸŽ",desc:"Data-dense & practical"},{id:"hardware",label:"Hardware",icon:"ðŸ› ï¸",desc:"Bold & industrial"}],l={fashion:{label:"Fashion & Apparel",icon:"ðŸ›ï¸",fonts:{heading:"Playfair Display",body:"Lato"},radius:"0px",vibe:"minimalist",colors:{primary:["#000000","#F3F4F6"]}},electronics:{label:"Electronics & Gadgets",icon:"ðŸ”Œ",fonts:{heading:"Roboto",body:"Inter"},radius:"4px",vibe:"dark_mode",colors:{primary:["#0EA5E9","#1E293B"]}},grocery:{label:"Grocery & Essentials",icon:"ðŸ¥¦",fonts:{heading:"Poppins",body:"Open Sans"},radius:"8px",vibe:"fresh",colors:{primary:["#10B981","#ECFDF5"]}},hardware:{label:"Hardware & Tools",icon:"ðŸ› ï¸",fonts:{heading:"Oswald",body:"Roboto Condensed"},radius:"2px",vibe:"bold",colors:{primary:["#F59E0B","#FFFBEB"]}}},u={high_volume:{label:"High Volume Mart",description:"Amazon Style. Fast search, dense categories. Best for large inventories.",tags:["Search","Density","Hero"],structure:["HeroBanner","SearchFocus","CategoryGrid","FeaturedProductCarousel","Footer"],wireframe:`
            <div class="h-full flex flex-col items-center justify-center p-2">
                <div class="w-full h-1/4 bg-gray-800 rounded-sm mb-2 flex items-center justify-center text-[8px] text-white/50">HERO</div>
                <div class="w-2/3 h-3 bg-white rounded shadow-sm mb-2 border border-gray-100"></div>
                <div class="grid grid-cols-4 gap-1 w-full flex-1">
                    <div class="bg-blue-50 h-full rounded border border-blue-100"></div><div class="bg-blue-50 h-full rounded border border-blue-100"></div>
                    <div class="bg-blue-50 h-full rounded border border-blue-100"></div><div class="bg-blue-50 h-full rounded border border-blue-100"></div>
                </div>
            </div>`},brand_showcase:{label:"Brand Showcase",description:"Nike Style. Emotional connection, big visuals, brand story",tags:["Hero","Story"],structure:["HeroBanner","TextBlock","FeaturedProductCarousel","Newsletter","Footer"],wireframe:`
            <div class="h-full flex flex-col">
                <div class="w-full h-3/5 bg-gray-800 flex items-center justify-center text-white/20 text-xs">HERO</div>
                <div class="w-full h-2/5 bg-white flex items-center justify-center text-[8px] text-gray-300 p-2 text-center">Brand Story Block</div>
            </div>`},quick_order:{label:"Quick Order",description:"Wholesale/B2B. List view for efficiency. No fluff.",tags:["Tabular","Fast","Hero"],structure:["HeroBanner","QuickOrderTable","Footer"],wireframe:`
            <div class="h-full p-2 bg-gray-50 flex flex-col">
                <div class="w-full h-1/4 bg-gray-800 rounded-sm mb-2 flex items-center justify-center text-[8px] text-white/50">HERO</div>
                <div class="w-full h-3 bg-gray-300 rounded mb-2"></div>
                <div class="space-y-1 flex-1">
                    <div class="w-full h-1.5 bg-white rounded border border-gray-200"></div>
                    <div class="w-full h-1.5 bg-white rounded border border-gray-200"></div>
                    <div class="w-full h-1.5 bg-white rounded border border-gray-200"></div>
                    <div class="w-full h-1.5 bg-white rounded border border-gray-200"></div>
                </div>
            </div>`}},f=ye(null),d=C=>{const _=C.target.files[0];_&&(o.logo=_,i.value=_.name)},p=C=>{if(o.industry=C,l[C]){const _=l[C].colors.primary[0];o.brand_color=_}},v=C=>{o.layout_preference=C,y(C)},y=C=>{if(!C||!u[C])return;const _=u[C],E=[],N=T=>{T.forEach(I=>{I.is_visible_online&&E.push({id:I.id,name:I.name}),I.children&&I.children.length&&N(I.children)})};N(s.value);const M=E.slice(0,3);f.value={layout_mode:C,components:_.structure,injected_data:{hero_title:`Welcome to ${o.store_name||"My Store"}`,hero_subtitle:`Browse our ${M.length} curated collections.`,highlight_categories:M},timestamp:new Date().toISOString()}},b=async()=>{const C=new FormData;C.append("step",r.value),C.append("store_name",o.store_name),C.append("brand_color",o.brand_color),o.industry&&C.append("industry",o.industry),o.layout_preference&&C.append("layout_preference",o.layout_preference),o.logo&&C.append("logo",o.logo),r.value===3&&C.append("catalog_curation",JSON.stringify(s.value));try{await st.post(e.routes.update,C,{headers:{"Content-Type":"multipart/form-data"}})}catch(_){throw console.error(_),_}},x=async()=>{if(r.value===1&&!o.store_name)return alert("Please enter a store name");if(r.value===2&&!o.industry)return alert("Please select an industry");n.value=!0;try{await b(),r.value++}catch{alert("Error saving progress. Please try again.")}finally{n.value=!1}},w=async()=>{if(!o.layout_preference)return alert("Please select a layout");n.value=!0;try{await b();const C=new FormData,_=[],E=M=>{M.forEach(T=>{T.is_visible_online&&_.push({id:T.id,name:T.name,slug:T.slug}),T.children&&T.children.length&&E(T.children)})};E(s.value),C.append("navigation_categories",JSON.stringify(_));const N=await st.post(e.routes.finish,C);N.data.success&&N.data.redirect&&(window.location.href=N.data.redirect)}catch(C){console.error(C),alert("Something went wrong generating your store. Please try again."),n.value=!1}};return kn(()=>{o.layout_preference&&y(o.layout_preference)}),(C,_)=>(B(),F("div",DF,[c("div",MF,[c("div",BF,[c("div",FF,[(B(),F(Re,null,Ke(4,E=>c("div",{key:E,class:"flex-1"},[c("div",LF,[c("div",{class:Ue(["h-full rounded-full transition-all duration-700",E<=r.value?"bg-[#0A2540]":""]),style:Hs({width:E<r.value||E===r.value?"100%":"0%"})},null,6)]),c("div",$F,[c("span",{class:Ue(["text-[10px] font-bold tracking-widest uppercase transition-colors",E<=r.value?"text-[#0A2540]":"text-gray-400"])},j(["Identity","Niche","Catalog","Layout"][E-1]),3)])])),64))])]),c("div",UF,[r.value===1?(B(),F("div",VF,[_[10]||(_[10]=c("h3",{class:"text-xl font-bold text-[#0A2540] mb-6"},"Brand Identity",-1)),c("div",jF,[c("div",null,[_[5]||(_[5]=c("label",{class:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2"},"Store Name",-1)),le(c("input",{"onUpdate:modelValue":_[0]||(_[0]=E=>o.store_name=E),type:"text",class:"block w-full input-premium py-3 px-4 rounded-xl shadow-sm border-gray-200 focus:border-[#0A2540] focus:ring-[#0A2540]/10",placeholder:"e.g. Acme Corp Marketplace",required:"",autofocus:""},null,512),[[Ee,o.store_name]])]),c("div",HF,[c("div",null,[_[6]||(_[6]=c("label",{class:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2"},"Primary Brand Color",-1)),c("div",WF,[c("div",KF,[le(c("input",{type:"color","onUpdate:modelValue":_[1]||(_[1]=E=>o.brand_color=E),class:"h-12 w-12 border-0 rounded-xl cursor-pointer p-0 overflow-hidden shadow-sm"},null,512),[[Ee,o.brand_color]])]),le(c("input",{type:"text","onUpdate:modelValue":_[2]||(_[2]=E=>o.brand_color=E),class:"block flex-1 input-premium py-3 px-4 rounded-xl shadow-sm font-mono text-sm border-gray-200"},null,512),[[Ee,o.brand_color]])])]),c("div",null,[_[9]||(_[9]=c("label",{class:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2"},"Upload Logo",-1)),c("div",qF,[c("div",GF,[_[7]||(_[7]=c("svg",{class:"mx-auto h-8 w-8 text-gray-400 group-hover:text-[#0A2540] transition-colors",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[c("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),_[8]||(_[8]=c("div",{class:"flex text-xs text-gray-600"},[c("span",{class:"relative cursor-pointer bg-white rounded-md font-bold text-[#0A2540] hover:text-navy-soft focus-within:outline-none"},"Click to upload")],-1)),i.value?(B(),F("p",zF,j(i.value),1)):_e("",!0)]),c("input",{type:"file",onChange:d,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*"},null,32)])])])])])):_e("",!0),r.value===2?(B(),F("div",XF,[_[13]||(_[13]=c("h3",{class:"text-xl font-bold text-[#0A2540] mb-2"},"Select Your Industry",-1)),_[14]||(_[14]=c("p",{class:"text-sm text-gray-500 mb-8"},"This helps us auto-configure your store's look and feel.",-1)),c("div",YF,[(B(),F(Re,null,Ke(a,E=>c("div",{key:E.id,onClick:N=>p(E.id),class:Ue([{"border-[#0A2540] ring-2 ring-[#0A2540]/10 bg-gray-50":o.industry===E.id,"border-gray-100 bg-white":o.industry!==E.id},"group p-6 border rounded-2xl cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-1 relative overflow-hidden h-full flex flex-col justify-between"])},[c("div",JF,[c("div",QF,j(E.icon),1),le(c("div",eL,[..._[11]||(_[11]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)])],512),[[Rt,o.industry===E.id]])]),c("div",null,[c("div",tL,j(E.label),1),c("div",rL,j(E.desc),1)]),_[12]||(_[12]=c("div",{class:"absolute -bottom-4 -right-4 w-20 h-20 bg-[#0A2540]/5 rounded-full blur-2xl group-hover:bg-[#0A2540]/10 transition-colors"},null,-1))],10,ZF)),64))])])):_e("",!0),r.value===3?(B(),F("div",nL,[tt(PF,{modelValue:s.value,"onUpdate:modelValue":_[3]||(_[3]=E=>s.value=E)},null,8,["modelValue"])])):_e("",!0),r.value===4?(B(),F("div",iL,[_[17]||(_[17]=c("h3",{class:"text-xl font-bold text-[#0A2540] mb-2"},"Choose Layout Style",-1)),_[18]||(_[18]=c("p",{class:"text-sm text-gray-500 mb-8"},"Select the interface that best represents your brand's experience.",-1)),c("div",oL,[(B(),F(Re,null,Ke(u,(E,N)=>c("div",{key:N,onClick:M=>v(N),class:Ue([{"border-[#0A2540] ring-4 ring-[#0A2540]/5 bg-gray-50":o.layout_preference===N,"border-gray-100 bg-white":o.layout_preference!==N},"group border-2 rounded-2xl overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-1 relative flex flex-col h-full"])},[c("div",aL,[c("div",{innerHTML:E.wireframe,class:"w-full h-full p-6 text-gray-200 group-hover:text-gray-400 transition-colors"},null,8,lL),le(c("div",uL,[..._[15]||(_[15]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)])],512),[[Rt,o.layout_preference===N]])]),c("div",cL,[c("h4",fL,j(E.label),1),c("p",dL,j(E.description),1),c("div",hL,[(B(!0),F(Re,null,Ke(E.tags,M=>(B(),F("span",{key:M,class:"text-[9px] uppercase font-black text-[#0A2540] bg-[#0A2540]/5 px-2 py-1 rounded-md tracking-widest"},j(M),1))),128))])])],10,sL)),64))]),f.value?(B(),F("div",pL,[_[16]||(_[16]=ro('<div class="bg-[#0A2540] px-4 py-2 flex items-center justify-between" data-v-903f2e13><div class="flex space-x-2" data-v-903f2e13><div class="w-3 h-3 rounded-full bg-red-400" data-v-903f2e13></div><div class="w-3 h-3 rounded-full bg-yellow-400" data-v-903f2e13></div><div class="w-3 h-3 rounded-full bg-green-400" data-v-903f2e13></div></div><div class="text-[10px] font-bold text-gray-400 uppercase tracking-widest" data-v-903f2e13>generated_theme_schema.json</div></div>',1)),c("div",gL,[c("pre",vL,j(JSON.stringify(f.value,null,2)),1)])])):_e("",!0)])):_e("",!0),c("div",yL,[le(c("button",{onClick:_[4]||(_[4]=E=>r.value--),class:"text-gray-400 hover:text-[#0A2540] font-bold text-sm uppercase tracking-widest transition-colors flex items-center group"},[..._[19]||(_[19]=[c("span",{class:"mr-2 group-hover:-translate-x-1 transition-transform"},"â†",-1),$e(" Back ",-1)])],512),[[Rt,r.value>1]]),le(c("div",null,null,512),[[Rt,r.value===1]]),le(c("button",{onClick:x,disabled:n.value,class:"bg-[#0A2540] hover:bg-navy-soft text-white font-bold py-4 px-10 rounded-xl transition shadow-lg hover:shadow-xl hover:-translate-y-0.5 flex items-center group text-sm uppercase tracking-widest disabled:opacity-50"},[n.value?(B(),F("span",xL)):_e("",!0),_[20]||(_[20]=$e(" Next Step ",-1)),_[21]||(_[21]=c("span",{class:"ml-3 group-hover:translate-x-1 transition-transform"},"â†’",-1))],8,mL),[[Rt,r.value<4]]),le(c("button",{onClick:w,disabled:n.value,class:"bg-[#0A2540] hover:bg-navy-soft text-white font-bold py-4 px-10 rounded-xl transition shadow-lg hover:shadow-xl hover:-translate-y-0.5 flex items-center animate-pulse text-sm uppercase tracking-widest disabled:opacity-50"},[n.value?(B(),F("span",_L)):_e("",!0),_[22]||(_[22]=$e(" Create My Store ",-1))],8,bL),[[Rt,r.value===4]])])])])]))}},AL=Bh(wL,[["__scopeId","data-v-903f2e13"]]),CL={class:"container mx-auto px-4 py-6"},EL={class:"flex justify-between items-center mb-6"},SL=["href"],IL={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4"},TL={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},OL={class:"lg:col-span-2 space-y-6"},kL={class:"bg-white rounded-lg shadow p-6"},NL={class:"mb-4"},RL=["value"],PL={class:"bg-white rounded-lg shadow p-6"},DL={class:"w-full text-left border-collapse"},ML={class:"py-3"},BL=["onUpdate:modelValue","onChange"],FL=["value"],LL={class:"py-3"},$L=["onUpdate:modelValue"],UL={class:"py-3"},VL={class:"relative"},jL={class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"},HL=["onUpdate:modelValue"],WL={class:"py-3 text-right font-medium"},KL={class:"py-3 text-right"},qL=["onClick"],GL={class:"lg:col-span-1 space-y-6"},zL={class:"bg-white rounded-lg shadow p-6"},XL={class:"flex justify-between py-2 text-sm"},YL={class:"font-medium"},ZL={class:"flex justify-between py-2 text-sm border-t border-gray-100 pt-2"},JL={class:"font-bold text-lg text-indigo-600"},QL={class:"bg-white rounded-lg shadow p-6"},e$={class:"mb-4"},t$={class:"mb-4"},r$=["disabled"],n$={key:0,class:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full mr-2"},i$={__name:"OrderCreate",props:{routes:{type:Object,required:!0},currencySymbol:{type:String,default:"$"}},setup(t){const e=t,r=ye([]),n=ye([]),i=ye(!1),o=ye(""),s=yr({customer_id:"",items:[{product_id:"",quantity:1,price:0}],status:"pending",payment_status:"pending",due_date:"",notes:""});kn(async()=>{try{const[v,y]=await Promise.all([st.get(e.routes.customers),st.get(e.routes.products)]);r.value=v.data,n.value=y.data}catch(v){console.error("Failed to load resources",v),o.value="Failed to load customers or products."}});const a=Gr(()=>s.items.reduce((v,y)=>v+y.price*y.quantity,0)),l=()=>{s.items.push({product_id:"",quantity:1,price:0})},u=v=>{s.items.length>1&&s.items.splice(v,1)},f=v=>{const y=s.items[v],b=n.value.find(x=>x.id===y.product_id);b&&(y.price=parseFloat(b.price||0))},d=v=>e.currencySymbol+Number(v).toFixed(2),p=async()=>{i.value=!0,o.value="";try{const v=await st.post(e.routes.store,s);window.location.href=e.routes.index}catch(v){console.error(v),v.response&&v.response.data&&v.response.data.errors?o.value=Object.values(v.response.data.errors).flat().join(" "):v.response&&v.response.data&&v.response.data.message?o.value=v.response.data.message:o.value="Failed to create order.",i.value=!1}};return(v,y)=>(B(),F("div",CL,[c("div",EL,[y[3]||(y[3]=c("h1",{class:"text-2xl font-bold text-gray-800"},"Record Credit Sale",-1)),c("a",{href:t.routes.index,class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"},"Back to List",8,SL)]),o.value?(B(),F("div",IL,j(o.value),1)):_e("",!0),c("form",{onSubmit:In(p,["prevent"])},[c("div",TL,[c("div",OL,[c("div",kL,[y[6]||(y[6]=c("h2",{class:"text-lg font-semibold mb-4 text-gray-800"},"Customer",-1)),c("div",NL,[y[5]||(y[5]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Select Customer",-1)),le(c("select",{"onUpdate:modelValue":y[0]||(y[0]=b=>s.customer_id=b),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},[y[4]||(y[4]=c("option",{value:""},"-- Choose Customer --",-1)),(B(!0),F(Re,null,Ke(r.value,b=>(B(),F("option",{key:b.id,value:b.id},j(b.name)+" ("+j(b.phone)+") ",9,RL))),128))],512),[[jt,s.customer_id]])])]),c("div",PL,[y[9]||(y[9]=c("h2",{class:"text-lg font-semibold mb-4 text-gray-800"},"Items",-1)),c("table",DL,[y[8]||(y[8]=c("thead",null,[c("tr",{class:"text-sm font-medium text-gray-500 border-b border-gray-200"},[c("th",{class:"py-2 w-1/2"},"Product"),c("th",{class:"py-2 w-20"},"Qty"),c("th",{class:"py-2 w-32"},"Price"),c("th",{class:"py-2 w-32 text-right"},"Total"),c("th",{class:"py-2 w-10"})])],-1)),c("tbody",null,[(B(!0),F(Re,null,Ke(s.items,(b,x)=>(B(),F("tr",{key:x,class:"border-b border-gray-100"},[c("td",ML,[le(c("select",{"onUpdate:modelValue":w=>b.product_id=w,onChange:w=>f(x),class:"w-full rounded border-gray-300 text-sm",required:""},[y[7]||(y[7]=c("option",{value:""},"Select Product",-1)),(B(!0),F(Re,null,Ke(n.value,w=>(B(),F("option",{key:w.id,value:w.id},j(w.name),9,FL))),128))],40,BL),[[jt,b.product_id]])]),c("td",LL,[le(c("input",{type:"number","onUpdate:modelValue":w=>b.quantity=w,min:"1",class:"w-full rounded border-gray-300 text-sm",required:""},null,8,$L),[[Ee,b.quantity,void 0,{number:!0}]])]),c("td",UL,[c("div",VL,[c("span",jL,j(t.currencySymbol),1),le(c("input",{type:"number","onUpdate:modelValue":w=>b.price=w,step:"0.01",class:"w-full rounded border-gray-300 pl-7 text-sm",required:""},null,8,HL),[[Ee,b.price,void 0,{number:!0}]])])]),c("td",WL,j(d(b.price*b.quantity)),1),c("td",KL,[c("button",{type:"button",onClick:w=>u(x),class:"text-red-500 hover:text-red-700"},"Ã—",8,qL)])]))),128))])]),c("button",{type:"button",onClick:l,class:"mt-4 px-4 py-2 bg-indigo-50 text-indigo-700 rounded hover:bg-indigo-100 text-sm font-medium"}," + Add Line Item ")])]),c("div",GL,[c("div",zL,[y[12]||(y[12]=c("h2",{class:"text-lg font-semibold mb-4 text-gray-800"},"Order Summary",-1)),c("div",XL,[y[10]||(y[10]=c("span",{class:"text-gray-600"},"Subtotal",-1)),c("span",YL,j(d(a.value)),1)]),c("div",ZL,[y[11]||(y[11]=c("span",{class:"text-gray-800 font-bold"},"Total",-1)),c("span",JL,j(d(a.value)),1)])]),c("div",QL,[y[16]||(y[16]=c("h2",{class:"text-lg font-semibold mb-4 text-gray-800"},"Sale Details",-1)),c("div",e$,[y[13]||(y[13]=c("label",{class:"block text-sm font-medium mb-1 text-gray-700"},"Payment Due Date (Optional)",-1)),le(c("input",{type:"date","onUpdate:modelValue":y[1]||(y[1]=b=>s.due_date=b),class:"w-full rounded border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Ee,s.due_date]])]),c("div",t$,[y[14]||(y[14]=c("label",{class:"block text-sm font-medium mb-1 text-gray-700"},"Notes / Reference",-1)),le(c("input",{type:"text","onUpdate:modelValue":y[2]||(y[2]=b=>s.notes=b),class:"w-full rounded border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"PO Number etc."},null,512),[[Ee,s.notes]])]),y[17]||(y[17]=ro('<div class="p-3 bg-yellow-50 rounded-md mb-4 border border-yellow-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><h3 class="text-sm font-medium text-yellow-800">Credit Sale</h3><div class="mt-2 text-sm text-yellow-700"><p>This will record the order as <strong>Pending</strong>. You can update the status to <strong>Completed</strong> later to record revenue.</p></div></div></div></div>',1)),c("button",{type:"submit",disabled:i.value,class:"w-full bg-indigo-600 text-white font-bold py-3 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 flex justify-center items-center"},[i.value?(B(),F("span",n$)):_e("",!0),y[15]||(y[15]=$e(" Record Sale ",-1))],8,r$)])])])],32)]))}},o$={class:"bg-white rounded-lg shadow"},s$={class:"p-6 border-b border-gray-200"},a$={class:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0"},l$={class:"flex space-x-2 bg-gray-100 p-1 rounded-lg"},u$=["onClick"],c$={class:"flex items-center space-x-4 w-full sm:w-auto"},f$={class:"relative w-full sm:w-64"},d$=["href"],h$={class:"mt-4 flex items-center justify-end text-xs text-gray-500"},p$={class:"flex h-2 w-2 relative mr-2"},g$={key:0,class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"},v$={class:"overflow-x-auto"},y$={class:"min-w-full divide-y divide-gray-200"},m$={class:"bg-white divide-y divide-gray-200"},x$={key:0,class:"animate-pulse"},b$={key:1},_$={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},w$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},A$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},C$={class:"px-6 py-4 whitespace-nowrap"},E$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},S$={class:"flex items-center"},I$={key:0,class:"mr-1.5 h-4 w-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},T$={key:1,class:"mr-1.5 h-4 w-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},O$={key:2,class:"mr-1.5 h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},k$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium"},N$={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},R$=["href"],P$={key:0,class:"px-6 py-4 border-t border-gray-200"},D$={class:"flex items-center justify-between"},M$={class:"text-sm text-gray-700"},B$={class:"font-medium"},F$={class:"font-medium"},L$={class:"font-medium"},$$={class:"space-x-2"},U$=["disabled"],V$=["disabled"],j$={__name:"OmniChannelOrders",props:{initialOrders:{type:Object,default:()=>({data:[]})},routes:{type:Object,required:!0},currencySymbol:{type:String,default:"$"}},setup(t){const e=(x,w)=>{let C;return function(...E){const N=()=>{clearTimeout(C),x(...E)};clearTimeout(C),C=setTimeout(N,w)}},r=t,n=ye(r.initialOrders),i=ye(!1),o=ye(!1),s=ye(null),a=[{label:"All Orders",value:"all"},{label:"Online Store",value:"storefront"},{label:"Manual Sales",value:"admin"},{label:"POS Sales List",value:"pos"}],l=yr({source:"all",search:""}),u={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},f=async(x=null)=>{o.value=!0;try{const w=x||r.routes.index,C=await st.get(w,{params:{source:l.source==="all"?null:l.source,search:l.search},headers:{Accept:"application/json"}});n.value=C.data}catch(w){console.error("Failed to fetch orders",w)}finally{o.value=!1,i.value=!1}},d=x=>{l.source=x,i.value=!0,f()},p=e(()=>{i.value=!0,f()},300),v=x=>r.currencySymbol+Number(x).toFixed(2),y=x=>{const w={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(x).toLocaleDateString(void 0,w)},b=x=>x.charAt(0).toUpperCase()+x.slice(1);return kn(()=>{s.value=setInterval(()=>{f()},15e3)}),ao(()=>{s.value&&clearInterval(s.value)}),(x,w)=>(B(),F("div",o$,[c("div",s$,[c("div",a$,[c("div",l$,[(B(),F(Re,null,Ke(a,C=>c("button",{key:C.value,onClick:_=>d(C.value),class:Ue(["px-4 py-2 text-sm font-medium rounded-md transition-colors",l.source===C.value?"bg-white text-gray-900 shadow":"text-gray-500 hover:text-gray-700"])},j(C.label),11,u$)),64))]),c("div",c$,[c("div",f$,[w[4]||(w[4]=c("span",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),le(c("input",{"onUpdate:modelValue":w[0]||(w[0]=C=>l.search=C),onInput:w[1]||(w[1]=(...C)=>En(p)&&En(p)(...C)),type:"text",placeholder:"Search orders...",class:"pl-10 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,544),[[Ee,l.search]])]),c("a",{href:t.routes.create,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," + New Order ",8,d$)])]),c("div",h$,[c("span",p$,[o.value?(B(),F("span",g$)):_e("",!0),c("span",{class:Ue(["relative inline-flex rounded-full h-2 w-2",o.value?"bg-indigo-500":"bg-green-500"])},null,2)]),$e(" "+j(o.value?"Updating...":"Live"),1)])]),c("div",v$,[c("table",y$,[w[10]||(w[10]=c("thead",{class:"bg-gray-50"},[c("tr",null,[c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Order # "),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Customer "),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Source "),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total "),c("th",{scope:"col",class:"relative px-6 py-3"},[c("span",{class:"sr-only"},"Actions")])])],-1)),c("tbody",m$,[i.value?(B(),F("tr",x$,[...w[5]||(w[5]=[c("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"Loading orders...",-1)])])):n.value.data.length===0?(B(),F("tr",b$,[...w[6]||(w[6]=[c("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"No orders found.",-1)])])):_e("",!0),(B(!0),F(Re,null,Ke(n.value.data,C=>(B(),F("tr",{key:C.id,class:"hover:bg-gray-50 transition-colors"},[c("td",_$,j(C.order_number),1),c("td",w$,j(C.customer?C.customer.name:"Guest"),1),c("td",A$,j(y(C.created_at)),1),c("td",C$,[c("span",{class:Ue(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",u[C.status]||"bg-gray-100 text-gray-800"])},j(b(C.status)),3)]),c("td",E$,[c("span",S$,[C.order_source==="storefront"?(B(),F("svg",I$,[...w[7]||(w[7]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},null,-1)])])):C.order_source==="pos"?(B(),F("svg",T$,[...w[8]||(w[8]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)])])):(B(),F("svg",O$,[...w[9]||(w[9]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])])),$e(" "+j(b(C.order_source)),1)])]),c("td",k$,j(v(C.total)),1),c("td",N$,[c("a",{href:`${t.routes.base}/${C.id}`,class:"text-indigo-600 hover:text-indigo-900"},"View",8,R$)])]))),128))])])]),n.value.data.length>0?(B(),F("div",P$,[c("div",D$,[c("div",M$,[w[11]||(w[11]=$e(" Showing ",-1)),c("span",B$,j(n.value.from),1),w[12]||(w[12]=$e(" to ",-1)),c("span",F$,j(n.value.to),1),w[13]||(w[13]=$e(" of ",-1)),c("span",L$,j(n.value.total),1),w[14]||(w[14]=$e(" results ",-1))]),c("div",$$,[c("button",{onClick:w[2]||(w[2]=C=>f(n.value.prev_page_url)),disabled:!n.value.prev_page_url,class:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"}," Previous ",8,U$),c("button",{onClick:w[3]||(w[3]=C=>f(n.value.next_page_url)),disabled:!n.value.next_page_url,class:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"}," Next ",8,V$)])])])):_e("",!0)]))}},H$={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},W$={class:"p-6 bg-white border-b border-gray-200"},K$={class:"overflow-x-auto"},q$={class:"min-w-full divide-y divide-gray-200"},G$={class:"bg-white divide-y divide-gray-200"},z$=["onClick"],X$={class:"px-6 py-4 whitespace-nowrap"},Y$={class:"px-6 py-4 whitespace-nowrap"},Z$={class:"text-sm font-medium text-gray-900"},J$={class:"text-sm text-gray-500"},Q$={class:"px-6 py-4 whitespace-nowrap"},eU={class:"text-sm text-gray-900"},tU={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},rU={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},nU=["onClick"],iU={key:0},oU={class:"mt-4"},sU={key:0,class:"fixed inset-0 z-50 overflow-hidden",role:"dialog","aria-modal":"true"},aU={class:"absolute inset-0 overflow-hidden"},lU={class:"fixed inset-y-0 right-0 pl-10 max-w-full flex"},uU={class:"h-full flex flex-col bg-white shadow-xl overflow-y-scroll"},cU={class:"py-6 px-4 sm:px-6 bg-[#0A2540]"},fU={class:"mt-1"},dU={class:"text-sm text-blue-100"},hU={class:"relative flex-1 py-6 px-4 sm:px-6"},pU={class:"space-y-6"},gU={class:"mt-1 flex items-center"},vU={class:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold uppercase mr-3"},yU={class:"text-sm font-medium text-gray-900"},mU=["href"],xU={class:"mt-1 text-sm text-gray-900 font-semibold"},bU={class:"mt-2 text-sm text-gray-900 bg-gray-50 p-4 rounded-lg whitespace-pre-wrap leading-relaxed border border-gray-100"},_U={class:"border-t border-gray-200 py-6 px-4 sm:px-6"},wU=["href"],AU={__name:"MessageInbox",props:{initialMessages:{type:Array,default:()=>[]},readUrlTemplate:{type:String,required:!0},csrfToken:String},setup(t){const e=t,r=ye([...e.initialMessages]),n=ye(!1),i=ye({}),o=async u=>{if(i.value=u,n.value=!0,!u.is_read){const f=r.value.findIndex(d=>d.id===u.id);f!==-1&&(r.value[f].is_read=!0);try{const d=e.readUrlTemplate.replace(":id",u.id);await st.post(d)}catch(d){console.error("Failed to mark message as read",d)}}},s=()=>{n.value=!1},a=u=>u?new Date(u).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"",l=(u,f)=>u?u.length>f?u.substring(0,f)+"...":u:"";return Vn(()=>e.initialMessages,u=>{r.value=[...u]}),(u,f)=>(B(),F("div",null,[c("div",H$,[c("div",W$,[c("div",K$,[c("table",q$,[f[1]||(f[1]=c("thead",{class:"bg-gray-50"},[c("tr",null,[c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Customer"),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subject"),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),c("th",{scope:"col",class:"relative px-6 py-3"},[c("span",{class:"sr-only"},"Action")])])],-1)),c("tbody",G$,[(B(!0),F(Re,null,Ke(r.value,d=>(B(),F("tr",{key:d.id,class:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:p=>o(d)},[c("td",X$,[c("span",{class:Ue(["inline-block h-3 w-3 rounded-full transition-colors duration-300",d.is_read?"bg-gray-300":"bg-blue-600"])},null,2)]),c("td",Y$,[c("div",Z$,j(d.name),1),c("div",J$,j(d.email),1)]),c("td",Q$,[c("div",eU,j(l(d.subject,40)),1)]),c("td",tU,j(a(d.created_at)),1),c("td",rU,[c("button",{onClick:In(p=>o(d),["stop"]),class:"text-indigo-600 hover:text-indigo-900"},"View",8,nU)])],8,z$))),128)),r.value.length===0?(B(),F("tr",iU,[...f[0]||(f[0]=[c("td",{colspan:"5",class:"px-6 py-12 text-center text-gray-500"}," No messages found. ",-1)])])):_e("",!0)])])]),c("div",oU,[bi(u.$slots,"pagination")])])]),(B(),Ss(om,{to:"body"},[n.value?(B(),F("div",sU,[c("div",aU,[c("div",{class:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:s,"aria-hidden":"true"}),c("div",lU,[c("div",{class:Ue(["w-screen max-w-md transform transition ease-in-out duration-500 sm:duration-700",n.value?"translate-x-0":"translate-x-full"])},[c("div",uU,[c("div",cU,[c("div",{class:"flex items-center justify-between"},[f[3]||(f[3]=c("h2",{class:"text-lg font-medium text-white"},"Message Details",-1)),c("div",{class:"ml-3 h-7 flex items-center"},[c("button",{type:"button",class:"bg-[#0A2540] rounded-md text-gray-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:s},[...f[2]||(f[2]=[c("span",{class:"sr-only"},"Close panel",-1),c("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),c("div",fU,[c("p",dU," Received on "+j(a(i.value.created_at)),1)])]),c("div",hU,[c("div",pU,[c("div",null,[f[4]||(f[4]=c("label",{class:"block text-sm font-medium text-gray-500"},"From",-1)),c("div",gU,[c("div",vU,j(i.value.name?i.value.name.charAt(0):"?"),1),c("div",null,[c("p",yU,j(i.value.name),1),c("a",{href:"mailto:"+i.value.email,class:"text-sm text-indigo-600 hover:text-indigo-900"},j(i.value.email),9,mU)])])]),c("div",null,[f[5]||(f[5]=c("label",{class:"block text-sm font-medium text-gray-500"},"Subject",-1)),c("div",xU,j(i.value.subject),1)]),c("div",null,[f[6]||(f[6]=c("label",{class:"block text-sm font-medium text-gray-500"},"Message",-1)),c("div",bU,j(i.value.message),1)])])]),c("div",_U,[c("a",{href:"mailto:"+i.value.email+"?subject=Re: "+i.value.subject,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Reply via Email ",8,wU)])])],2)])])])):_e("",!0)]))]))}},CU={class:"border-b border-gray-200 mb-6"},EU={class:"-mb-px flex space-x-8","aria-label":"Tabs"},SU={key:0,class:"bg-green-50 border-l-4 border-green-400 p-4 mb-4",role:"alert"},IU={class:"text-sm text-green-600"},TU={key:1,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-4",role:"alert"},OU={class:"text-sm text-red-600"},kU={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},NU={class:"p-6 text-gray-900"},RU={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},PU={class:"space-y-4"},DU={class:"mt-2 flex items-center justify-center w-full"},MU={class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100"},BU={class:"flex flex-col items-center justify-center pt-5 pb-6 text-center"},FU=["src"],LU={key:1},$U={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},UU={class:"p-6 text-gray-900"},VU={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},jU={class:"mt-2 text-center"},HU=["src"],WU={class:"mt-2 text-center"},KU=["src"],qU={class:"mt-4"},GU={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},zU={class:"p-6 text-gray-900"},XU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},YU={class:"inline-flex items-center cursor-pointer"},ZU={class:"inline-flex items-center cursor-pointer"},JU={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},QU={class:"p-6 text-gray-900"},eV={class:"space-y-4"},tV={class:"space-y-2 mt-2"},rV=["onUpdate:modelValue"],nV=["onUpdate:modelValue"],iV=["onClick"],oV={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},sV={class:"p-6 text-gray-900"},aV={class:"grid grid-cols-1 gap-6"},lV={class:"mt-2 text-center"},uV=["src"],cV={class:"space-y-4"},fV={class:"flex justify-between items-center mb-1"},dV=["disabled"],hV={class:"bg-gray-50 p-6 rounded-xl border border-gray-100"},pV={class:"flex justify-between items-center mb-4"},gV=["disabled"],vV={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},yV={class:"md:col-span-1"},mV={class:"md:col-span-2"},xV={class:"space-y-3 mt-2"},bV={class:"flex-1"},_V=["onUpdate:modelValue"],wV={class:"flex-1"},AV=["onUpdate:modelValue"],CV={class:"pt-5"},EV=["onClick"],SV={class:"space-y-6 mb-6"},IV={class:"p-6 text-gray-900"},TV={class:"flex justify-between items-center border-b pb-2 mb-4"},OV={class:"text-lg font-medium text-gray-900 uppercase"},kV=["onClick","disabled"],NV=["onUpdate:modelValue"],RV={class:"flex justify-end sticky bottom-4 z-10"},PV=["disabled"],DV={key:0,class:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full mr-2"},MV={__name:"StoreContent",props:{initialContent:{type:Object,default:()=>({})},initialContact:{type:Object,default:()=>({social_links:[]})},initialSplitBanner:{type:Object,default:()=>({})},initialAboutUs:{type:Object,default:()=>({stats:[]})},initialPolicies:{type:Object,default:()=>({})},showNewArrivals:{type:Boolean,default:!1},showBestSellers:{type:Boolean,default:!1},routes:{type:Object,required:!0},config:{type:Object,default:()=>({})}},setup(t){const e=t,r=ye("home"),n=ye(!1),i=ye(!1),o=ye(""),s=ye(""),a=ye(null),l=ye(null),u=ye(null),f=ye(null),d=yr({hero_title:e.initialContent.hero_title||"",hero_subtitle:e.initialContent.hero_subtitle||"",cta_text:e.initialContent.cta_text||"",hero_image:null,split_title:e.initialSplitBanner.center_text?.title||"",split_image_left:null,split_image_right:null,show_new_arrivals:e.showNewArrivals,show_best_sellers:e.showBestSellers,contact_email:e.initialContact.email||"",social_links:e.initialContact.social_links||[],about_title:e.initialAboutUs.title||"",about_content:e.initialAboutUs.content||"",about_mission_title:e.initialAboutUs.mission_title||"",about_mission_text:e.initialAboutUs.mission_text||"",about_hero_image:null,about_stats:e.initialAboutUs.stats||[],policy_faq:e.initialPolicies.faq||"",policy_shipping:e.initialPolicies.shipping||"",policy_returns:e.initialPolicies.returns||""}),p=()=>{e.initialContent.banner_image&&(a.value=v(e.initialContent.banner_image)),e.initialSplitBanner.image_left&&(l.value=v(e.initialSplitBanner.image_left)),e.initialSplitBanner.image_right&&(u.value=v(e.initialSplitBanner.image_right)),e.initialAboutUs.hero_image&&(f.value=v(e.initialAboutUs.hero_image))},v=M=>M?M.startsWith("http")?M:e.routes.media_base+"?path="+M:null,y=(M,T,I)=>{const k=M.target.files[0];if(k){d[T]=k;const V=new FileReader;V.onload=ue=>{I==="previewHero"&&(a.value=ue.target.result),I==="previewSplitLeft"&&(l.value=ue.target.result),I==="previewSplitRight"&&(u.value=ue.target.result),I==="previewAboutHero"&&(f.value=ue.target.result)},V.readAsDataURL(k)}},b=()=>{d.social_links.push({platform:"facebook",url:""})},x=M=>{d.social_links.splice(M,1)},w=()=>{d.about_stats.push({label:"",value:""})},C=M=>{d.about_stats.splice(M,1)},_=async()=>{n.value=!0,o.value="",s.value="";const M=new FormData;for(const T in d)T==="social_links"||T==="about_stats"||d[T]!==null&&d[T]!==void 0&&(typeof d[T]=="boolean"?M.append(T,d[T]?"1":"0"):M.append(T,d[T]));d.social_links.forEach((T,I)=>{M.append(`social_links[${I}][platform]`,T.platform),M.append(`social_links[${I}][url]`,T.url)}),d.about_stats.forEach((T,I)=>{M.append(`about_stats[${I}][label]`,T.label),M.append(`about_stats[${I}][value]`,T.value)});try{await st.post(e.routes.update,M,{headers:{"Content-Type":"multipart/form-data"}}),o.value="Store content updated successfully!",window.scrollTo(0,0)}catch(T){console.error(T),T.response&&T.response.data&&T.response.data.errors?s.value=Object.values(T.response.data.errors).flat().join(" "):s.value="Failed to update content.",window.scrollTo(0,0)}finally{n.value=!1}},E=async M=>{i.value=!0,await new Promise(ue=>setTimeout(ue,800));const T=e.config.industry||"fashion",I=e.config.store_name||"Our Store";let k={fashion:{mission:"To empower individuals to express their unique identity through timeless style.",story:`We started ${I} with a simple belief: fashion should be accessible, sustainable, and personal.`,mission_title:"Our Mission"},electronics:{mission:"Bringing the future to your doorstep with cutting-edge technology.",story:`Technology moves fast. At ${I}, we curate the best gadgets to help you stay ahead of the curve.`,mission_title:"Our Mission"},grocery:{mission:"Farm-fresh quality for healthy, happy families.",story:"We believe good food brings people together. Thatâ€™s why we source only the freshest ingredients from trusted local farmers and deliver them straight to your table.",mission_title:"Our Mission"}};const V=k[T.toLowerCase()]||k.fashion;M==="mission"?(d.about_mission_text=V.mission,d.about_mission_title||(d.about_mission_title=V.mission_title)):M==="content"&&(d.about_content=V.story),i.value=!1},N=async M=>{i.value=!0;try{const T=await st.post(e.routes.generate_policy,{type:M});T.data.content&&(d["policy_"+M]=T.data.content)}catch{alert("Failed to generate policy.")}finally{i.value=!1}};return kn(()=>{p()}),(M,T)=>(B(),F("div",null,[c("div",CU,[c("nav",EU,[c("button",{onClick:T[0]||(T[0]=I=>r.value="home"),class:Ue([r.value==="home"?"border-[#0A2540] text-[#0A2540]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"])}," Home Content ",2),c("button",{onClick:T[1]||(T[1]=I=>r.value="pages"),class:Ue([r.value==="pages"?"border-[#0A2540] text-[#0A2540]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"])}," Page Content ",2),c("button",{onClick:T[2]||(T[2]=I=>r.value="policies"),class:Ue([r.value==="policies"?"border-[#0A2540] text-[#0A2540]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"])}," Store Policies ",2)])]),o.value?(B(),F("div",SU,[T[20]||(T[20]=c("p",{class:"font-bold text-green-700"},"Success",-1)),c("p",IU,j(o.value),1)])):_e("",!0),s.value?(B(),F("div",TU,[T[21]||(T[21]=c("p",{class:"font-bold text-red-700"},"Error",-1)),c("p",OU,j(s.value),1)])):_e("",!0),c("form",{onSubmit:In(_,["prevent"])},[le(c("div",null,[c("div",kU,[c("div",NU,[T[27]||(T[27]=c("h3",{class:"text-lg font-medium text-gray-900 border-b pb-2 mb-4"},"Hero Section",-1)),c("div",RU,[c("div",PU,[c("div",null,[T[22]||(T[22]=c("label",{class:"block text-sm font-medium text-gray-700"},"Main Headline",-1)),le(c("input",{type:"text","onUpdate:modelValue":T[3]||(T[3]=I=>d.hero_title=I),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Ee,d.hero_title]])]),c("div",null,[T[23]||(T[23]=c("label",{class:"block text-sm font-medium text-gray-700"},"Sub-Headline",-1)),le(c("textarea",{"onUpdate:modelValue":T[4]||(T[4]=I=>d.hero_subtitle=I),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Ee,d.hero_subtitle]])]),c("div",null,[T[24]||(T[24]=c("label",{class:"block text-sm font-medium text-gray-700"},"Call to Action Text",-1)),le(c("input",{type:"text","onUpdate:modelValue":T[5]||(T[5]=I=>d.cta_text=I),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Ee,d.cta_text]])])]),c("div",null,[T[26]||(T[26]=c("label",{class:"block text-sm font-medium text-gray-700"},"Hero Image",-1)),c("div",DU,[c("label",MU,[c("div",BU,[a.value?(B(),F("img",{key:0,src:a.value,class:"h-48 object-cover rounded-md mb-2"},null,8,FU)):(B(),F("div",LU,[...T[25]||(T[25]=[c("svg",{class:"w-8 h-8 mb-4 text-gray-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),c("p",{class:"text-sm text-gray-500"},"Click to upload",-1)])]))]),c("input",{type:"file",class:"hidden",accept:"image/*",onChange:T[6]||(T[6]=I=>y(I,"hero_image","previewHero"))},null,32)])])])])])]),c("div",$U,[c("div",UU,[T[31]||(T[31]=c("h3",{class:"text-lg font-medium text-gray-900 border-b pb-2 mb-4"},"Promotional Banners (Split Banner)",-1)),c("div",VU,[c("div",null,[T[28]||(T[28]=c("label",{class:"block text-sm font-medium text-gray-700"},"Left Image",-1)),c("div",jU,[l.value?(B(),F("img",{key:0,src:l.value,class:"h-32 object-cover rounded-md mx-auto mb-2"},null,8,HU)):_e("",!0),c("input",{type:"file",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",accept:"image/*",onChange:T[7]||(T[7]=I=>y(I,"split_image_left","previewSplitLeft"))},null,32)])]),c("div",null,[T[29]||(T[29]=c("label",{class:"block text-sm font-medium text-gray-700"},"Right Image",-1)),c("div",WU,[u.value?(B(),F("img",{key:0,src:u.value,class:"h-32 object-cover rounded-md mx-auto mb-2"},null,8,KU)):_e("",!0),c("input",{type:"file",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",accept:"image/*",onChange:T[8]||(T[8]=I=>y(I,"split_image_right","previewSplitRight"))},null,32)])])]),c("div",qU,[T[30]||(T[30]=c("label",{class:"block text-sm font-medium text-gray-700"},"Center Title",-1)),le(c("input",{type:"text","onUpdate:modelValue":T[9]||(T[9]=I=>d.split_title=I),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Ee,d.split_title]])])])]),c("div",GU,[c("div",zU,[T[36]||(T[36]=c("h3",{class:"text-lg font-medium text-gray-900 border-b pb-2 mb-4"},"Section Visibility",-1)),c("div",XU,[c("label",YU,[le(c("input",{type:"checkbox","onUpdate:modelValue":T[10]||(T[10]=I=>d.show_new_arrivals=I),class:"sr-only peer"},null,512),[[tn,d.show_new_arrivals]]),T[32]||(T[32]=c("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"},null,-1)),T[33]||(T[33]=c("span",{class:"ms-3 text-sm font-medium text-gray-900"},"Show New Arrivals",-1))]),c("label",ZU,[le(c("input",{type:"checkbox","onUpdate:modelValue":T[11]||(T[11]=I=>d.show_best_sellers=I),class:"sr-only peer"},null,512),[[tn,d.show_best_sellers]]),T[34]||(T[34]=c("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"},null,-1)),T[35]||(T[35]=c("span",{class:"ms-3 text-sm font-medium text-gray-900"},"Show Best Sellers",-1))])])])]),c("div",JU,[c("div",QU,[T[42]||(T[42]=c("h3",{class:"text-lg font-medium text-gray-900 border-b pb-2 mb-4"},"Contact Info",-1)),c("div",eV,[c("div",null,[T[37]||(T[37]=c("label",{class:"block text-sm font-medium text-gray-700"},"Support Email",-1)),le(c("input",{type:"email","onUpdate:modelValue":T[12]||(T[12]=I=>d.contact_email=I),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Ee,d.contact_email]])]),c("div",null,[T[41]||(T[41]=c("label",{class:"block text-sm font-medium text-gray-700"},"Social Media Links",-1)),c("div",tV,[(B(!0),F(Re,null,Ke(d.social_links,(I,k)=>(B(),F("div",{key:k,class:"flex gap-2"},[le(c("select",{"onUpdate:modelValue":V=>I.platform=V,class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-1/3"},[...T[38]||(T[38]=[ro('<option value="facebook">Facebook</option><option value="instagram">Instagram</option><option value="twitter">Twitter/X</option><option value="linkedin">LinkedIn</option><option value="tiktok">TikTok</option><option value="youtube">YouTube</option>',6)])],8,rV),[[jt,I.platform]]),le(c("input",{type:"url","onUpdate:modelValue":V=>I.url=V,placeholder:"https://...",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm flex-1"},null,8,nV),[[Ee,I.url]]),c("button",{type:"button",onClick:V=>x(k),class:"text-red-500 hover:text-red-700"},[...T[39]||(T[39]=[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,iV)]))),128)),c("button",{type:"button",onClick:b,class:"mt-2 text-sm text-indigo-600 hover:text-indigo-900 font-medium flex items-center"},[...T[40]||(T[40]=[c("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),$e(" Add Social Link ",-1)])])])])])])])],512),[[Rt,r.value==="home"]]),le(c("div",null,[c("div",oV,[c("div",sV,[T[54]||(T[54]=c("div",{class:"flex justify-between items-center border-b pb-2 mb-4"},[c("h3",{class:"text-lg font-medium text-gray-900"},"About Us Page"),c("span",{class:"bg-gray-100 text-gray-600 text-xs font-mono px-2 py-1 rounded"},"/about-us")],-1)),c("div",aV,[c("div",null,[T[43]||(T[43]=c("label",{class:"block text-sm font-medium text-gray-700"},"About Hero Image",-1)),c("div",lV,[f.value?(B(),F("img",{key:0,src:f.value,class:"h-32 object-cover rounded-md mx-auto mb-2"},null,8,uV)):_e("",!0),c("input",{type:"file",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",accept:"image/*",onChange:T[13]||(T[13]=I=>y(I,"about_hero_image","previewAboutHero"))},null,32)])]),c("div",cV,[c("div",null,[T[44]||(T[44]=c("label",{class:"block text-sm font-medium text-gray-700"},"Page Headline",-1)),le(c("input",{type:"text","onUpdate:modelValue":T[14]||(T[14]=I=>d.about_title=I),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Ee,d.about_title]])]),c("div",null,[c("div",fV,[T[45]||(T[45]=c("label",{class:"block text-sm font-medium text-gray-700"},"Main Story (Content)",-1)),c("button",{type:"button",onClick:T[15]||(T[15]=I=>E("content")),disabled:i.value,class:"text-xs font-bold text-white bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 px-3 py-1 rounded-full shadow-md transition transform hover:scale-105 disabled:opacity-50"},j(i.value?"Generating...":"âœ¨ AI Suggest"),9,dV)]),le(c("textarea",{"onUpdate:modelValue":T[16]||(T[16]=I=>d.about_content=I),rows:"6",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Ee,d.about_content]])])]),c("div",hV,[c("div",pV,[T[46]||(T[46]=c("h4",{class:"text-md font-bold text-gray-900"},"Mission Statement",-1)),c("button",{type:"button",onClick:T[17]||(T[17]=I=>E("mission")),disabled:i.value,class:"text-xs font-bold text-white bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 px-3 py-1 rounded-full shadow-md transition transform hover:scale-105 disabled:opacity-50"},j(i.value?"Generating...":"âœ¨ AI Suggest"),9,gV)]),c("div",vV,[c("div",yV,[T[47]||(T[47]=c("label",{class:"block text-sm font-medium text-gray-700"},"Mission Title",-1)),le(c("input",{type:"text","onUpdate:modelValue":T[18]||(T[18]=I=>d.about_mission_title=I),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Ee,d.about_mission_title]])]),c("div",mV,[T[48]||(T[48]=c("label",{class:"block text-sm font-medium text-gray-700"},"Mission Text",-1)),le(c("textarea",{"onUpdate:modelValue":T[19]||(T[19]=I=>d.about_mission_text=I),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Ee,d.about_mission_text]])])])]),c("div",null,[T[53]||(T[53]=c("label",{class:"block text-sm font-medium text-gray-700"},"Company Stats",-1)),c("div",xV,[(B(!0),F(Re,null,Ke(d.about_stats,(I,k)=>(B(),F("div",{key:k,class:"flex items-center gap-3 bg-gray-50 p-3 rounded-lg border border-gray-100"},[c("div",bV,[T[49]||(T[49]=c("label",{class:"block text-xs text-gray-500 mb-1"},"Label",-1)),le(c("input",{type:"text","onUpdate:modelValue":V=>I.label=V,class:"block w-full text-sm border-gray-300 rounded-md shadow-sm"},null,8,_V),[[Ee,I.label]])]),c("div",wV,[T[50]||(T[50]=c("label",{class:"block text-xs text-gray-500 mb-1"},"Value",-1)),le(c("input",{type:"text","onUpdate:modelValue":V=>I.value=V,class:"block w-full text-sm font-bold border-gray-300 rounded-md shadow-sm"},null,8,AV),[[Ee,I.value]])]),c("div",CV,[c("button",{type:"button",onClick:V=>C(k),class:"text-red-400 hover:text-red-600"},[...T[51]||(T[51]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,EV)])]))),128))]),c("button",{type:"button",onClick:w,class:"mt-3 text-sm text-[#0A2540] hover:text-indigo-600 font-bold flex items-center bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg inline-block"},[...T[52]||(T[52]=[c("svg",{class:"w-4 h-4 mr-1 inline-block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),$e(" Add Metric ",-1)])])])])])])],512),[[Rt,r.value==="pages"]]),le(c("div",null,[c("div",SV,[(B(),F(Re,null,Ke(["faq","shipping","returns"],I=>c("div",{key:I,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},[c("div",IV,[c("div",TV,[c("h3",OV,j(I)+" Policy",1),c("button",{type:"button",onClick:k=>N(I),disabled:i.value,class:"text-xs font-bold text-white bg-gradient-to-r from-teal-500 to-emerald-600 hover:from-teal-600 hover:to-emerald-700 px-3 py-1 rounded-full shadow-md transition transform hover:scale-105 disabled:opacity-50"},j(i.value?"Writing...":"âœ¨ Auto Populate"),9,kV)]),le(c("textarea",{"onUpdate:modelValue":k=>d["policy_"+I]=k,rows:"10",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm font-mono text-sm"},null,8,NV),[[Ee,d["policy_"+I]]])])])),64))])],512),[[Rt,r.value==="policies"]]),c("div",RV,[c("button",{type:"submit",disabled:n.value,class:"bg-[#0A2540] hover:bg-gray-800 text-white font-bold py-3 px-8 rounded-full shadow-xl hover:shadow-2xl transition transform hover:-translate-y-1 flex items-center"},[n.value?(B(),F("span",DV)):_e("",!0),T[55]||(T[55]=$e(" Save Changes ",-1))],8,PV)])],32)]))}};function BV(t,e,r){if(!t||typeof t!="object")return t;const n=JSON.parse(JSON.stringify(t)),i=e.replace(/\[(\d+)\]/g,".$1").split(".");let o=n;for(let s=0;s<i.length;s++){const a=i[s];s===i.length-1?o[a]=r:(o[a]||(o[a]=isNaN(i[s+1])?{}:[]),o=o[a])}return n}const FV={isEditMode:!1,liveConfig:{},draftConfig:{},init(){window.themeConfig&&(this.liveConfig=JSON.parse(JSON.stringify(window.themeConfig)),this.draftConfig=JSON.parse(JSON.stringify(window.themeConfig))),document.addEventListener("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.key==="e"&&(t.preventDefault(),this.toggleEditMode())})},toggleEditMode(){this.isEditMode=!this.isEditMode,console.log("Edit Mode:",this.isEditMode?"ON":"OFF")},updateField(t,e){console.log(`[CMS] Updating ${t} to:`,e),this.draftConfig=BV(this.draftConfig,t,e),window.dispatchEvent(new CustomEvent("cms-update",{detail:{path:t,value:e}}))},saveChanges(){console.log("Saving config:",this.draftConfig),alert("Configuration saved! (Mock)"),this.liveConfig=JSON.parse(JSON.stringify(this.draftConfig))},resetChanges(){confirm("Discard unsaved changes?")&&(this.draftConfig=JSON.parse(JSON.stringify(this.liveConfig)))},get hasUnsavedChanges(){return JSON.stringify(this.liveConfig)!==JSON.stringify(this.draftConfig)}},LV=(t,e="text")=>({path:t,type:e,isEditing:!1,originalContent:"",init(){this.originalContent=this.$el.innerText.trim()},get isEditMode(){return Alpine.store("editor").isEditMode},get content(){return this.$el.innerText},startEditing(){this.isEditMode&&(this.isEditing=!0,this.$nextTick(()=>{this.$refs.input&&this.$refs.input.focus()}))},save(){const r=this.$refs.input.value;this.isEditing=!1,Alpine.store("editor").updateField(this.path,r)},cancel(){this.isEditing=!1}}),$V={class:"bg-white rounded-lg shadow p-8"},UV={key:0,class:"mb-6 p-4 bg-green-50 rounded-md"},VV={class:"flex"},jV={class:"ml-3"},HV={class:"text-sm font-medium text-green-800"},WV={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},KV={class:"md:col-span-2"},qV=["value"],GV={key:0,class:"text-red-500 text-xs mt-1"},zV=["disabled"],XV=["value"],YV={key:0,class:"mt-1"},ZV={class:"font-bold"},JV={key:1,class:"text-red-500 text-xs mt-1"},QV=["value","disabled"],ej={key:0,class:"text-red-500 text-xs mt-1"},tj=["max"],rj={key:0,class:"text-xs text-gray-500 mt-1"},nj={key:1,class:"text-red-500 text-xs mt-1"},ij={class:"md:col-span-2"},oj={key:0,class:"text-red-500 text-xs mt-1"},sj={class:"mt-8 flex justify-end space-x-4"},aj=["disabled"],lj={key:0},uj={key:1},cj={__name:"StockTransferForm",props:{initialProducts:{type:Array,required:!0},initialWarehouses:{type:Array,required:!0},tenantSlug:{type:String,required:!0}},setup(t){const e=t,r=ye(e.initialProducts),n=ye(e.initialWarehouses),i=ye(!1),o=ye(""),s=yr({}),a=yr({product_id:"",from_warehouse_id:"",to_warehouse_id:"",quantity:"",notes:""}),l=Gr(()=>{if(!a.product_id||!a.from_warehouse_id)return null;const p=r.value.find(y=>y.id==a.product_id);if(!p||!p.warehouses)return 0;const v=p.warehouses.find(y=>y.id==a.from_warehouse_id);return v&&v.pivot?Number(v.pivot.quantity):0}),u=Gr(()=>a.product_id&&a.from_warehouse_id&&a.to_warehouse_id&&a.from_warehouse_id!==a.to_warehouse_id&&a.quantity>0&&l.value!==null&&a.quantity<=l.value),f=()=>{a.from_warehouse_id="",a.to_warehouse_id="",a.quantity="",delete s.from_warehouse_id,delete s.to_warehouse_id,delete s.quantity},d=async()=>{if(u.value){i.value=!0,Object.keys(s).forEach(p=>delete s[p]),o.value="";try{const p=await st.post(`/${e.tenantSlug}/admin/stock-transfers`,a);o.value="Stock transfer request created successfully!",setTimeout(()=>{window.location.href=`/${e.tenantSlug}/admin/stock-transfers`},1500)}catch(p){p.response&&p.response.status===422?Object.assign(s,p.response.data.errors):alert(p.response?.data?.message||"An error occurred while creating the transfer.")}finally{i.value=!1}}};return(p,v)=>(B(),F("div",$V,[o.value?(B(),F("div",UV,[c("div",VV,[v[5]||(v[5]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),c("div",jV,[c("p",HV,j(o.value),1)])])])):_e("",!0),c("form",{onSubmit:In(d,["prevent"])},[c("div",WV,[c("div",KV,[v[7]||(v[7]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Product *",-1)),le(c("select",{"onUpdate:modelValue":v[0]||(v[0]=y=>a.product_id=y),onChange:f,class:Ue(["w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",{"border-red-500":s.product_id}])},[v[6]||(v[6]=c("option",{value:""},"Select Product",-1)),(B(!0),F(Re,null,Ke(r.value,y=>(B(),F("option",{key:y.id,value:y.id},j(y.name)+" (SKU: "+j(y.sku)+") ",9,qV))),128))],34),[[jt,a.product_id]]),s.product_id?(B(),F("p",GV,j(s.product_id),1)):_e("",!0)]),c("div",null,[v[11]||(v[11]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"From Warehouse *",-1)),le(c("select",{"onUpdate:modelValue":v[1]||(v[1]=y=>a.from_warehouse_id=y),disabled:!a.product_id,class:Ue(["w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",{"border-red-500":s.from_warehouse_id,"bg-gray-100":!a.product_id}])},[v[8]||(v[8]=c("option",{value:""},"Select Source Warehouse",-1)),(B(!0),F(Re,null,Ke(n.value,y=>(B(),F("option",{key:y.id,value:y.id},j(y.name)+" ("+j(y.code)+") ",9,XV))),128))],10,zV),[[jt,a.from_warehouse_id]]),l.value!==null?(B(),F("div",YV,[c("p",{class:Ue(["text-sm",l.value>0?"text-green-600":"text-red-600"])},[v[9]||(v[9]=$e(" Available: ",-1)),c("span",ZV,j(l.value),1),v[10]||(v[10]=$e(" units ",-1))],2)])):_e("",!0),s.from_warehouse_id?(B(),F("p",JV,j(s.from_warehouse_id),1)):_e("",!0)]),c("div",null,[v[13]||(v[13]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"To Warehouse *",-1)),le(c("select",{"onUpdate:modelValue":v[2]||(v[2]=y=>a.to_warehouse_id=y),class:Ue(["w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",{"border-red-500":s.to_warehouse_id}])},[v[12]||(v[12]=c("option",{value:""},"Select Destination Warehouse",-1)),(B(!0),F(Re,null,Ke(n.value,y=>(B(),F("option",{key:y.id,value:y.id,disabled:y.id===a.from_warehouse_id},j(y.name)+" ("+j(y.code)+") ",9,QV))),128))],2),[[jt,a.to_warehouse_id]]),s.to_warehouse_id?(B(),F("p",ej,j(s.to_warehouse_id),1)):_e("",!0)]),c("div",null,[v[14]||(v[14]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Quantity *",-1)),le(c("input",{type:"number","onUpdate:modelValue":v[3]||(v[3]=y=>a.quantity=y),min:"1",max:l.value,class:Ue(["w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",{"border-red-500":s.quantity}])},null,10,tj),[[Ee,a.quantity,void 0,{number:!0}]]),l.value!==null&&a.quantity>0&&a.quantity<=l.value?(B(),F("p",rj," Remaining after transfer: "+j(l.value-a.quantity)+" units ",1)):_e("",!0),s.quantity?(B(),F("p",nj,j(s.quantity),1)):_e("",!0)]),c("div",ij,[v[15]||(v[15]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Notes (Optional)",-1)),le(c("textarea",{"onUpdate:modelValue":v[4]||(v[4]=y=>a.notes=y),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Add any relevant notes about this transfer..."},null,512),[[Ee,a.notes]]),s.notes?(B(),F("p",oj,j(s.notes),1)):_e("",!0)])]),c("div",sj,[v[17]||(v[17]=c("a",{href:"/admin/stock-transfers",class:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition cursor-pointer"}," Cancel ",-1)),c("button",{type:"submit",disabled:i.value||!u.value,class:Ue(["px-6 py-2 text-white rounded-lg transition",u.value&&!i.value?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-400 cursor-not-allowed"])},[i.value?(B(),F("span",lj,[...v[16]||(v[16]=[c("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),$e("Processing... ",-1)])])):(B(),F("span",uj," Create Transfer Request "))],10,aj)])],32)]))}};window.OfflineManager=rv;window.Alpine=cc;const nb=yr({sidebarOpen:!1});window.uiState=nb;const Ht=Hu({setup(){return{uiState:nb}}});Ht.component("stock-transfer-form",cj);Ht.component("storefront-settings",j2);Ht.component("purchase-order-form",F5);Ht.component("notification-dropdown",z5);Ht.component("user-dropdown",aI);Ht.component("sidebar-toggle",lI);Ht.component("mobile-sidebar",cI);Ht.component("mobile-bottom-nav",yI);Ht.component("offline-indicator",wI);Ht.component("outstanding-payments",cO);Ht.component("product-list",$7);Ht.component("product-form",Kk);Ht.component("bulk-upload-manager",E9);Ht.component("pos-system",pM);Ht.component("customer-display",RM);Ht.component("general-settings",vF);Ht.component("store-wizard",AL);Ht.component("order-create",i$);Ht.component("omni-channel-orders",j$);Ht.component("message-inbox",AU);Ht.component("store-content",MV);Ht.mount("#app");cc.store("editor",FV);cc.data("editable",LV);cc.start();
